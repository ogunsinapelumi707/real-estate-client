import{r as vt,a as io,L as Me,u as ou,R as Si,c as se,b as ro,A as Li,O as as,N as au,d as su,e as Jn,g as lu,f as ss,h as uu,i as cu}from"./vendor-D9Ym8Xqz.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const _ of s)if(_.type==="childList")for(const g of _.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&i(g)}).observe(document,{childList:!0,subtree:!0});function o(s){const _={};return s.integrity&&(_.integrity=s.integrity),s.referrerPolicy&&(_.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?_.credentials="include":s.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function i(s){if(s.ep)return;s.ep=!0;const _=o(s);fetch(s.href,_)}})();var ls={exports:{}},Di={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fu=vt,hu=Symbol.for("react.element"),du=Symbol.for("react.fragment"),pu=Object.prototype.hasOwnProperty,mu=fu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vu={key:!0,ref:!0,__self:!0,__source:!0};function us(r,a,o){var i,s={},_=null,g=null;o!==void 0&&(_=""+o),a.key!==void 0&&(_=""+a.key),a.ref!==void 0&&(g=a.ref);for(i in a)pu.call(a,i)&&!vu.hasOwnProperty(i)&&(s[i]=a[i]);if(r&&r.defaultProps)for(i in a=r.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return{$$typeof:hu,type:r,key:_,ref:g,props:s,_owner:mu.current}}Di.Fragment=du;Di.jsx=us;Di.jsxs=us;ls.exports=Di;var A=ls.exports,qr={},sa=io;qr.createRoot=sa.createRoot,qr.hydrateRoot=sa.hydrateRoot;const gu=["buy","rent"];function _u(){const[r,a]=vt.useState({type:"buy",city:"",minPrice:0,maxPrice:0}),o=s=>{a(_=>({..._,type:s}))},i=s=>{a(_=>({..._,[s.target.name]:[s.target.value]}))};return A.jsxs("div",{className:"searchBar",children:[A.jsx("div",{className:"type",children:gu.map(s=>A.jsx("button",{onClick:()=>o(s),className:r.type===s?"active":"",children:s},s))}),A.jsxs("form",{children:[A.jsx("input",{type:"text",name:"city",placeholder:"City Location",onChange:i}),A.jsx("input",{type:"number",name:"minPrice",min:0,max:1e7,placeholder:"Min Price",onChange:i}),A.jsx("input",{type:"number",name:"maxPrice",min:0,max:1e7,placeholder:"Max Price",onChange:i}),A.jsx(Me,{to:`/list?type=${r.type}&city=${r.city}&minPrice=${r.minPrice}&maxPrice=${r.maxPrice}`,children:A.jsx("button",{children:A.jsx("img",{src:"/search.png",alt:""})})})]})]})}const Ie=vt.createContext(),yu=({children:r})=>{const[a,o]=vt.useState(()=>{const s=localStorage.getItem("userInfo");if(console.log("Stored user info:",s),s)try{return JSON.parse(s)}catch(_){return console.error("Failed to parse stored user info:",_),null}return null}),i=s=>{console.log("Updating user:",s),o(s)};return vt.useEffect(()=>{if(a!==null){console.log("currentUser changed:",a);try{localStorage.setItem("userInfo",JSON.stringify(a))}catch(s){console.error("Failed to stringify and store currentUser:",s)}}},[a]),A.jsx(Ie.Provider,{value:{currentUser:a,updateUser:i},children:r})};function bu(){const{currentUser:r}=vt.useContext(Ie);return console.log("current",r),A.jsxs("div",{className:"homePage",children:[A.jsx("div",{className:"textContainer",children:A.jsxs("div",{className:"wrapper",children:[A.jsx("h1",{className:"title",children:"Find Real Estate & Get Your Dream Place"}),A.jsx("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos explicabo suscipit cum eius, iure est nulla animi consequatur facilis id pariatur fugit quos laudantium temporibus dolor ea repellat provident impedit!"}),A.jsx(_u,{}),A.jsxs("div",{className:"boxes",children:[A.jsxs("div",{className:"box",children:[A.jsx("h1",{children:"16+"}),A.jsx("h2",{children:"Years of Experience"})]}),A.jsxs("div",{className:"box",children:[A.jsx("h1",{children:"200"}),A.jsx("h2",{children:"Award Gained"})]}),A.jsxs("div",{className:"box",children:[A.jsx("h1",{children:"2000+"}),A.jsx("h2",{children:"Property Ready"})]})]})]})}),A.jsx("div",{className:"imgContainer",children:A.jsx("img",{src:"/bg.png",alt:""})})]})}function xu(){const[r,a]=ou(),[o,i]=vt.useState({type:r.get("type")||"",city:r.get("city")||"",property:r.get("property")||"",minPrice:parseInt(r.get("minPrice"))||0,maxPrice:parseInt(r.get("maxPrice"))||1e7,bedroom:parseInt(r.get("bedroom"))||1}),s=g=>{i({...o,[g.target.name]:g.target.value})},_=()=>{a(o)};return A.jsxs("div",{className:"filter",children:[A.jsxs("h1",{children:["Search results for ",A.jsx("b",{children:o.city})]}),A.jsx("div",{className:"top",children:A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"city",children:"Location"}),A.jsx("input",{type:"text",id:"city",name:"city",placeholder:"City Location",onChange:s,defaultValue:o.city})]})}),A.jsxs("div",{className:"bottom",children:[A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"type",children:"Type"}),A.jsxs("select",{name:"type",id:"type",onChange:s,defaultValue:o.type,children:[A.jsx("option",{value:"buy",children:"Buy"}),A.jsx("option",{value:"rent",children:"Rent"})]})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"property",children:"Property"}),A.jsxs("select",{name:"property",id:"property",onChange:s,defaultValue:o.property,children:[A.jsx("option",{value:"",children:"any"}),A.jsx("option",{value:"apartment",children:"Apartment"}),A.jsx("option",{value:"house",children:"House"}),A.jsx("option",{value:"condo",children:"Condo"}),A.jsx("option",{value:"land",children:"Land"})]})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"minPrice",children:"Min Price"}),A.jsx("input",{type:"number",id:"minPrice",name:"minPrice",placeholder:"any",onChange:s,defaultValue:o.minPrice})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"maxPrice",children:"Max Price"}),A.jsx("input",{type:"text",id:"maxPrice",name:"maxPrice",placeholder:"any",onChange:s,defaultValue:o.maxPrice})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"bedroom",children:"Bedroom"}),A.jsx("input",{type:"text",id:"bedroom",name:"bedroom",placeholder:"Bedroom",onChange:s,defaultValue:o.bedroom})]}),A.jsx("button",{onClick:_,children:A.jsx("img",{src:"/search.png",alt:""})})]})]})}function cs({item:r}){return A.jsxs("div",{className:"card",children:[A.jsx(Me,{to:`/${r.id}`,className:"imageContainer",children:A.jsx("img",{src:r.images&&r.images[0]?r.images[0]:"/placeholder.png",alt:""})}),A.jsxs("div",{className:"textContainer",children:[A.jsx("h2",{className:"title",children:A.jsx(Me,{to:`/${r.id}`,children:r.title})}),A.jsxs("p",{className:"address",children:[A.jsx("img",{src:"/pin.png",alt:""}),A.jsx("span",{children:r.address})]}),A.jsxs("p",{className:"price",children:["$ ",r.price]}),A.jsxs("div",{className:"bottom",children:[A.jsxs("div",{className:"features",children:[A.jsxs("div",{className:"feature",children:[A.jsx("img",{src:"/bed.png",alt:""}),A.jsxs("span",{children:[r.bedroom," bedroom"]})]}),A.jsxs("div",{className:"feature",children:[A.jsx("img",{src:"/bath.png",alt:""}),A.jsxs("span",{children:[r.bathroom," bathroom"]})]})]}),A.jsxs("div",{className:"icons",children:[A.jsx("div",{className:"icon",children:A.jsx("img",{src:"/save.png",alt:""})}),A.jsx("div",{className:"icon",children:A.jsx("img",{src:"/chat.png",alt:""})})]})]})]})]})}function fs(r,a){const o=vt.useRef(a);vt.useEffect(function(){a!==o.current&&r.attributionControl!=null&&(o.current!=null&&r.attributionControl.removeAttribution(o.current),a!=null&&r.attributionControl.addAttribution(a)),o.current=a},[r,a])}const wu=1;function Eu(r){return Object.freeze({__version:wu,map:r})}function Ou(r,a){return Object.freeze({...r,...a})}const hs=vt.createContext(null),ds=hs.Provider;function ps(){const r=vt.useContext(hs);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function Tu(r){function a(o,i){const{instance:s,context:_}=r(o).current;return vt.useImperativeHandle(i,()=>s),o.children==null?null:Si.createElement(ds,{value:_},o.children)}return vt.forwardRef(a)}function Pu(r){function a(o,i){const[s,_]=vt.useState(!1),{instance:g}=r(o,_).current;vt.useImperativeHandle(i,()=>g),vt.useEffect(function(){s&&g.update()},[g,s,o.children]);const T=g._contentNode;return T?io.createPortal(o.children,T):null}return vt.forwardRef(a)}function Au(r){function a(o,i){const{instance:s}=r(o).current;return vt.useImperativeHandle(i,()=>s),null}return vt.forwardRef(a)}function ms(r,a){const o=vt.useRef();vt.useEffect(function(){return a!=null&&r.instance.on(a),o.current=a,function(){o.current!=null&&r.instance.off(o.current),o.current=null}},[r,a])}function oo(r,a){const o=r.pane??a.pane;return o?{...r,pane:o}:r}function Su(r,a){return function(i,s){const _=ps(),g=r(oo(i,_),_);return fs(_.map,i.attribution),ms(g.current,i.eventHandlers),a(g.current,_,i,s),g}}var Fr={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(r,a){(function(o,i){i(a)})(se,function(o){var i="1.9.4";function s(t){var e,n,l,w;for(n=1,l=arguments.length;n<l;n++){w=arguments[n];for(e in w)t[e]=w[e]}return t}var _=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function g(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var l=n.call(arguments,2);return function(){return t.apply(e,l.length?l.concat(n.call(arguments)):arguments)}}var T=0;function x(t){return"_leaflet_id"in t||(t._leaflet_id=++T),t._leaflet_id}function O(t,e,n){var l,w,j,$;return $=function(){l=!1,w&&(j.apply(n,w),w=!1)},j=function(){l?w=arguments:(t.apply(n,arguments),setTimeout($,e),l=!0)},j}function y(t,e,n){var l=e[1],w=e[0],j=l-w;return t===l&&n?t:((t-w)%j+j)%j+w}function f(){return!1}function u(t,e){if(e===!1)return t;var n=Math.pow(10,e===void 0?6:e);return Math.round(t*n)/n}function c(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function b(t){return c(t).split(/\s+/)}function d(t,e){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?_(t.options):{});for(var n in e)t.options[n]=e[n];return t.options}function v(t,e,n){var l=[];for(var w in t)l.push(encodeURIComponent(n?w.toUpperCase():w)+"="+encodeURIComponent(t[w]));return(!e||e.indexOf("?")===-1?"?":"&")+l.join("&")}var p=/\{ *([\w_ -]+) *\}/g;function m(t,e){return t.replace(p,function(n,l){var w=e[l];if(w===void 0)throw new Error("No value provided for variable "+n);return typeof w=="function"&&(w=w(e)),w})}var E=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function h(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var P="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var R=0;function M(t){var e=+new Date,n=Math.max(0,16-(e-R));return R=e+n,window.setTimeout(t,n)}var z=window.requestAnimationFrame||I("RequestAnimationFrame")||M,k=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function S(t,e,n){if(n&&z===M)t.call(e);else return z.call(window,g(t,e))}function N(t){t&&k.call(window,t)}var D={__proto__:null,extend:s,create:_,bind:g,get lastId(){return T},stamp:x,throttle:O,wrapNum:y,falseFn:f,formatNum:u,trim:c,splitWords:b,setOptions:d,getParamString:v,template:m,isArray:E,indexOf:h,emptyImageUrl:P,requestFn:z,cancelFn:k,requestAnimFrame:S,cancelAnimFrame:N};function q(){}q.extend=function(t){var e=function(){d(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=e.__super__=this.prototype,l=_(n);l.constructor=e,e.prototype=l;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(e[w]=this[w]);return t.statics&&s(e,t.statics),t.includes&&(Z(t.includes),s.apply(null,[l].concat(t.includes))),s(l,t),delete l.statics,delete l.includes,l.options&&(l.options=n.options?_(n.options):{},s(l.options,t.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var j=0,$=l._initHooks.length;j<$;j++)l._initHooks[j].call(this)}},e},q.include=function(t){var e=this.prototype.options;return s(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},q.mergeOptions=function(t){return s(this.prototype.options,t),this},q.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n=typeof t=="function"?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};function Z(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=E(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var X={on:function(t,e,n){if(typeof t=="object")for(var l in t)this._on(l,t[l],e);else{t=b(t);for(var w=0,j=t.length;w<j;w++)this._on(t[w],e,n)}return this},off:function(t,e,n){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var l in t)this._off(l,t[l],e);else{t=b(t);for(var w=arguments.length===1,j=0,$=t.length;j<$;j++)w?this._off(t[j]):this._off(t[j],e,n)}return this},_on:function(t,e,n,l){if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}if(this._listens(t,e,n)===!1){n===this&&(n=void 0);var w={fn:e,ctx:n};l&&(w.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(w)}},_off:function(t,e,n){var l,w,j;if(this._events&&(l=this._events[t],!!l)){if(arguments.length===1){if(this._firingCount)for(w=0,j=l.length;w<j;w++)l[w].fn=f;delete this._events[t];return}if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}var $=this._listens(t,e,n);if($!==!1){var Q=l[$];this._firingCount&&(Q.fn=f,this._events[t]=l=l.slice()),l.splice($,1)}}},fire:function(t,e,n){if(!this.listens(t,n))return this;var l=s({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var w=this._events[t];if(w){this._firingCount=this._firingCount+1||1;for(var j=0,$=w.length;j<$;j++){var Q=w[j],it=Q.fn;Q.once&&this.off(t,it,Q.ctx),it.call(Q.ctx||this,l)}this._firingCount--}}return n&&this._propagateEvent(l),this},listens:function(t,e,n,l){typeof t!="string"&&console.warn('"string" type argument expected');var w=e;typeof e!="function"&&(l=!!e,w=void 0,n=void 0);var j=this._events&&this._events[t];if(j&&j.length&&this._listens(t,w,n)!==!1)return!0;if(l){for(var $ in this._eventParents)if(this._eventParents[$].listens(t,e,n,l))return!0}return!1},_listens:function(t,e,n){if(!this._events)return!1;var l=this._events[t]||[];if(!e)return!!l.length;n===this&&(n=void 0);for(var w=0,j=l.length;w<j;w++)if(l[w].fn===e&&l[w].ctx===n)return w;return!1},once:function(t,e,n){if(typeof t=="object")for(var l in t)this._on(l,t[l],e,!0);else{t=b(t);for(var w=0,j=t.length;w<j;w++)this._on(t[w],e,n,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[x(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[x(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,s({layer:t.target,propagatedFrom:t.target},t),!0)}};X.addEventListener=X.on,X.removeEventListener=X.clearAllEventListeners=X.off,X.addOneTimeEventListener=X.once,X.fireEvent=X.fire,X.hasEventListeners=X.listens;var J=q.extend(X);function nt(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var Y=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};nt.prototype={clone:function(){return new nt(this.x,this.y)},add:function(t){return this.clone()._add(F(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(F(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new nt(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new nt(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Y(this.x),this.y=Y(this.y),this},distanceTo:function(t){t=F(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=F(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=F(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}};function F(t,e,n){return t instanceof nt?t:E(t)?new nt(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new nt(t.x,t.y):new nt(t,e,n)}function C(t,e){if(t)for(var n=e?[t,e]:t,l=0,w=n.length;l<w;l++)this.extend(n[l])}C.prototype={extend:function(t){var e,n;if(!t)return this;if(t instanceof nt||typeof t[0]=="number"||"x"in t)e=n=F(t);else if(t=U(t),e=t.min,n=t.max,!e||!n)return this;return!this.min&&!this.max?(this.min=e.clone(),this.max=n.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)),this},getCenter:function(t){return F((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return F(this.min.x,this.max.y)},getTopRight:function(){return F(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return typeof t[0]=="number"||t instanceof nt?t=F(t):t=U(t),t instanceof C?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=U(t);var e=this.min,n=this.max,l=t.min,w=t.max,j=w.x>=e.x&&l.x<=n.x,$=w.y>=e.y&&l.y<=n.y;return j&&$},overlaps:function(t){t=U(t);var e=this.min,n=this.max,l=t.min,w=t.max,j=w.x>e.x&&l.x<n.x,$=w.y>e.y&&l.y<n.y;return j&&$},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var e=this.min,n=this.max,l=Math.abs(e.x-n.x)*t,w=Math.abs(e.y-n.y)*t;return U(F(e.x-l,e.y-w),F(n.x+l,n.y+w))},equals:function(t){return t?(t=U(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function U(t,e){return!t||t instanceof C?t:new C(t,e)}function H(t,e){if(t)for(var n=e?[t,e]:t,l=0,w=n.length;l<w;l++)this.extend(n[l])}H.prototype={extend:function(t){var e=this._southWest,n=this._northEast,l,w;if(t instanceof W)l=t,w=t;else if(t instanceof H){if(l=t._southWest,w=t._northEast,!l||!w)return this}else return t?this.extend(B(t)||V(t)):this;return!e&&!n?(this._southWest=new W(l.lat,l.lng),this._northEast=new W(w.lat,w.lng)):(e.lat=Math.min(l.lat,e.lat),e.lng=Math.min(l.lng,e.lng),n.lat=Math.max(w.lat,n.lat),n.lng=Math.max(w.lng,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,l=Math.abs(e.lat-n.lat)*t,w=Math.abs(e.lng-n.lng)*t;return new H(new W(e.lat-l,e.lng-w),new W(n.lat+l,n.lng+w))},getCenter:function(){return new W((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new W(this.getNorth(),this.getWest())},getSouthEast:function(){return new W(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof W||"lat"in t?t=B(t):t=V(t);var e=this._southWest,n=this._northEast,l,w;return t instanceof H?(l=t.getSouthWest(),w=t.getNorthEast()):l=w=t,l.lat>=e.lat&&w.lat<=n.lat&&l.lng>=e.lng&&w.lng<=n.lng},intersects:function(t){t=V(t);var e=this._southWest,n=this._northEast,l=t.getSouthWest(),w=t.getNorthEast(),j=w.lat>=e.lat&&l.lat<=n.lat,$=w.lng>=e.lng&&l.lng<=n.lng;return j&&$},overlaps:function(t){t=V(t);var e=this._southWest,n=this._northEast,l=t.getSouthWest(),w=t.getNorthEast(),j=w.lat>e.lat&&l.lat<n.lat,$=w.lng>e.lng&&l.lng<n.lng;return j&&$},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return t?(t=V(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function V(t,e){return t instanceof H?t:new H(t,e)}function W(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,n!==void 0&&(this.alt=+n)}W.prototype={equals:function(t,e){if(!t)return!1;t=B(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return n<=(e===void 0?1e-9:e)},toString:function(t){return"LatLng("+u(this.lat,t)+", "+u(this.lng,t)+")"},distanceTo:function(t){return tt.distance(this,B(t))},wrap:function(){return tt.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return V([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new W(this.lat,this.lng,this.alt)}};function B(t,e,n){return t instanceof W?t:E(t)&&typeof t[0]!="object"?t.length===3?new W(t[0],t[1],t[2]):t.length===2?new W(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new W(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===void 0?null:new W(t,e,n)}var G={latLngToPoint:function(t,e){var n=this.projection.project(t),l=this.scale(e);return this.transformation._transform(n,l)},pointToLatLng:function(t,e){var n=this.scale(e),l=this.transformation.untransform(t,n);return this.projection.unproject(l)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t),l=this.transformation.transform(e.min,n),w=this.transformation.transform(e.max,n);return new C(l,w)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?y(t.lng,this.wrapLng,!0):t.lng,n=this.wrapLat?y(t.lat,this.wrapLat,!0):t.lat,l=t.alt;return new W(n,e,l)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),l=e.lat-n.lat,w=e.lng-n.lng;if(l===0&&w===0)return t;var j=t.getSouthWest(),$=t.getNorthEast(),Q=new W(j.lat-l,j.lng-w),it=new W($.lat-l,$.lng-w);return new H(Q,it)}},tt=s({},G,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,l=t.lat*n,w=e.lat*n,j=Math.sin((e.lat-t.lat)*n/2),$=Math.sin((e.lng-t.lng)*n/2),Q=j*j+Math.cos(l)*Math.cos(w)*$*$,it=2*Math.atan2(Math.sqrt(Q),Math.sqrt(1-Q));return this.R*it}}),et=6378137,st={R:et,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,l=Math.max(Math.min(n,t.lat),-n),w=Math.sin(l*e);return new nt(this.R*t.lng*e,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(t){var e=180/Math.PI;return new W((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=et*Math.PI;return new C([-t,-t],[t,t])}()};function dt(t,e,n,l){if(E(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=e,this._c=n,this._d=l}dt.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new nt((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function _t(t,e,n,l){return new dt(t,e,n,l)}var bt=s({},tt,{code:"EPSG:3857",projection:st,transformation:function(){var t=.5/(Math.PI*st.R);return _t(t,.5,-t,.5)}()}),Ot=s({},bt,{code:"EPSG:900913"});function kt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ut(t,e){var n="",l,w,j,$,Q,it;for(l=0,j=t.length;l<j;l++){for(Q=t[l],w=0,$=Q.length;w<$;w++)it=Q[w],n+=(w?"L":"M")+it.x+" "+it.y;n+=e?gt.svg?"z":"x":""}return n||"M0 0"}var jt=document.documentElement.style,ot="ActiveXObject"in window,at=ot&&!document.addEventListener,ft="msLaunchUri"in navigator&&!("documentMode"in document),ht=ee("webkit"),ut=ee("android"),Tt=ee("android 2")||ee("android 3"),wt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Et=ut&&ee("Google")&&wt<537&&!("AudioNode"in window),qt=!!window.opera,te=!ft&&ee("chrome"),Mt=ee("gecko")&&!ht&&!qt&&!ot,on=!te&&ee("safari"),It=ee("phantom"),oe="OTransition"in jt,an=navigator.platform.indexOf("Win")===0,$e=ot&&"transition"in jt,ue="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Tt,Se="MozPerspective"in jt,Pn=!window.L_DISABLE_3D&&($e||ue||Se)&&!oe&&!It,Le=typeof orientation<"u"||ee("mobile"),Ji=Le&&ht,sn=Le&&ue,We=!window.PointerEvent&&window.MSPointerEvent,ti=!!(window.PointerEvent||We),ze="ontouchstart"in window||!!window.TouchEvent,Qi=!window.L_NO_TOUCH&&(ze||ti),tr=Le&&qt,$t=Le&&Mt,qe=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,er=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",f,e),window.removeEventListener("testPassiveEventSupport",f,e)}catch{}return t}(),ei=function(){return!!document.createElement("canvas").getContext}(),Ge=!!(document.createElementNS&&kt("svg").createSVGRect),ni=!!Ge&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ii=!Ge&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&typeof e.adj=="object"}catch{return!1}}(),nr=navigator.platform.indexOf("Mac")===0,he=navigator.platform.indexOf("Linux")===0;function ee(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var gt={ie:ot,ielt9:at,edge:ft,webkit:ht,android:ut,android23:Tt,androidStock:Et,opera:qt,chrome:te,gecko:Mt,safari:on,phantom:It,opera12:oe,win:an,ie3d:$e,webkit3d:ue,gecko3d:Se,any3d:Pn,mobile:Le,mobileWebkit:Ji,mobileWebkit3d:sn,msPointer:We,pointer:ti,touch:Qi,touchNative:ze,mobileOpera:tr,mobileGecko:$t,retina:qe,passiveEvents:er,canvas:ei,svg:Ge,vml:ii,inlineSvg:ni,mac:nr,linux:he},An=gt.msPointer?"MSPointerDown":"pointerdown",Sn=gt.msPointer?"MSPointerMove":"pointermove",Ln=gt.msPointer?"MSPointerUp":"pointerup",de=gt.msPointer?"MSPointerCancel":"pointercancel",ln={touchstart:An,touchmove:Sn,touchend:Ln,touchcancel:de},Nn={touchstart:Vt,touchmove:Ht,touchend:Ht,touchcancel:Ht},Ne={},kn=!1;function ir(t,e,n){return e==="touchstart"&&Dt(),Nn[e]?(n=Nn[e].bind(this,n),t.addEventListener(ln[e],n,!1),n):(console.warn("wrong event specified:",e),f)}function yt(t,e,n){if(!ln[e]){console.warn("wrong event specified:",e);return}t.removeEventListener(ln[e],n,!1)}function K(t){Ne[t.pointerId]=t}function ct(t){Ne[t.pointerId]&&(Ne[t.pointerId]=t)}function mt(t){delete Ne[t.pointerId]}function Dt(){kn||(document.addEventListener(An,K,!0),document.addEventListener(Sn,ct,!0),document.addEventListener(Ln,mt,!0),document.addEventListener(de,mt,!0),kn=!0)}function Ht(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){e.touches=[];for(var n in Ne)e.touches.push(Ne[n]);e.changedTouches=[e],t(e)}}function Vt(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Jt(e),Ht(t,e)}function Qt(t){var e={},n,l;for(l in t)n=t[l],e[l]=n&&n.bind?n.bind(t):n;return t=e,e.type="dblclick",e.detail=2,e.isTrusted=!1,e._simulated=!0,e}var pe=200;function Ke(t,e){t.addEventListener("dblclick",e);var n=0,l;function w(j){if(j.detail!==1){l=j.detail;return}if(!(j.pointerType==="mouse"||j.sourceCapabilities&&!j.sourceCapabilities.firesTouchEvents)){var $=Eo(j);if(!($.some(function(it){return it instanceof HTMLLabelElement&&it.attributes.for})&&!$.some(function(it){return it instanceof HTMLInputElement||it instanceof HTMLSelectElement}))){var Q=Date.now();Q-n<=pe?(l++,l===2&&e(Qt(j))):l=1,n=Q}}}return t.addEventListener("click",w),{dblclick:e,simDblclick:w}}function Xt(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var un=ai(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Fe=ai(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),yo=Fe==="webkitTransition"||Fe==="OTransition"?Fe+"End":"transitionend";function bo(t){return typeof t=="string"?document.getElementById(t):t}function Cn(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||n==="auto")&&document.defaultView){var l=document.defaultView.getComputedStyle(t,null);n=l?l[e]:null}return n==="auto"?null:n}function Rt(t,e,n){var l=document.createElement(t);return l.className=e||"",n&&n.appendChild(l),l}function Ft(t){var e=t.parentNode;e&&e.removeChild(t)}function ri(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function cn(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function fn(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function rr(t,e){if(t.classList!==void 0)return t.classList.contains(e);var n=oi(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function St(t,e){if(t.classList!==void 0)for(var n=b(e),l=0,w=n.length;l<w;l++)t.classList.add(n[l]);else if(!rr(t,e)){var j=oi(t);or(t,(j?j+" ":"")+e)}}function Zt(t,e){t.classList!==void 0?t.classList.remove(e):or(t,c((" "+oi(t)+" ").replace(" "+e+" "," ")))}function or(t,e){t.className.baseVal===void 0?t.className=e:t.className.baseVal=e}function oi(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function me(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&cl(t,e)}function cl(t,e){var n=!1,l="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(l)}catch{if(e===1)return}e=Math.round(e*100),n?(n.Enabled=e!==100,n.Opacity=e):t.style.filter+=" progid:"+l+"(opacity="+e+")"}function ai(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function Ve(t,e,n){var l=e||new nt(0,0);t.style[un]=(gt.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(n?" scale("+n+")":"")}function Wt(t,e){t._leaflet_pos=e,gt.any3d?Ve(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Ye(t){return t._leaflet_pos||new nt(0,0)}var Rn,jn,ar;if("onselectstart"in document)Rn=function(){Pt(window,"selectstart",Jt)},jn=function(){Bt(window,"selectstart",Jt)};else{var Mn=ai(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Rn=function(){if(Mn){var t=document.documentElement.style;ar=t[Mn],t[Mn]="none"}},jn=function(){Mn&&(document.documentElement.style[Mn]=ar,ar=void 0)}}function sr(){Pt(window,"dragstart",Jt)}function lr(){Bt(window,"dragstart",Jt)}var si,ur;function cr(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(li(),si=t,ur=t.style.outlineStyle,t.style.outlineStyle="none",Pt(window,"keydown",li))}function li(){si&&(si.style.outlineStyle=ur,si=void 0,ur=void 0,Bt(window,"keydown",li))}function xo(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function fr(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var fl={__proto__:null,TRANSFORM:un,TRANSITION:Fe,TRANSITION_END:yo,get:bo,getStyle:Cn,create:Rt,remove:Ft,empty:ri,toFront:cn,toBack:fn,hasClass:rr,addClass:St,removeClass:Zt,setClass:or,getClass:oi,setOpacity:me,testProp:ai,setTransform:Ve,setPosition:Wt,getPosition:Ye,get disableTextSelection(){return Rn},get enableTextSelection(){return jn},disableImageDrag:sr,enableImageDrag:lr,preventOutline:cr,restoreOutline:li,getSizedParentNode:xo,getScale:fr};function Pt(t,e,n,l){if(e&&typeof e=="object")for(var w in e)dr(t,w,e[w],n);else{e=b(e);for(var j=0,$=e.length;j<$;j++)dr(t,e[j],n,l)}return this}var Oe="_leaflet_events";function Bt(t,e,n,l){if(arguments.length===1)wo(t),delete t[Oe];else if(e&&typeof e=="object")for(var w in e)pr(t,w,e[w],n);else if(e=b(e),arguments.length===2)wo(t,function(Q){return h(e,Q)!==-1});else for(var j=0,$=e.length;j<$;j++)pr(t,e[j],n,l);return this}function wo(t,e){for(var n in t[Oe]){var l=n.split(/\d/)[0];(!e||e(l))&&pr(t,l,null,null,n)}}var hr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function dr(t,e,n,l){var w=e+x(n)+(l?"_"+x(l):"");if(t[Oe]&&t[Oe][w])return this;var j=function(Q){return n.call(l||t,Q||window.event)},$=j;!gt.touchNative&&gt.pointer&&e.indexOf("touch")===0?j=ir(t,e,j):gt.touch&&e==="dblclick"?j=Ke(t,j):"addEventListener"in t?e==="touchstart"||e==="touchmove"||e==="wheel"||e==="mousewheel"?t.addEventListener(hr[e]||e,j,gt.passiveEvents?{passive:!1}:!1):e==="mouseenter"||e==="mouseleave"?(j=function(Q){Q=Q||window.event,vr(t,Q)&&$(Q)},t.addEventListener(hr[e],j,!1)):t.addEventListener(e,$,!1):t.attachEvent("on"+e,j),t[Oe]=t[Oe]||{},t[Oe][w]=j}function pr(t,e,n,l,w){w=w||e+x(n)+(l?"_"+x(l):"");var j=t[Oe]&&t[Oe][w];if(!j)return this;!gt.touchNative&&gt.pointer&&e.indexOf("touch")===0?yt(t,e,j):gt.touch&&e==="dblclick"?Xt(t,j):"removeEventListener"in t?t.removeEventListener(hr[e]||e,j,!1):t.detachEvent("on"+e,j),t[Oe][w]=null}function Xe(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function mr(t){return dr(t,"wheel",Xe),this}function In(t){return Pt(t,"mousedown touchstart dblclick contextmenu",Xe),t._leaflet_disable_click=!0,this}function Jt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Je(t){return Jt(t),Xe(t),this}function Eo(t){if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;)e.push(n),n=n.parentNode;return e}function Oo(t,e){if(!e)return new nt(t.clientX,t.clientY);var n=fr(e),l=n.boundingClientRect;return new nt((t.clientX-l.left)/n.x-e.clientLeft,(t.clientY-l.top)/n.y-e.clientTop)}var hl=gt.linux&&gt.chrome?window.devicePixelRatio:gt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function To(t){return gt.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/hl:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function vr(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch{return!1}return n!==t}var dl={__proto__:null,on:Pt,off:Bt,stopPropagation:Xe,disableScrollPropagation:mr,disableClickPropagation:In,preventDefault:Jt,stop:Je,getPropagationPath:Eo,getMousePosition:Oo,getWheelDelta:To,isExternalTarget:vr,addListener:Pt,removeListener:Bt},Po=J.extend({run:function(t,e,n,l){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=Ye(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=S(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=this._duration*1e3;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),Wt(this._el,n),this.fire("step")},_complete:function(){N(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ct=J.extend({options:{crs:bt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=d(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=g(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==void 0&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==void 0&&this.setView(B(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Fe&&gt.any3d&&!gt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pt(this._proxy,yo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){if(e=e===void 0?this._zoom:this._limitZoom(e),t=this._limitCenter(B(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==void 0&&(n.zoom=s({animate:n.animate},n.zoom),n.pan=s({animate:n.animate,duration:n.duration},n.pan));var l=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(l)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e,n.pan&&n.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var l=this.getZoomScale(e),w=this.getSize().divideBy(2),j=t instanceof nt?t:this.latLngToContainerPoint(t),$=j.subtract(w).multiplyBy(1-1/l),Q=this.containerPointToLatLng(w.add($));return this.setView(Q,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():V(t);var n=F(e.paddingTopLeft||e.padding||[0,0]),l=F(e.paddingBottomRight||e.padding||[0,0]),w=this.getBoundsZoom(t,!1,n.add(l));if(w=typeof e.maxZoom=="number"?Math.min(e.maxZoom,w):w,w===1/0)return{center:t.getCenter(),zoom:w};var j=l.subtract(n).divideBy(2),$=this.project(t.getSouthWest(),w),Q=this.project(t.getNorthEast(),w),it=this.unproject($.add(Q).divideBy(2).add(j),w);return{center:it,zoom:w}},fitBounds:function(t,e){if(t=V(t),!t.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=F(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Po,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){St(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(n=n||{},n.animate===!1||!gt.any3d)return this.setView(t,e,n);this._stop();var l=this.project(this.getCenter()),w=this.project(t),j=this.getSize(),$=this._zoom;t=B(t),e=e===void 0?$:e;var Q=Math.max(j.x,j.y),it=Q*this.getZoomScale($,e),lt=w.distanceTo(l)||1,pt=1.42,xt=pt*pt;function Lt(Gt){var bi=Gt?-1:1,eu=Gt?it:Q,nu=it*it-Q*Q+bi*xt*xt*lt*lt,iu=2*eu*xt*lt,Ar=nu/iu,aa=Math.sqrt(Ar*Ar+1)-Ar,ru=aa<1e-9?-18:Math.log(aa);return ru}function ne(Gt){return(Math.exp(Gt)-Math.exp(-Gt))/2}function Yt(Gt){return(Math.exp(Gt)+Math.exp(-Gt))/2}function ge(Gt){return ne(Gt)/Yt(Gt)}var ae=Lt(0);function gn(Gt){return Q*(Yt(ae)/Yt(ae+pt*Gt))}function Xl(Gt){return Q*(Yt(ae)*ge(ae+pt*Gt)-ne(ae))/xt}function Jl(Gt){return 1-Math.pow(1-Gt,1.5)}var Ql=Date.now(),ra=(Lt(1)-ae)/pt,tu=n.duration?1e3*n.duration:1e3*ra*.8;function oa(){var Gt=(Date.now()-Ql)/tu,bi=Jl(Gt)*ra;Gt<=1?(this._flyToFrame=S(oa,this),this._move(this.unproject(l.add(w.subtract(l).multiplyBy(Xl(bi)/lt)),$),this.getScaleZoom(Q/gn(bi),$),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),oa.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=V(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),l=this._limitCenter(n,this._zoom,V(t));return n.equals(l)||this.panTo(l,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var n=F(e.paddingTopLeft||e.padding||[0,0]),l=F(e.paddingBottomRight||e.padding||[0,0]),w=this.project(this.getCenter()),j=this.project(t),$=this.getPixelBounds(),Q=U([$.min.add(n),$.max.subtract(l)]),it=Q.getSize();if(!Q.contains(j)){this._enforcingBounds=!0;var lt=j.subtract(Q.getCenter()),pt=Q.extend(j).getSize().subtract(it);w.x+=lt.x<0?-pt.x:pt.x,w.y+=lt.y<0?-pt.y:pt.y,this.panTo(this.unproject(w),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=s({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),l=e.divideBy(2).round(),w=n.divideBy(2).round(),j=l.subtract(w);return!j.x&&!j.y?this:(t.animate&&t.pan?this.panBy(j):(t.pan&&this._rawPanBy(j),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(g(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=s({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=g(this._handleGeolocationResponse,this),n=g(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,n=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=t.coords.latitude,n=t.coords.longitude,l=new W(e,n),w=l.toBounds(t.coords.accuracy*2),j=this._locateOptions;if(j.setView){var $=this.getBoundsZoom(w);this.setView(l,j.maxZoom?Math.min($,j.maxZoom):$)}var Q={latlng:l,bounds:w,timestamp:t.timestamp};for(var it in t.coords)typeof t.coords[it]=="number"&&(Q[it]=t.coords[it]);this.fire("locationfound",Q)}},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ft(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(N(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)Ft(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),l=Rt("div",n,e||this._mapPane);return t&&(this._panes[t]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new H(e,n)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=V(t),n=F(n||[0,0]);var l=this.getZoom()||0,w=this.getMinZoom(),j=this.getMaxZoom(),$=t.getNorthWest(),Q=t.getSouthEast(),it=this.getSize().subtract(n),lt=U(this.project(Q,l),this.project($,l)).getSize(),pt=gt.any3d?this.options.zoomSnap:1,xt=it.x/lt.x,Lt=it.y/lt.y,ne=e?Math.max(xt,Lt):Math.min(xt,Lt);return l=this.getScaleZoom(ne,l),pt&&(l=Math.round(l/(pt/100))*(pt/100),l=e?Math.ceil(l/pt)*pt:Math.floor(l/pt)*pt),Math.max(w,Math.min(j,l))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new nt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new C(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=e===void 0?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=e===void 0?this._zoom:e;var l=n.zoom(t*n.scale(e));return isNaN(l)?1/0:l},project:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.latLngToPoint(B(t),e)},unproject:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.pointToLatLng(F(t),e)},layerPointToLatLng:function(t){var e=F(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(B(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(B(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(V(t))},distance:function(t,e){return this.options.crs.distance(B(t),B(e))},containerPointToLayerPoint:function(t){return F(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return F(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(F(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(B(t)))},mouseEventToContainerPoint:function(t){return Oo(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=bo(t);if(e){if(e._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Pt(e,"scroll",this._onScroll,this),this._containerId=x(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&gt.any3d,St(t,"leaflet-container"+(gt.touch?" leaflet-touch":"")+(gt.retina?" leaflet-retina":"")+(gt.ielt9?" leaflet-oldie":"")+(gt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=Cn(t,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&e!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Wt(this._mapPane,new nt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(St(t.markerPane,"leaflet-zoom-hide"),St(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,n){Wt(this._mapPane,new nt(0,0));var l=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var w=this._zoom!==e;this._moveStart(w,n)._move(t,e)._moveEnd(w),this.fire("viewreset"),l&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n,l){e===void 0&&(e=this._zoom);var w=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),l?n&&n.pinch&&this.fire("zoom",n):((w||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return N(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Wt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[x(this._container)]=this;var e=t?Bt:Pt;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),gt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){N(this._resizeRequest),this._resizeRequest=S(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n=[],l,w=e==="mouseout"||e==="mouseover",j=t.target||t.srcElement,$=!1;j;){if(l=this._targets[x(j)],l&&(e==="click"||e==="preclick")&&this._draggableMoved(l)){$=!0;break}if(l&&l.listens(e,!0)&&(w&&!vr(j,t)||(n.push(l),w))||j===this._container)break;j=j.parentNode}return!n.length&&!$&&!w&&this.listens(e,!0)&&(n=[this]),n},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(e))){var n=t.type;n==="mousedown"&&cr(e),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if(t.type==="click"){var l=s({},t);l.type="preclick",this._fireDOMEvent(l,l.type,n)}var w=this._findEventTargets(t,e);if(n){for(var j=[],$=0;$<n.length;$++)n[$].listens(e,!0)&&j.push(n[$]);w=j.concat(w)}if(w.length){e==="contextmenu"&&Jt(t);var Q=w[0],it={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var lt=Q.getLatLng&&(!Q._radius||Q._radius<=10);it.containerPoint=lt?this.latLngToContainerPoint(Q.getLatLng()):this.mouseEventToContainerPoint(t),it.layerPoint=this.containerPointToLayerPoint(it.containerPoint),it.latlng=lt?Q.getLatLng():this.layerPointToLatLng(it.layerPoint)}for($=0;$<w.length;$++)if(w[$].fire(e,it,!0),it.originalEvent._stopped||w[$].options.bubblingMouseEvents===!1&&h(this._mouseEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Ye(this._mapPane)||new nt(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var n=t&&e!==void 0?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var l=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(l)},_latLngBoundsToNewLayerBounds:function(t,e,n){var l=this._getNewPixelOrigin(n,e);return U([this.project(t.getSouthWest(),e)._subtract(l),this.project(t.getNorthWest(),e)._subtract(l),this.project(t.getSouthEast(),e)._subtract(l),this.project(t.getNorthEast(),e)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var l=this.project(t,e),w=this.getSize().divideBy(2),j=new C(l.subtract(w),l.add(w)),$=this._getBoundsOffset(j,n,e);return Math.abs($.x)<=1&&Math.abs($.y)<=1?t:this.unproject(l.add($),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),l=new C(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(l,e))},_getBoundsOffset:function(t,e,n){var l=U(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),w=l.min.subtract(t.min),j=l.max.subtract(t.max),$=this._rebound(w.x,-j.x),Q=this._rebound(w.y,-j.y);return new nt($,Q)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),l=gt.any3d?this.options.zoomSnap:1;return l&&(t=Math.round(t/l)*l),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Zt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return(e&&e.animate)!==!0&&!this.getSize().contains(n)?!1:(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=Rt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var n=un,l=this._proxy.style[n];Ve(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),l===this._proxy.style[n]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ft(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Ve(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(e),w=this._getCenterOffset(t)._divideBy(1-1/l);return n.animate!==!0&&!this.getSize().contains(w)?!1:(S(function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,n,l){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,St(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(g(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Zt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function pl(t,e){return new Ct(t,e)}var ye=q.extend({options:{position:"topright"},initialize:function(t){d(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),l=t._controlCorners[n];return St(e,"leaflet-control"),n.indexOf("bottom")!==-1?l.insertBefore(e,l.firstChild):l.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ft(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Dn=function(t){return new ye(t)};Ct.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=Rt("div",e+"control-container",this._container);function l(w,j){var $=e+w+" "+e+j;t[w+j]=Rt("div",$,n)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Ft(this._controlCorners[t]);Ft(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ao=ye.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,l){return n<l?-1:l<n?1:0}},initialize:function(t,e,n){d(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var l in t)this._addLayer(t[l],l);for(l in e)this._addLayer(e[l],l,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return ye.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(x(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){St(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(St(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Zt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Zt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=Rt("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),In(e),mr(e);var l=this._section=Rt("section",t+"-list");n&&(this._map.on("click",this.collapse,this),Pt(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Rt("a",t+"-toggle",e);w.href="#",w.title="Layers",w.setAttribute("role","button"),Pt(w,{keydown:function(j){j.keyCode===13&&this._expandSafely()},click:function(j){Jt(j),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=Rt("div",t+"-base",l),this._separator=Rt("div",t+"-separator",l),this._overlaysList=Rt("div",t+"-overlays",l),e.appendChild(l)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&x(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(g(function(l,w){return this.options.sortFunction(l.layer,w.layer,l.name,w.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ri(this._baseLayersList),ri(this._overlaysList),this._layerControlInputs=[];var t,e,n,l,w=0;for(n=0;n<this._layers.length;n++)l=this._layers[n],this._addItem(l),e=e||l.overlay,t=t||!l.overlay,w+=l.overlay?0:1;return this.options.hideSingleBase&&(t=t&&w>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(x(t.target)),n=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=n,l.firstChild},_addItem:function(t){var e=document.createElement("label"),n=this._map.hasLayer(t.layer),l;t.overlay?(l=document.createElement("input"),l.type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=n):l=this._createRadioElement("leaflet-base-layers_"+x(this),n),this._layerControlInputs.push(l),l.layerId=x(t.layer),Pt(l,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+t.name;var j=document.createElement("span");e.appendChild(j),j.appendChild(l),j.appendChild(w);var $=t.overlay?this._overlaysList:this._baseLayersList;return $.appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,e,n,l=[],w=[];this._handlingClick=!0;for(var j=t.length-1;j>=0;j--)e=t[j],n=this._getLayer(e.layerId).layer,e.checked?l.push(n):e.checked||w.push(n);for(j=0;j<w.length;j++)this._map.hasLayer(w[j])&&this._map.removeLayer(w[j]);for(j=0;j<l.length;j++)this._map.hasLayer(l[j])||this._map.addLayer(l[j]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,e,n,l=this._map.getZoom(),w=t.length-1;w>=0;w--)e=t[w],n=this._getLayer(e.layerId).layer,e.disabled=n.options.minZoom!==void 0&&l<n.options.minZoom||n.options.maxZoom!==void 0&&l>n.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Pt(t,"click",Jt),this.expand();var e=this;setTimeout(function(){Bt(t,"click",Jt),e._preventClick=!1})}}),ml=function(t,e,n){return new Ao(t,e,n)},gr=ye.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=Rt("div",e+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,l,w){var j=Rt("a",n,l);return j.innerHTML=t,j.href="#",j.title=e,j.setAttribute("role","button"),j.setAttribute("aria-label",e),In(j),Pt(j,"click",Je),Pt(j,"click",w,this),Pt(j,"click",this._refocusOnMap,this),j},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";Zt(this._zoomInButton,e),Zt(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(St(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(St(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ct.mergeOptions({zoomControl:!0}),Ct.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new gr,this.addControl(this.zoomControl))});var vl=function(t){return new gr(t)},So=ye.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=Rt("div",e),l=this.options;return this._addScales(l,e+"-line",n),t.on(l.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=Rt("div",e,n)),t.imperial&&(this._iScale=Rt("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e=t*3.2808399,n,l,w;e>5280?(n=e/5280,l=this._getRoundNum(n),this._updateScale(this._iScale,l+" mi",l/n)):(w=this._getRoundNum(e),this._updateScale(this._iScale,w+" ft",w/e))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),gl=function(t){return new So(t)},_l='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_r=ye.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(gt.inlineSvg?_l+" ":"")+"Leaflet</a>"},initialize:function(t){d(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Rt("div","leaflet-control-attribution"),In(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});Ct.mergeOptions({attributionControl:!0}),Ct.addInitHook(function(){this.options.attributionControl&&new _r().addTo(this)});var yl=function(t){return new _r(t)};ye.Layers=Ao,ye.Zoom=gr,ye.Scale=So,ye.Attribution=_r,Dn.layers=ml,Dn.zoom=vl,Dn.scale=gl,Dn.attribution=yl;var Te=q.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Te.addTo=function(t,e){return t.addHandler(e,this),this};var bl={Events:X},Lo=gt.touch?"touchstart mousedown":"mousedown",Ue=J.extend({options:{clickTolerance:3},initialize:function(t,e,n,l){d(this,l),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Pt(this._dragStartTarget,Lo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ue._dragging===this&&this.finishDrag(!0),Bt(this._dragStartTarget,Lo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!rr(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Ue._dragging===this&&this.finishDrag();return}if(!(Ue._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Ue._dragging=this,this._preventOutline&&cr(this._element),sr(),Rn(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,n=xo(this._element);this._startPoint=new nt(e.clientX,e.clientY),this._startPos=Ye(this._element),this._parentScale=fr(n);var l=t.type==="mousedown";Pt(document,l?"mousemove":"touchmove",this._onMove,this),Pt(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,n=new nt(e.clientX,e.clientY)._subtract(this._startPoint);!n.x&&!n.y||Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Jt(t),this._moved||(this.fire("dragstart"),this._moved=!0,St(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),St(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Wt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Zt(document.body,"leaflet-dragging"),this._lastTarget&&(Zt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Bt(document,"mousemove touchmove",this._onMove,this),Bt(document,"mouseup touchend touchcancel",this._onUp,this),lr(),jn();var e=this._moved&&this._moving;this._moving=!1,Ue._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function No(t,e,n){var l,w=[1,4,2,8],j,$,Q,it,lt,pt,xt,Lt;for(j=0,pt=t.length;j<pt;j++)t[j]._code=Qe(t[j],e);for(Q=0;Q<4;Q++){for(xt=w[Q],l=[],j=0,pt=t.length,$=pt-1;j<pt;$=j++)it=t[j],lt=t[$],it._code&xt?lt._code&xt||(Lt=ui(lt,it,xt,e,n),Lt._code=Qe(Lt,e),l.push(Lt)):(lt._code&xt&&(Lt=ui(lt,it,xt,e,n),Lt._code=Qe(Lt,e),l.push(Lt)),l.push(it));t=l}return t}function ko(t,e){var n,l,w,j,$,Q,it,lt,pt;if(!t||t.length===0)throw new Error("latlngs not passed");ve(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var xt=B([0,0]),Lt=V(t),ne=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());ne<1700&&(xt=yr(t));var Yt=t.length,ge=[];for(n=0;n<Yt;n++){var ae=B(t[n]);ge.push(e.project(B([ae.lat-xt.lat,ae.lng-xt.lng])))}for(Q=it=lt=0,n=0,l=Yt-1;n<Yt;l=n++)w=ge[n],j=ge[l],$=w.y*j.x-j.y*w.x,it+=(w.x+j.x)*$,lt+=(w.y+j.y)*$,Q+=$*3;Q===0?pt=ge[0]:pt=[it/Q,lt/Q];var gn=e.unproject(F(pt));return B([gn.lat+xt.lat,gn.lng+xt.lng])}function yr(t){for(var e=0,n=0,l=0,w=0;w<t.length;w++){var j=B(t[w]);e+=j.lat,n+=j.lng,l++}return B([e/l,n/l])}var xl={__proto__:null,clipPolygon:No,polygonCenter:ko,centroid:yr};function Co(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=Ol(t,n),t=El(t,n),t}function Ro(t,e,n){return Math.sqrt(Bn(t,e,n,!0))}function wl(t,e,n){return Bn(t,e,n)}function El(t,e){var n=t.length,l=typeof Uint8Array<"u"?Uint8Array:Array,w=new l(n);w[0]=w[n-1]=1,br(t,w,e,0,n-1);var j,$=[];for(j=0;j<n;j++)w[j]&&$.push(t[j]);return $}function br(t,e,n,l,w){var j=0,$,Q,it;for(Q=l+1;Q<=w-1;Q++)it=Bn(t[Q],t[l],t[w],!0),it>j&&($=Q,j=it);j>n&&(e[$]=1,br(t,e,n,l,$),br(t,e,n,$,w))}function Ol(t,e){for(var n=[t[0]],l=1,w=0,j=t.length;l<j;l++)Tl(t[l],t[w])>e&&(n.push(t[l]),w=l);return w<j-1&&n.push(t[j-1]),n}var jo;function Mo(t,e,n,l,w){var j=l?jo:Qe(t,n),$=Qe(e,n),Q,it,lt;for(jo=$;;){if(!(j|$))return[t,e];if(j&$)return!1;Q=j||$,it=ui(t,e,Q,n,w),lt=Qe(it,n),Q===j?(t=it,j=lt):(e=it,$=lt)}}function ui(t,e,n,l,w){var j=e.x-t.x,$=e.y-t.y,Q=l.min,it=l.max,lt,pt;return n&8?(lt=t.x+j*(it.y-t.y)/$,pt=it.y):n&4?(lt=t.x+j*(Q.y-t.y)/$,pt=Q.y):n&2?(lt=it.x,pt=t.y+$*(it.x-t.x)/j):n&1&&(lt=Q.x,pt=t.y+$*(Q.x-t.x)/j),new nt(lt,pt,w)}function Qe(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function Tl(t,e){var n=e.x-t.x,l=e.y-t.y;return n*n+l*l}function Bn(t,e,n,l){var w=e.x,j=e.y,$=n.x-w,Q=n.y-j,it=$*$+Q*Q,lt;return it>0&&(lt=((t.x-w)*$+(t.y-j)*Q)/it,lt>1?(w=n.x,j=n.y):lt>0&&(w+=$*lt,j+=Q*lt)),$=t.x-w,Q=t.y-j,l?$*$+Q*Q:new nt(w,j)}function ve(t){return!E(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Io(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ve(t)}function Do(t,e){var n,l,w,j,$,Q,it,lt;if(!t||t.length===0)throw new Error("latlngs not passed");ve(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var pt=B([0,0]),xt=V(t),Lt=xt.getNorthWest().distanceTo(xt.getSouthWest())*xt.getNorthEast().distanceTo(xt.getNorthWest());Lt<1700&&(pt=yr(t));var ne=t.length,Yt=[];for(n=0;n<ne;n++){var ge=B(t[n]);Yt.push(e.project(B([ge.lat-pt.lat,ge.lng-pt.lng])))}for(n=0,l=0;n<ne-1;n++)l+=Yt[n].distanceTo(Yt[n+1])/2;if(l===0)lt=Yt[0];else for(n=0,j=0;n<ne-1;n++)if($=Yt[n],Q=Yt[n+1],w=$.distanceTo(Q),j+=w,j>l){it=(j-l)/w,lt=[Q.x-it*(Q.x-$.x),Q.y-it*(Q.y-$.y)];break}var ae=e.unproject(F(lt));return B([ae.lat+pt.lat,ae.lng+pt.lng])}var Pl={__proto__:null,simplify:Co,pointToSegmentDistance:Ro,closestPointOnSegment:wl,clipSegment:Mo,_getEdgeIntersection:ui,_getBitCode:Qe,_sqClosestPointOnSegment:Bn,isFlat:ve,_flat:Io,polylineCenter:Do},xr={project:function(t){return new nt(t.lng,t.lat)},unproject:function(t){return new W(t.y,t.x)},bounds:new C([-180,-90],[180,90])},wr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new C([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var e=Math.PI/180,n=this.R,l=t.lat*e,w=this.R_MINOR/n,j=Math.sqrt(1-w*w),$=j*Math.sin(l),Q=Math.tan(Math.PI/4-l/2)/Math.pow((1-$)/(1+$),j/2);return l=-n*Math.log(Math.max(Q,1e-10)),new nt(t.lng*e*n,l)},unproject:function(t){for(var e=180/Math.PI,n=this.R,l=this.R_MINOR/n,w=Math.sqrt(1-l*l),j=Math.exp(-t.y/n),$=Math.PI/2-2*Math.atan(j),Q=0,it=.1,lt;Q<15&&Math.abs(it)>1e-7;Q++)lt=w*Math.sin($),lt=Math.pow((1-lt)/(1+lt),w/2),it=Math.PI/2-2*Math.atan(j*lt)-$,$+=it;return new W($*e,t.x*e/n)}},Al={__proto__:null,LonLat:xr,Mercator:wr,SphericalMercator:st},Sl=s({},tt,{code:"EPSG:3395",projection:wr,transformation:function(){var t=.5/(Math.PI*wr.R);return _t(t,.5,-t,.5)}()}),Bo=s({},tt,{code:"EPSG:4326",projection:xr,transformation:_t(1/180,1,-1/180,.5)}),Ll=s({},G,{projection:xr,transformation:_t(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,l=e.lat-t.lat;return Math.sqrt(n*n+l*l)},infinite:!0});G.Earth=tt,G.EPSG3395=Sl,G.EPSG3857=bt,G.EPSG900913=Ot,G.EPSG4326=Bo,G.Simple=Ll;var be=J.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[x(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[x(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});Ct.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=x(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=x(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return x(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){t=t?E(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[x(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=x(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var l in this._zoomBoundLayers){var w=this._zoomBoundLayers[l].options;t=w.minZoom===void 0?t:Math.min(t,w.minZoom),e=w.maxZoom===void 0?e:Math.max(e,w.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var hn=be.extend({initialize:function(t,e){d(this,e),this._layers={};var n,l;if(t)for(n=0,l=t.length;n<l;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){var e=typeof t=="number"?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),n,l;for(n in this._layers)l=this._layers[n],l[t]&&l[t].apply(l,e);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return x(t)}}),Nl=function(t,e){return new hn(t,e)},ke=hn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),hn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),hn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new H;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),kl=function(t,e){return new ke(t,e)},dn=q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){d(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(n,e&&e.tagName==="IMG"?e:null);return this._setIconStyles(l,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),l},_setIconStyles:function(t,e){var n=this.options,l=n[e+"Size"];typeof l=="number"&&(l=[l,l]);var w=F(l),j=F(e==="shadow"&&n.shadowAnchor||n.iconAnchor||w&&w.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),j&&(t.style.marginLeft=-j.x+"px",t.style.marginTop=-j.y+"px"),w&&(t.style.width=w.x+"px",t.style.height=w.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return gt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Cl(t){return new dn(t)}var zn=dn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof zn.imagePath!="string"&&(zn.imagePath=this._detectIconPath()),(this.options.imagePath||zn.imagePath)+dn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(n,l,w){var j=l.exec(n);return j&&j[w]};return t=e(t,/^url\((['"])?(.+)\1\)$/,2),t&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Rt("div","leaflet-default-icon-path",document.body),e=Cn(t,"background-image")||Cn(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e),e)return e;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),zo=Te.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Ue(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),St(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Zt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,l=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,j=Ye(e._icon),$=n.getPixelBounds(),Q=n.getPixelOrigin(),it=U($.min._subtract(Q).add(w),$.max._subtract(Q).subtract(w));if(!it.contains(j)){var lt=F((Math.max(it.max.x,j.x)-it.max.x)/($.max.x-it.max.x)-(Math.min(it.min.x,j.x)-it.min.x)/($.min.x-it.min.x),(Math.max(it.max.y,j.y)-it.max.y)/($.max.y-it.max.y)-(Math.min(it.min.y,j.y)-it.min.y)/($.min.y-it.min.y)).multiplyBy(l);n.panBy(lt,{animate:!1}),this._draggable._newPos._add(lt),this._draggable._startPos._add(lt),Wt(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=S(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(N(this._panRequest),this._panRequest=S(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,l=Ye(e._icon),w=e._map.layerPointToLatLng(l);n&&Wt(n,l),e._latlng=w,t.latlng=w,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){N(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),ci=be.extend({options:{icon:new zn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){d(this,e),this._latlng=B(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=B(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),l=!1;n!==this._icon&&(this._icon&&this._removeIcon(),l=!0,t.title&&(n.title=t.title),n.tagName==="IMG"&&(n.alt=t.alt||"")),St(n,e),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pt(n,"focus",this._panOnFocus,this);var w=t.icon.createShadow(this._shadow),j=!1;w!==this._shadow&&(this._removeShadow(),j=!0),w&&(St(w,e),w.alt=""),this._shadow=w,t.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&j&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Bt(this._icon,"focus",this._panOnFocus,this),Ft(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ft(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Wt(this._icon,t),this._shadow&&Wt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(St(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),zo)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new zo(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&me(this._icon,t),this._shadow&&me(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,n=e.iconSize?F(e.iconSize):F(0,0),l=e.iconAnchor?F(e.iconAnchor):F(0,0);t.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:n.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Rl(t,e){return new ci(t,e)}var He=be.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return d(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),fi=He.extend({options:{fill:!0,radius:10},initialize:function(t,e){d(this,e),this._latlng=B(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=B(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return He.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),l=[t+n,e+n];this._pxBounds=new C(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function jl(t,e){return new fi(t,e)}var Er=fi.extend({initialize:function(t,e,n){if(typeof e=="number"&&(e=s({},n,{radius:e})),d(this,e),this._latlng=B(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new H(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:He.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,l=n.options.crs;if(l.distance===tt.distance){var w=Math.PI/180,j=this._mRadius/tt.R/w,$=n.project([e+j,t]),Q=n.project([e-j,t]),it=$.add(Q).divideBy(2),lt=n.unproject(it).lat,pt=Math.acos((Math.cos(j*w)-Math.sin(e*w)*Math.sin(lt*w))/(Math.cos(e*w)*Math.cos(lt*w)))/w;(isNaN(pt)||pt===0)&&(pt=j/Math.cos(Math.PI/180*e)),this._point=it.subtract(n.getPixelOrigin()),this._radius=isNaN(pt)?0:it.x-n.project([lt,t-pt]).x,this._radiusY=it.y-$.y}else{var xt=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(xt).x}this._updateBounds()}});function Ml(t,e,n){return new Er(t,e,n)}var Ce=He.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){d(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=1/0,n=null,l=Bn,w,j,$=0,Q=this._parts.length;$<Q;$++)for(var it=this._parts[$],lt=1,pt=it.length;lt<pt;lt++){w=it[lt-1],j=it[lt];var xt=l(t,w,j,!0);xt<e&&(e=xt,n=l(t,w,j))}return n&&(n.distance=Math.sqrt(e)),n},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Do(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=B(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new H,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return ve(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=ve(t),l=0,w=t.length;l<w;l++)n?(e[l]=B(t[l]),this._bounds.extend(e[l])):e[l]=this._convertLatLngs(t[l]);return e},_project:function(){var t=new C;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new nt(t,t);this._rawPxBounds&&(this._pxBounds=new C([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,n){var l=t[0]instanceof W,w=t.length,j,$;if(l){for($=[],j=0;j<w;j++)$[j]=this._map.latLngToLayerPoint(t[j]),n.extend($[j]);e.push($)}else for(j=0;j<w;j++)this._projectLatlngs(t[j],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,n,l,w,j,$,Q,it;for(n=0,w=0,j=this._rings.length;n<j;n++)for(it=this._rings[n],l=0,$=it.length;l<$-1;l++)Q=Mo(it[l],it[l+1],t,l,!0),Q&&(e[w]=e[w]||[],e[w].push(Q[0]),(Q[1]!==it[l+1]||l===$-2)&&(e[w].push(Q[1]),w++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,l=t.length;n<l;n++)t[n]=Co(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,l,w,j,$,Q,it=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,j=this._parts.length;n<j;n++)for(Q=this._parts[n],l=0,$=Q.length,w=$-1;l<$;w=l++)if(!(!e&&l===0)&&Ro(t,Q[w],Q[l])<=it)return!0;return!1}});function Il(t,e){return new Ce(t,e)}Ce._flat=Io;var pn=Ce.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ko(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=Ce.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof W&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Ce.prototype._setLatLngs.call(this,t),ve(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ve(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new nt(e,e);if(t=new C(t.min.subtract(n),t.max.add(n)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var l=0,w=this._rings.length,j;l<w;l++)j=No(this._rings[l],t,!0),j.length&&this._parts.push(j)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e=!1,n,l,w,j,$,Q,it,lt;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(j=0,it=this._parts.length;j<it;j++)for(n=this._parts[j],$=0,lt=n.length,Q=lt-1;$<lt;Q=$++)l=n[$],w=n[Q],l.y>t.y!=w.y>t.y&&t.x<(w.x-l.x)*(t.y-l.y)/(w.y-l.y)+l.x&&(e=!e);return e||Ce.prototype._containsPoint.call(this,t,!0)}});function Dl(t,e){return new pn(t,e)}var Re=ke.extend({initialize:function(t,e){d(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e=E(t)?t:t.features,n,l,w;if(e){for(n=0,l=e.length;n<l;n++)w=e[n],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var j=this.options;if(j.filter&&!j.filter(t))return this;var $=hi(t,j);return $?($.feature=mi(t),$.defaultOptions=$.options,this.resetStyle($),j.onEachFeature&&j.onEachFeature(t,$),this.addLayer($)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=s({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&(typeof e=="function"&&(e=e(t.feature)),t.setStyle(e))}});function hi(t,e){var n=t.type==="Feature"?t.geometry:t,l=n?n.coordinates:null,w=[],j=e&&e.pointToLayer,$=e&&e.coordsToLatLng||Or,Q,it,lt,pt;if(!l&&!n)return null;switch(n.type){case"Point":return Q=$(l),qo(j,t,Q,e);case"MultiPoint":for(lt=0,pt=l.length;lt<pt;lt++)Q=$(l[lt]),w.push(qo(j,t,Q,e));return new ke(w);case"LineString":case"MultiLineString":return it=di(l,n.type==="LineString"?0:1,$),new Ce(it,e);case"Polygon":case"MultiPolygon":return it=di(l,n.type==="Polygon"?1:2,$),new pn(it,e);case"GeometryCollection":for(lt=0,pt=n.geometries.length;lt<pt;lt++){var xt=hi({geometry:n.geometries[lt],type:"Feature",properties:t.properties},e);xt&&w.push(xt)}return new ke(w);case"FeatureCollection":for(lt=0,pt=n.features.length;lt<pt;lt++){var Lt=hi(n.features[lt],e);Lt&&w.push(Lt)}return new ke(w);default:throw new Error("Invalid GeoJSON object.")}}function qo(t,e,n,l){return t?t(e,n):new ci(n,l&&l.markersInheritOptions&&l)}function Or(t){return new W(t[1],t[0],t[2])}function di(t,e,n){for(var l=[],w=0,j=t.length,$;w<j;w++)$=e?di(t[w],e-1,n):(n||Or)(t[w]),l.push($);return l}function Tr(t,e){return t=B(t),t.alt!==void 0?[u(t.lng,e),u(t.lat,e),u(t.alt,e)]:[u(t.lng,e),u(t.lat,e)]}function pi(t,e,n,l){for(var w=[],j=0,$=t.length;j<$;j++)w.push(e?pi(t[j],ve(t[j])?0:e-1,n,l):Tr(t[j],l));return!e&&n&&w.length>0&&w.push(w[0].slice()),w}function mn(t,e){return t.feature?s({},t.feature,{geometry:e}):mi(e)}function mi(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Pr={toGeoJSON:function(t){return mn(this,{type:"Point",coordinates:Tr(this.getLatLng(),t)})}};ci.include(Pr),Er.include(Pr),fi.include(Pr),Ce.include({toGeoJSON:function(t){var e=!ve(this._latlngs),n=pi(this._latlngs,e?1:0,!1,t);return mn(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}}),pn.include({toGeoJSON:function(t){var e=!ve(this._latlngs),n=e&&!ve(this._latlngs[0]),l=pi(this._latlngs,n?2:e?1:0,!0,t);return e||(l=[l]),mn(this,{type:(n?"Multi":"")+"Polygon",coordinates:l})}}),hn.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),mn(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint")return this.toMultiPoint(t);var n=e==="GeometryCollection",l=[];return this.eachLayer(function(w){if(w.toGeoJSON){var j=w.toGeoJSON(t);if(n)l.push(j.geometry);else{var $=mi(j);$.type==="FeatureCollection"?l.push.apply(l,$.features):l.push($)}}}),n?mn(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});function Fo(t,e){return new Re(t,e)}var Bl=Fo,vi=be.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=V(e),d(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(St(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ft(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&cn(this._image),this},bringToBack:function(){return this._map&&fn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=V(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",e=this._image=t?this._url:Rt("img");if(St(e,"leaflet-image-layer"),this._zoomAnimated&&St(e,"leaflet-zoom-animated"),this.options.className&&St(e,this.options.className),e.onselectstart=f,e.onmousemove=f,e.onload=g(this.fire,this,"load"),e.onerror=g(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(e.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=e.src;return}e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Ve(this._image,n,e)},_reset:function(){var t=this._image,e=new C(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();Wt(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){me(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),zl=function(t,e,n){return new vi(t,e,n)},Uo=vi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",e=this._image=t?this._url:Rt("video");if(St(e,"leaflet-image-layer"),this._zoomAnimated&&St(e,"leaflet-zoom-animated"),this.options.className&&St(e,this.options.className),e.onselectstart=f,e.onmousemove=f,e.onloadeddata=g(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),l=[],w=0;w<n.length;w++)l.push(n[w].src);this._url=n.length>0?l:[e.src];return}E(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var j=0;j<this._url.length;j++){var $=Rt("source");$.src=this._url[j],e.appendChild($)}}});function ql(t,e,n){return new Uo(t,e,n)}var Ho=vi.extend({_initImage:function(){var t=this._image=this._url;St(t,"leaflet-image-layer"),this._zoomAnimated&&St(t,"leaflet-zoom-animated"),this.options.className&&St(t,this.options.className),t.onselectstart=f,t.onmousemove=f}});function Fl(t,e,n){return new Ho(t,e,n)}var Pe=be.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof W||E(t))?(this._latlng=B(t),d(this,e)):(d(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&me(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&me(this._container,1),this.bringToFront(),this.options.interactive&&(St(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(me(this._container,0),this._removeTimeout=setTimeout(g(Ft,void 0,this._container),200)):Ft(this._container),this.options.interactive&&(Zt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=B(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&cn(this._container),this},bringToBack:function(){return this._map&&fn(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof ke){e=null;var n=this._source._layers;for(var l in n)if(n[l]._map){e=n[l];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else if(e.getBounds)t=e.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof e=="string")t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=F(this.options.offset),n=this._getAnchor();this._zoomAnimated?Wt(this._container,t.add(n)):e=e.add(t).add(n);var l=this._containerBottom=-e.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=l+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Ct.include({_initOverlay:function(t,e,n,l){var w=e;return w instanceof t||(w=new t(l).setContent(e)),n&&w.setLatLng(n),w}}),be.include({_initOverlay:function(t,e,n,l){var w=n;return w instanceof t?(d(w,l),w._source=this):(w=e&&!l?e:new t(l,this),w.setContent(n)),w}});var gi=Pe.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Pe.prototype.openOn.call(this,t)},onAdd:function(t){Pe.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof He||this._source.on("preclick",Xe))},onRemove:function(t){Pe.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof He||this._source.off("preclick",Xe))},getEvents:function(){var t=Pe.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=Rt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=Rt("div",t+"-content-wrapper",e);if(this._contentNode=Rt("div",t+"-content",n),In(e),mr(this._contentNode),Pt(e,"contextmenu",Xe),this._tipContainer=Rt("div",t+"-tip-container",e),this._tip=Rt("div",t+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=Rt("a",t+"-close-button",e);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',Pt(l,"click",function(w){Jt(w),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var l=t.offsetHeight,w=this.options.maxHeight,j="leaflet-popup-scrolled";w&&l>w?(e.height=w+"px",St(t,j)):Zt(t,j),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();Wt(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,e=parseInt(Cn(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,l=this._containerWidth,w=new nt(this._containerLeft,-n-this._containerBottom);w._add(Ye(this._container));var j=t.layerPointToContainerPoint(w),$=F(this.options.autoPanPadding),Q=F(this.options.autoPanPaddingTopLeft||$),it=F(this.options.autoPanPaddingBottomRight||$),lt=t.getSize(),pt=0,xt=0;j.x+l+it.x>lt.x&&(pt=j.x+l-lt.x+it.x),j.x-pt-Q.x<0&&(pt=j.x-Q.x),j.y+n+it.y>lt.y&&(xt=j.y+n-lt.y+it.y),j.y-xt-Q.y<0&&(xt=j.y-Q.y),(pt||xt)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([pt,xt]))}},_getAnchor:function(){return F(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ul=function(t,e){return new gi(t,e)};Ct.mergeOptions({closePopupOnClick:!0}),Ct.include({openPopup:function(t,e,n){return this._initOverlay(gi,t,e,n).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),be.include({bindPopup:function(t,e){return this._popup=this._initOverlay(gi,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof ke||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Je(t);var e=t.layer||t.target;if(this._popup._source===e&&!(e instanceof He)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=e,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var _i=Pe.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Pe.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Pe.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Pe.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Rt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+x(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,l=this._map,w=this._container,j=l.latLngToContainerPoint(l.getCenter()),$=l.layerPointToContainerPoint(t),Q=this.options.direction,it=w.offsetWidth,lt=w.offsetHeight,pt=F(this.options.offset),xt=this._getAnchor();Q==="top"?(e=it/2,n=lt):Q==="bottom"?(e=it/2,n=0):Q==="center"?(e=it/2,n=lt/2):Q==="right"?(e=0,n=lt/2):Q==="left"?(e=it,n=lt/2):$.x<j.x?(Q="right",e=0,n=lt/2):(Q="left",e=it+(pt.x+xt.x)*2,n=lt/2),t=t.subtract(F(e,n,!0)).add(pt).add(xt),Zt(w,"leaflet-tooltip-right"),Zt(w,"leaflet-tooltip-left"),Zt(w,"leaflet-tooltip-top"),Zt(w,"leaflet-tooltip-bottom"),St(w,"leaflet-tooltip-"+Q),Wt(w,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&me(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return F(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Hl=function(t,e){return new _i(t,e)};Ct.include({openTooltip:function(t,e,n){return this._initOverlay(_i,t,e,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),be.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(_i,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof ke||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&(Pt(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Pt(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",function(){e._openOnceFlag=!1,e._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var e=t.latlng,n,l;this._tooltip.options.sticky&&t.originalEvent&&(n=this._map.mouseEventToContainerPoint(t.originalEvent),l=this._map.containerPointToLayerPoint(n),e=this._map.layerPointToLatLng(l)),this._tooltip.setLatLng(e)}});var Zo=dn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(ri(e),e.appendChild(n.html)):e.innerHTML=n.html!==!1?n.html:"",n.bgPos){var l=F(n.bgPos);e.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Zl(t){return new Zo(t)}dn.Default=zn;var qn=be.extend({options:{tileSize:256,opacity:1,updateWhenIdle:gt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){d(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Ft(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(cn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=O(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof nt?t:new nt(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e=this.getPane().children,n=-t(-1/0,1/0),l=0,w=e.length,j;l<w;l++)j=e[l].style.zIndex,e[l]!==this._container&&j&&(n=t(n,+j));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!gt.ielt9){me(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var l in this._tiles){var w=this._tiles[l];if(!(!w.current||!w.loaded)){var j=Math.min(1,(t-w.loaded)/200);me(w.el,j),j<1?e=!0:(w.active?n=!0:this._onOpaqueTile(w),w.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(N(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=Rt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t!==void 0){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(Ft(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var l=this._levels[t],w=this._map;return l||(l=this._levels[t]={},l.el=Rt("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=e,l.origin=w.project(w.unproject(w.getPixelOrigin()),t).round(),l.zoom=t,this._setZoomTransform(l,w.getCenter(),w.getZoom()),f(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var l=e.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Ft(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,l){var w=Math.floor(t/2),j=Math.floor(e/2),$=n-1,Q=new nt(+w,+j);Q.z=+$;var it=this._tileCoordsToKey(Q),lt=this._tiles[it];return lt&&lt.active?(lt.retain=!0,!0):(lt&&lt.loaded&&(lt.retain=!0),$>l?this._retainParent(w,j,$,l):!1)},_retainChildren:function(t,e,n,l){for(var w=2*t;w<2*t+2;w++)for(var j=2*e;j<2*e+2;j++){var $=new nt(w,j);$.z=n+1;var Q=this._tileCoordsToKey($),it=this._tiles[Q];if(it&&it.active){it.retain=!0;continue}else it&&it.loaded&&(it.retain=!0);n+1<l&&this._retainChildren(w,j,n+1,l)}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return e.minNativeZoom!==void 0&&t<e.minNativeZoom?e.minNativeZoom:e.maxNativeZoom!==void 0&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,l){var w=Math.round(e);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var j=this.options.updateWhenZooming&&w!==this._tileZoom;(!l||j)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var l=this._map.getZoomScale(n,t.zoom),w=t.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(e,n)).round();gt.any3d?Ve(t.el,w,l):Wt(t.el,w)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),l=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],l).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],l).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],l).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],l).y/n.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),l=e.getZoomScale(n,this._tileZoom),w=e.project(t,this._tileZoom).floor(),j=e.getSize().divideBy(l*2);return new C(w.subtract(j),w.add(j))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(t===void 0&&(t=e.getCenter()),this._tileZoom!==void 0){var l=this._getTiledPixelBounds(t),w=this._pxBoundsToTileRange(l),j=w.getCenter(),$=[],Q=this.options.keepBuffer,it=new C(w.getBottomLeft().subtract([Q,-Q]),w.getTopRight().add([Q,-Q]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var lt in this._tiles){var pt=this._tiles[lt].coords;(pt.z!==this._tileZoom||!it.contains(new nt(pt.x,pt.y)))&&(this._tiles[lt].current=!1)}if(Math.abs(n-this._tileZoom)>1){this._setView(t,n);return}for(var xt=w.min.y;xt<=w.max.y;xt++)for(var Lt=w.min.x;Lt<=w.max.x;Lt++){var ne=new nt(Lt,xt);if(ne.z=this._tileZoom,!!this._isValidTile(ne)){var Yt=this._tiles[this._tileCoordsToKey(ne)];Yt?Yt.current=!0:$.push(ne)}}if($.sort(function(ae,gn){return ae.distanceTo(j)-gn.distanceTo(j)}),$.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ge=document.createDocumentFragment();for(Lt=0;Lt<$.length;Lt++)this._addTile($[Lt],ge);this._level.el.appendChild(ge)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(t);return V(this.options.bounds).overlaps(l)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),l=t.scaleBy(n),w=l.add(n),j=e.unproject(l,t.z),$=e.unproject(w,t.z);return[j,$]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new H(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new nt(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(Ft(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){St(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=f,t.onmousemove=f,gt.ielt9&&this.options.opacity<1&&me(t,this.options.opacity)},_addTile:function(t,e){var n=this._getTilePos(t),l=this._tileCoordsToKey(t),w=this.createTile(this._wrapCoords(t),g(this._tileReady,this,t));this._initTile(w),this.createTile.length<2&&S(g(this._tileReady,this,t,null,w)),Wt(w,n),this._tiles[l]={el:w,coords:t,current:!0},e.appendChild(w),this.fire("tileloadstart",{tile:w,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var l=this._tileCoordsToKey(t);n=this._tiles[l],n&&(n.loaded=+new Date,this._map._fadeAnimated?(me(n.el,0),N(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(St(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),gt.ielt9||!this._map._fadeAnimated?S(this._pruneTiles,this):setTimeout(g(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new nt(this._wrapX?y(t.x,this._wrapX):t.x,this._wrapY?y(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new C(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function $l(t){return new qn(t)}var vn=qn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,e=d(this,e),e.detectRetina&&gt.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),typeof e.subdomains=="string"&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&e===void 0&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Pt(n,"load",g(this._tileOnLoad,this,e,n)),Pt(n,"error",g(this._tileOnError,this,e,n)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:gt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return m(this._url,s(e,this.options))},_tileOnLoad:function(t,e){gt.ielt9?setTimeout(g(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var l=this.options.errorTileUrl;l&&e.getAttribute("src")!==l&&(e.src=l),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,l=this.options.zoomOffset;return n&&(t=e-t),t+l},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=f,e.onerror=f,!e.complete)){e.src=P;var n=this._tiles[t].coords;Ft(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:n})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",P),qn.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(!(!this._map||n&&n.getAttribute("src")===P))return qn.prototype._tileReady.call(this,t,e,n)}});function $o(t,e){return new vn(t,e)}var Wo=vn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=s({},this.defaultWmsParams);for(var l in e)l in this.options||(n[l]=e[l]);e=d(this,e);var w=e.detectRetina&&gt.retina?2:1,j=this.getTileSize();n.width=j.x*w,n.height=j.y*w,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,vn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,l=U(n.project(e[0]),n.project(e[1])),w=l.min,j=l.max,$=(this._wmsVersion>=1.3&&this._crs===Bo?[w.y,w.x,j.y,j.x]:[w.x,w.y,j.x,j.y]).join(","),Q=vn.prototype.getTileUrl.call(this,t);return Q+v(this.wmsParams,Q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+$},setParams:function(t,e){return s(this.wmsParams,t),e||this.redraw(),this}});function Wl(t,e){return new Wo(t,e)}vn.WMS=Wo,$o.wms=Wl;var je=be.extend({options:{padding:.1},initialize:function(t){d(this,t),x(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),St(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,e),j=l.multiplyBy(-n).add(w).subtract(this._map._getNewPixelOrigin(t,e));gt.any3d?Ve(this._container,j,n):Wt(this._container,j)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new C(n,n.add(e.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Go=je.extend({options:{tolerance:0},getEvents:function(){var t=je.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){je.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Pt(t,"mousemove",this._onMouseMove,this),Pt(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pt(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){N(this._redrawRequest),delete this._ctx,Ft(this._container),Bt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){je.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),l=gt.retina?2:1;Wt(e,t.min),e.width=l*n.x,e.height=l*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",gt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){je.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[x(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,l=e.prev;n?n.prev=l:this._drawLast=l,l?l.next=n:this._drawFirst=n,delete t._order,delete this._layers[x(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var e=t.options.dashArray.split(/[, ]+/),n=[],l,w;for(w=0;w<e.length;w++){if(l=Number(e[w]),isNaN(l))return;n.push(l)}t.options._dashArray=n}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||S(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new C,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)t=l.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,l,w,j,$=t._parts,Q=$.length,it=this._ctx;if(Q){for(it.beginPath(),n=0;n<Q;n++){for(l=0,w=$[n].length;l<w;l++)j=$[n][l],it[l?"lineTo":"moveTo"](j.x,j.y);e&&it.closePath()}this._fillStroke(it,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var e=t._point,n=this._ctx,l=Math.max(Math.round(t._radius),1),w=(Math.max(Math.round(t._radiusY),1)||l)/l;w!==1&&(n.save(),n.scale(1,w)),n.beginPath(),n.arc(e.x,e.y/w,l,0,Math.PI*2,!1),w!==1&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&n.weight!==0&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e=this._map.mouseEventToLayerPoint(t),n,l,w=this._drawFirst;w;w=w.next)n=w.layer,n.options.interactive&&n._containsPoint(e)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(n))&&(l=n);this._fireEvent(l?[l]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(Zt(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,l,w=this._drawFirst;w;w=w.next)n=w.layer,n.options.interactive&&n._containsPoint(e)&&(l=n);l!==this._hoveredLayer&&(this._handleMouseOut(t),l&&(St(this._container,"leaflet-interactive"),this._fireEvent([l],t,"mouseover"),this._hoveredLayer=l)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(g(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,l=e.prev;if(n)n.prev=l;else return;l?l.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,l=e.prev;if(l)l.next=n;else return;n?n.prev=l:l&&(this._drawLast=l),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function Ko(t){return gt.canvas?new Go(t):null}var Fn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Gl={_initContainer:function(){this._container=Rt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(je.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Fn("shape");St(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Fn("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[x(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;Ft(e),t.removeInteractiveTarget(e),delete this._layers[x(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,l=t.options,w=t._container;w.stroked=!!l.stroke,w.filled=!!l.fill,l.stroke?(e||(e=t._stroke=Fn("stroke")),w.appendChild(e),e.weight=l.weight+"px",e.color=l.color,e.opacity=l.opacity,l.dashArray?e.dashStyle=E(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=l.lineCap.replace("butt","flat"),e.joinstyle=l.lineJoin):e&&(w.removeChild(e),t._stroke=null),l.fill?(n||(n=t._fill=Fn("fill")),w.appendChild(n),n.color=l.fillColor||l.color,n.opacity=l.fillOpacity):n&&(w.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),l=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+l+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){cn(t._container)},_bringToBack:function(t){fn(t._container)}},yi=gt.vml?Fn:kt,Un=je.extend({_initContainer:function(){this._container=yi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=yi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ft(this._container),Bt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){je.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),Wt(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=yi("path");t.options.className&&St(e,t.options.className),t.options.interactive&&St(e,"leaflet-interactive"),this._updateStyle(t),this._layers[x(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Ft(t._path),t.removeInteractiveTarget(t._path),delete this._layers[x(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Ut(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),l=Math.max(Math.round(t._radiusY),1)||n,w="a"+n+","+l+" 0 1,0 ",j=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+w+n*2+",0 "+w+-n*2+",0 ";this._setPath(t,j)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){cn(t._path)},_bringToBack:function(t){fn(t._path)}});gt.vml&&Un.include(Gl);function Vo(t){return gt.svg||gt.vml?new Un(t):null}Ct.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var e=this._paneRenderers[t];return e===void 0&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Ko(t)||Vo(t)}});var Yo=pn.extend({initialize:function(t,e){pn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=V(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Kl(t,e){return new Yo(t,e)}Un.create=yi,Un.pointsToPath=Ut,Re.geometryToLayer=hi,Re.coordsToLatLng=Or,Re.coordsToLatLngs=di,Re.latLngToCoords=Tr,Re.latLngsToCoords=pi,Re.getFeature=mn,Re.asFeature=mi,Ct.mergeOptions({boxZoom:!0});var Xo=Te.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Bt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ft(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Rn(),sr(),this._startPoint=this._map.mouseEventToContainerPoint(t),Pt(document,{contextmenu:Je,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Rt("div","leaflet-zoom-box",this._container),St(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new C(this._point,this._startPoint),n=e.getSize();Wt(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(Ft(this._box),Zt(this._container,"leaflet-crosshair")),jn(),lr(),Bt(document,{contextmenu:Je,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(g(this._resetState,this),0);var e=new H(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ct.addInitHook("addHandler","boxZoom",Xo),Ct.mergeOptions({doubleClickZoom:!0});var Jo=Te.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),l=e.options.zoomDelta,w=t.originalEvent.shiftKey?n-l:n+l;e.options.doubleClickZoom==="center"?e.setZoom(w):e.setZoomAround(t.containerPoint,w)}});Ct.addInitHook("addHandler","doubleClickZoom",Jo),Ct.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Qo=Te.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Ue(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}St(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Zt(this._map._container,"leaflet-grab"),Zt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=V(this._map.options.maxBounds);this._offsetLimit=U(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,l=this._draggable._newPos.x,w=(l-e+n)%t+e-n,j=(l+e+n)%t-e-n,$=Math.abs(w+n)<Math.abs(j+n)?w:j;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=$},_onDragEnd:function(t){var e=this._map,n=e.options,l=!n.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),l)e.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),j=(this._lastTime-this._times[0])/1e3,$=n.easeLinearity,Q=w.multiplyBy($/j),it=Q.distanceTo([0,0]),lt=Math.min(n.inertiaMaxSpeed,it),pt=Q.multiplyBy(lt/it),xt=lt/(n.inertiaDeceleration*$),Lt=pt.multiplyBy(-xt/2).round();!Lt.x&&!Lt.y?e.fire("moveend"):(Lt=e._limitOffset(Lt,e.options.maxBounds),S(function(){e.panBy(Lt,{duration:xt,easeLinearity:$,noMoveStart:!0,animate:!0})}))}}});Ct.addInitHook("addHandler","dragging",Qo),Ct.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ta=Te.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Pt(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Bt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,l=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(l,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},n=this.keyCodes,l,w;for(l=0,w=n.left.length;l<w;l++)e[n.left[l]]=[-1*t,0];for(l=0,w=n.right.length;l<w;l++)e[n.right[l]]=[t,0];for(l=0,w=n.down.length;l<w;l++)e[n.down[l]]=[0,t];for(l=0,w=n.up.length;l<w;l++)e[n.up[l]]=[0,-1*t]},_setZoomDelta:function(t){var e=this._zoomKeys={},n=this.keyCodes,l,w;for(l=0,w=n.zoomIn.length;l<w;l++)e[n.zoomIn[l]]=t;for(l=0,w=n.zoomOut.length;l<w;l++)e[n.zoomOut[l]]=-t},_addHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Bt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=t.keyCode,n=this._map,l;if(e in this._panKeys){if(!n._panAnim||!n._panAnim._inProgress)if(l=this._panKeys[e],t.shiftKey&&(l=F(l).multiplyBy(3)),n.options.maxBounds&&(l=n._limitOffset(F(l),n.options.maxBounds)),n.options.worldCopyJump){var w=n.wrapLatLng(n.unproject(n.project(n.getCenter()).add(l)));n.panTo(w)}else n.panBy(l)}else if(e in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else if(e===27&&n._popup&&n._popup.options.closeOnEscapeKey)n.closePopup();else return;Je(t)}}});Ct.addInitHook("addHandler","keyboard",ta),Ct.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ea=Te.extend({addHooks:function(){Pt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Bt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=To(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var l=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(g(this._performZoom,this),l),Je(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var l=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,j=n?Math.ceil(w/n)*n:w,$=t._limitZoom(e+(this._delta>0?j:-j))-e;this._delta=0,this._startTime=null,$&&(t.options.scrollWheelZoom==="center"?t.setZoom(e+$):t.setZoomAround(this._lastMousePos,e+$))}});Ct.addInitHook("addHandler","scrollWheelZoom",ea);var Vl=600;Ct.mergeOptions({tapHold:gt.touchNative&&gt.safari&&gt.mobile,tapTolerance:15});var na=Te.extend({addHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Bt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var e=t.touches[0];this._startPos=this._newPos=new nt(e.clientX,e.clientY),this._holdTimeout=setTimeout(g(function(){this._cancel(),this._isTapValid()&&(Pt(document,"touchend",Jt),Pt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),Vl),Pt(document,"touchend touchcancel contextmenu",this._cancel,this),Pt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Bt(document,"touchend",Jt),Bt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Bt(document,"touchend touchcancel contextmenu",this._cancel,this),Bt(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new nt(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});n._simulated=!0,e.target.dispatchEvent(n)}});Ct.addInitHook("addHandler","tapHold",na),Ct.mergeOptions({touchZoom:gt.touch,bounceAtZoomLimits:!0});var ia=Te.extend({addHooks:function(){St(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Zt(this._map._container,"leaflet-touch-zoom"),Bt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming)){var n=e.mouseEventToContainerPoint(t.touches[0]),l=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),e.options.touchZoom!=="center"&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(l)._divideBy(2))),this._startDist=n.distanceTo(l),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Pt(document,"touchmove",this._onTouchMove,this),Pt(document,"touchend touchcancel",this._onTouchEnd,this),Jt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),l=e.mouseEventToContainerPoint(t.touches[1]),w=n.distanceTo(l)/this._startDist;if(this._zoom=e.getScaleZoom(w,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&w<1||this._zoom>e.getMaxZoom()&&w>1)&&(this._zoom=e._limitZoom(this._zoom)),e.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var j=n._add(l)._divideBy(2)._subtract(this._centerPoint);if(w===1&&j.x===0&&j.y===0)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(j),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),N(this._animRequest);var $=g(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=S($,this,!0),Jt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,N(this._animRequest),Bt(document,"touchmove",this._onTouchMove,this),Bt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ct.addInitHook("addHandler","touchZoom",ia),Ct.BoxZoom=Xo,Ct.DoubleClickZoom=Jo,Ct.Drag=Qo,Ct.Keyboard=ta,Ct.ScrollWheelZoom=ea,Ct.TapHold=na,Ct.TouchZoom=ia,o.Bounds=C,o.Browser=gt,o.CRS=G,o.Canvas=Go,o.Circle=Er,o.CircleMarker=fi,o.Class=q,o.Control=ye,o.DivIcon=Zo,o.DivOverlay=Pe,o.DomEvent=dl,o.DomUtil=fl,o.Draggable=Ue,o.Evented=J,o.FeatureGroup=ke,o.GeoJSON=Re,o.GridLayer=qn,o.Handler=Te,o.Icon=dn,o.ImageOverlay=vi,o.LatLng=W,o.LatLngBounds=H,o.Layer=be,o.LayerGroup=hn,o.LineUtil=Pl,o.Map=Ct,o.Marker=ci,o.Mixin=bl,o.Path=He,o.Point=nt,o.PolyUtil=xl,o.Polygon=pn,o.Polyline=Ce,o.Popup=gi,o.PosAnimation=Po,o.Projection=Al,o.Rectangle=Yo,o.Renderer=je,o.SVG=Un,o.SVGOverlay=Ho,o.TileLayer=vn,o.Tooltip=_i,o.Transformation=dt,o.Util=D,o.VideoOverlay=Uo,o.bind=g,o.bounds=U,o.canvas=Ko,o.circle=Ml,o.circleMarker=jl,o.control=Dn,o.divIcon=Zl,o.extend=s,o.featureGroup=kl,o.geoJSON=Fo,o.geoJson=Bl,o.gridLayer=$l,o.icon=Cl,o.imageOverlay=zl,o.latLng=B,o.latLngBounds=V,o.layerGroup=Nl,o.map=pl,o.marker=Rl,o.point=F,o.polygon=Dl,o.polyline=Il,o.popup=Ul,o.rectangle=Kl,o.setOptions=d,o.stamp=x,o.svg=Vo,o.svgOverlay=Fl,o.tileLayer=$o,o.tooltip=Hl,o.transformation=_t,o.version=i,o.videoOverlay=ql;var Yl=window.L;o.noConflict=function(){return window.L=Yl,this},window.L=o})})(Fr,Fr.exports);var Bi=Fr.exports;function ao(r,a,o){return Object.freeze({instance:r,context:a,container:o})}function so(r,a){return a==null?function(i,s){const _=vt.useRef();return _.current||(_.current=r(i,s)),_}:function(i,s){const _=vt.useRef();_.current||(_.current=r(i,s));const g=vt.useRef(i),{instance:T}=_.current;return vt.useEffect(function(){g.current!==i&&(a(T,i,g.current),g.current=i)},[T,i,s]),_}}function Lu(r,a){vt.useEffect(function(){return(a.layerContainer??a.map).addLayer(r.instance),function(){var _;(_=a.layerContainer)==null||_.removeLayer(r.instance),a.map.removeLayer(r.instance)}},[a,r])}function vs(r){return function(o){const i=ps(),s=r(oo(o,i),i);return fs(i.map,o.attribution),ms(s.current,o.eventHandlers),Lu(s.current,i),s}}function Nu(r,a){const o=so(r,a),i=vs(o);return Tu(i)}function ku(r,a){const o=so(r),i=Su(o,a);return Pu(i)}function Cu(r,a){const o=so(r,a),i=vs(o);return Au(i)}function Ru(r,a,o){const{opacity:i,zIndex:s}=a;i!=null&&i!==o.opacity&&r.setOpacity(i),s!=null&&s!==o.zIndex&&r.setZIndex(s)}function Ur(){return Ur=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])}return r},Ur.apply(this,arguments)}function ju({bounds:r,boundsOptions:a,center:o,children:i,className:s,id:_,placeholder:g,style:T,whenReady:x,zoom:O,...y},f){const[u]=vt.useState({className:s,id:_,style:T}),[c,b]=vt.useState(null);vt.useImperativeHandle(f,()=>(c==null?void 0:c.map)??null,[c]);const d=vt.useCallback(p=>{if(p!==null&&c===null){const m=new Bi.Map(p,y);o!=null&&O!=null?m.setView(o,O):r!=null&&m.fitBounds(r,a),x!=null&&m.whenReady(x),b(Eu(m))}},[]);vt.useEffect(()=>()=>{c==null||c.map.remove()},[c]);const v=c?Si.createElement(ds,{value:c},i):g??null;return Si.createElement("div",Ur({},u,{ref:d}),v)}const Mu=vt.forwardRef(ju),Iu=Nu(function({position:a,...o},i){const s=new Bi.Marker(a,o);return ao(s,Ou(i,{overlayContainer:s}))},function(a,o,i){o.position!==i.position&&a.setLatLng(o.position),o.icon!=null&&o.icon!==i.icon&&a.setIcon(o.icon),o.zIndexOffset!=null&&o.zIndexOffset!==i.zIndexOffset&&a.setZIndexOffset(o.zIndexOffset),o.opacity!=null&&o.opacity!==i.opacity&&a.setOpacity(o.opacity),a.dragging!=null&&o.draggable!==i.draggable&&(o.draggable===!0?a.dragging.enable():a.dragging.disable())}),Du=ku(function(a,o){const i=new Bi.Popup(a,o.overlayContainer);return ao(i,o)},function(a,o,{position:i},s){vt.useEffect(function(){const{instance:g}=a;function T(O){O.popup===g&&(g.update(),s(!0))}function x(O){O.popup===g&&s(!1)}return o.map.on({popupopen:T,popupclose:x}),o.overlayContainer==null?(i!=null&&g.setLatLng(i),g.openOn(o.map)):o.overlayContainer.bindPopup(g),function(){var y;o.map.off({popupopen:T,popupclose:x}),(y=o.overlayContainer)==null||y.unbindPopup(),o.map.removeLayer(g)}},[a,o,s,i])}),Bu=Cu(function({url:a,...o},i){const s=new Bi.TileLayer(a,oo(o,i));return ao(s,i)},function(a,o,i){Ru(a,o,i);const{url:s}=o;s!=null&&s!==i.url&&a.setUrl(s)});function zu({item:r}){return A.jsx(Iu,{position:[r.latitude,r.longitude],children:A.jsx(Du,{children:A.jsxs("div",{className:"popupContainer",children:[A.jsx("img",{src:r.images[0],alt:""}),A.jsxs("div",{className:"textContainer",children:[A.jsx(Me,{to:`/${r.id}`,children:r.title}),A.jsxs("span",{children:[r.bedroom," bedroom"]}),A.jsxs("b",{children:["$ ",r.price]})]})]})})})}function gs({items:r}){return A.jsxs(Mu,{center:r&&r.length===1?[r[0].latitude,r[0].longitude]:[52.4797,-1.90269],zoom:7,scrollWheelZoom:!1,className:"map",children:[A.jsx(Bu,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r&&r.map(a=>A.jsx(zu,{item:a},a.id))]})}function qu(){const r=ro();return A.jsxs("div",{className:"listPage",children:[A.jsx("div",{className:"listContainer",children:A.jsxs("div",{className:"wrapper",children:[A.jsx(xu,{}),A.jsx(vt.Suspense,{fallback:A.jsx("p",{children:"Loading posts..."}),children:A.jsx(Li,{resolve:r.postResponse,errorElement:A.jsx("p",{children:"Error loading posts"}),children:a=>a.data.map(o=>A.jsx(cs,{item:o},o.id))})})]})}),A.jsx("div",{className:"mapContainer",children:A.jsx(vt.Suspense,{fallback:A.jsx("p",{children:"Loading map..."}),children:A.jsx(Li,{resolve:r.postResponse,errorElement:A.jsx("p",{children:"Error loading map data"}),children:a=>A.jsx(gs,{items:a.data})})})})]})}function _s(){const[r,a]=vt.useState(!1),{currentUser:o}=vt.useContext(Ie);return A.jsxs("nav",{children:[A.jsxs("div",{className:"left",children:[A.jsxs("a",{href:"/",className:"logo",children:[A.jsx("img",{src:"/logo.png",alt:""}),A.jsx("span",{children:"realEstate"})]}),A.jsx("a",{href:"/",children:"Home"}),A.jsx("a",{href:"/",children:"About"}),A.jsx("a",{href:"/",children:"Contact"}),A.jsx("a",{href:"/",children:"Agents"})]}),A.jsxs("div",{className:"right",children:[o?A.jsxs("div",{className:"user",children:[A.jsx("img",{src:o.avatar||"/noavatar.jpg",alt:""}),A.jsx("span",{children:o.username}),A.jsxs(Me,{to:"/profile",style:{cursor:"pointer"},className:"profile",children:[A.jsx("div",{className:"notification",children:"3"}),A.jsx("span",{children:"Profile"})]})]}):A.jsxs(A.Fragment,{children:[A.jsx("a",{href:"/login",children:"Sign in"}),A.jsx("a",{href:"/register",className:"register",children:"Sign up"})]}),A.jsx("div",{className:"menuIcon",children:A.jsx("img",{src:"/menu.png",alt:"",onClick:()=>a(i=>!i)})}),A.jsxs("div",{className:r?"menu active":"menu",children:[A.jsx("a",{href:"/",children:"Home"}),A.jsx("a",{href:"/",children:"About"}),A.jsx("a",{href:"/",children:"Contact"}),A.jsx("a",{href:"/",children:"Agents"}),A.jsx("a",{href:"/",children:"Sign in"}),A.jsx("a",{href:"/",children:"Sign up"})]})]})]})}function Fu(){const{currentUser:r}=vt.useContext(Ie);return console.log("currentUser",r),A.jsxs("div",{className:"layout",children:[A.jsx("div",{className:"navbar",children:A.jsx(_s,{})}),A.jsx("div",{className:"content",children:A.jsx(as,{})})]})}useEffect(()=>{console.log("AuthContextProvider initialized:",currentUser)},[currentUser]);function Uu(){const{currentUser:r}=vt.useContext(Ie);return console.log("currentUser in RequiredAuth:",r),r?A.jsxs("div",{className:"layout",children:[A.jsx("div",{className:"navbar",children:A.jsx(_s,{})}),A.jsx("div",{className:"content",children:A.jsx(as,{})})]}):A.jsx(au,{to:"/login"})}function Hu({images:r}){const[a,o]=vt.useState(null),i=s=>{s==="left"?o(a===0?r.length-1:a-1):a===r.length-1?o(0):o(a+1)};return A.jsxs("div",{className:"slider",children:[a!==null&&A.jsxs("div",{className:"fullSlider",children:[A.jsx("div",{className:"arrow",onClick:()=>i("left"),children:A.jsx("img",{src:"/arrow.png",alt:""})}),A.jsx("div",{className:"imgContainer",children:A.jsx("img",{src:r[a],alt:""})}),A.jsx("div",{className:"arrow",onClick:()=>i("right"),children:A.jsx("img",{src:"/arrow.png",className:"right",alt:""})}),A.jsx("div",{className:"close",onClick:()=>o(null),children:"X"})]}),A.jsx("div",{className:"bigImage",children:A.jsx("img",{src:r[0],alt:"",onClick:()=>o(0)})}),A.jsx("div",{className:"smallImages",children:r.slice(1).map((s,_)=>A.jsx("img",{src:s,alt:"",onClick:()=>o(_+1)},_))})]})}function ys(r,a){return function(){return r.apply(a,arguments)}}const{toString:Zu}=Object.prototype,{getPrototypeOf:lo}=Object,zi=(r=>a=>{const o=Zu.call(a);return r[o]||(r[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),Ee=r=>(r=r.toLowerCase(),a=>zi(a)===r),qi=r=>a=>typeof a===r,{isArray:_n}=Array,Xn=qi("undefined");function $u(r){return r!==null&&!Xn(r)&&r.constructor!==null&&!Xn(r.constructor)&&ce(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const bs=Ee("ArrayBuffer");function Wu(r){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(r):a=r&&r.buffer&&bs(r.buffer),a}const Gu=qi("string"),ce=qi("function"),xs=qi("number"),Fi=r=>r!==null&&typeof r=="object",Ku=r=>r===!0||r===!1,Oi=r=>{if(zi(r)!=="object")return!1;const a=lo(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Vu=Ee("Date"),Yu=Ee("File"),Xu=Ee("Blob"),Ju=Ee("FileList"),Qu=r=>Fi(r)&&ce(r.pipe),tc=r=>{let a;return r&&(typeof FormData=="function"&&r instanceof FormData||ce(r.append)&&((a=zi(r))==="formdata"||a==="object"&&ce(r.toString)&&r.toString()==="[object FormData]"))},ec=Ee("URLSearchParams"),[nc,ic,rc,oc]=["ReadableStream","Request","Response","Headers"].map(Ee),ac=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qn(r,a,{allOwnKeys:o=!1}={}){if(r===null||typeof r>"u")return;let i,s;if(typeof r!="object"&&(r=[r]),_n(r))for(i=0,s=r.length;i<s;i++)a.call(null,r[i],i,r);else{const _=o?Object.getOwnPropertyNames(r):Object.keys(r),g=_.length;let T;for(i=0;i<g;i++)T=_[i],a.call(null,r[T],T,r)}}function ws(r,a){a=a.toLowerCase();const o=Object.keys(r);let i=o.length,s;for(;i-- >0;)if(s=o[i],a===s.toLowerCase())return s;return null}const nn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Es=r=>!Xn(r)&&r!==nn;function Hr(){const{caseless:r}=Es(this)&&this||{},a={},o=(i,s)=>{const _=r&&ws(a,s)||s;Oi(a[_])&&Oi(i)?a[_]=Hr(a[_],i):Oi(i)?a[_]=Hr({},i):_n(i)?a[_]=i.slice():a[_]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Qn(arguments[i],o);return a}const sc=(r,a,o,{allOwnKeys:i}={})=>(Qn(a,(s,_)=>{o&&ce(s)?r[_]=ys(s,o):r[_]=s},{allOwnKeys:i}),r),lc=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),uc=(r,a,o,i)=>{r.prototype=Object.create(a.prototype,i),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:a.prototype}),o&&Object.assign(r.prototype,o)},cc=(r,a,o,i)=>{let s,_,g;const T={};if(a=a||{},r==null)return a;do{for(s=Object.getOwnPropertyNames(r),_=s.length;_-- >0;)g=s[_],(!i||i(g,r,a))&&!T[g]&&(a[g]=r[g],T[g]=!0);r=o!==!1&&lo(r)}while(r&&(!o||o(r,a))&&r!==Object.prototype);return a},fc=(r,a,o)=>{r=String(r),(o===void 0||o>r.length)&&(o=r.length),o-=a.length;const i=r.indexOf(a,o);return i!==-1&&i===o},hc=r=>{if(!r)return null;if(_n(r))return r;let a=r.length;if(!xs(a))return null;const o=new Array(a);for(;a-- >0;)o[a]=r[a];return o},dc=(r=>a=>r&&a instanceof r)(typeof Uint8Array<"u"&&lo(Uint8Array)),pc=(r,a)=>{const i=(r&&r[Symbol.iterator]).call(r);let s;for(;(s=i.next())&&!s.done;){const _=s.value;a.call(r,_[0],_[1])}},mc=(r,a)=>{let o;const i=[];for(;(o=r.exec(a))!==null;)i.push(o);return i},vc=Ee("HTMLFormElement"),gc=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,i,s){return i.toUpperCase()+s}),la=(({hasOwnProperty:r})=>(a,o)=>r.call(a,o))(Object.prototype),_c=Ee("RegExp"),Os=(r,a)=>{const o=Object.getOwnPropertyDescriptors(r),i={};Qn(o,(s,_)=>{let g;(g=a(s,_,r))!==!1&&(i[_]=g||s)}),Object.defineProperties(r,i)},yc=r=>{Os(r,(a,o)=>{if(ce(r)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const i=r[o];if(ce(i)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},bc=(r,a)=>{const o={},i=s=>{s.forEach(_=>{o[_]=!0})};return _n(r)?i(r):i(String(r).split(a)),o},xc=()=>{},wc=(r,a)=>r!=null&&Number.isFinite(r=+r)?r:a,Sr="abcdefghijklmnopqrstuvwxyz",ua="0123456789",Ts={DIGIT:ua,ALPHA:Sr,ALPHA_DIGIT:Sr+Sr.toUpperCase()+ua},Ec=(r=16,a=Ts.ALPHA_DIGIT)=>{let o="";const{length:i}=a;for(;r--;)o+=a[Math.random()*i|0];return o};function Oc(r){return!!(r&&ce(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const Tc=r=>{const a=new Array(10),o=(i,s)=>{if(Fi(i)){if(a.indexOf(i)>=0)return;if(!("toJSON"in i)){a[s]=i;const _=_n(i)?[]:{};return Qn(i,(g,T)=>{const x=o(g,s+1);!Xn(x)&&(_[T]=x)}),a[s]=void 0,_}}return i};return o(r,0)},Pc=Ee("AsyncFunction"),Ac=r=>r&&(Fi(r)||ce(r))&&ce(r.then)&&ce(r.catch),Ps=((r,a)=>r?setImmediate:a?((o,i)=>(nn.addEventListener("message",({source:s,data:_})=>{s===nn&&_===o&&i.length&&i.shift()()},!1),s=>{i.push(s),nn.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",ce(nn.postMessage)),Sc=typeof queueMicrotask<"u"?queueMicrotask.bind(nn):typeof process<"u"&&process.nextTick||Ps,rt={isArray:_n,isArrayBuffer:bs,isBuffer:$u,isFormData:tc,isArrayBufferView:Wu,isString:Gu,isNumber:xs,isBoolean:Ku,isObject:Fi,isPlainObject:Oi,isReadableStream:nc,isRequest:ic,isResponse:rc,isHeaders:oc,isUndefined:Xn,isDate:Vu,isFile:Yu,isBlob:Xu,isRegExp:_c,isFunction:ce,isStream:Qu,isURLSearchParams:ec,isTypedArray:dc,isFileList:Ju,forEach:Qn,merge:Hr,extend:sc,trim:ac,stripBOM:lc,inherits:uc,toFlatObject:cc,kindOf:zi,kindOfTest:Ee,endsWith:fc,toArray:hc,forEachEntry:pc,matchAll:mc,isHTMLForm:vc,hasOwnProperty:la,hasOwnProp:la,reduceDescriptors:Os,freezeMethods:yc,toObjectSet:bc,toCamelCase:gc,noop:xc,toFiniteNumber:wc,findKey:ws,global:nn,isContextDefined:Es,ALPHABET:Ts,generateString:Ec,isSpecCompliantForm:Oc,toJSONObject:Tc,isAsyncFn:Pc,isThenable:Ac,setImmediate:Ps,asap:Sc};function At(r,a,o,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",a&&(this.code=a),o&&(this.config=o),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}rt.inherits(At,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:rt.toJSONObject(this.config),code:this.code,status:this.status}}});const As=At.prototype,Ss={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Ss[r]={value:r}});Object.defineProperties(At,Ss);Object.defineProperty(As,"isAxiosError",{value:!0});At.from=(r,a,o,i,s,_)=>{const g=Object.create(As);return rt.toFlatObject(r,g,function(x){return x!==Error.prototype},T=>T!=="isAxiosError"),At.call(g,r.message,a,o,i,s),g.cause=r,g.name=r.name,_&&Object.assign(g,_),g};const Lc=null;function Zr(r){return rt.isPlainObject(r)||rt.isArray(r)}function Ls(r){return rt.endsWith(r,"[]")?r.slice(0,-2):r}function ca(r,a,o){return r?r.concat(a).map(function(s,_){return s=Ls(s),!o&&_?"["+s+"]":s}).join(o?".":""):a}function Nc(r){return rt.isArray(r)&&!r.some(Zr)}const kc=rt.toFlatObject(rt,{},null,function(a){return/^is[A-Z]/.test(a)});function Ui(r,a,o){if(!rt.isObject(r))throw new TypeError("target must be an object");a=a||new FormData,o=rt.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(d,v){return!rt.isUndefined(v[d])});const i=o.metaTokens,s=o.visitor||y,_=o.dots,g=o.indexes,x=(o.Blob||typeof Blob<"u"&&Blob)&&rt.isSpecCompliantForm(a);if(!rt.isFunction(s))throw new TypeError("visitor must be a function");function O(b){if(b===null)return"";if(rt.isDate(b))return b.toISOString();if(!x&&rt.isBlob(b))throw new At("Blob is not supported. Use a Buffer instead.");return rt.isArrayBuffer(b)||rt.isTypedArray(b)?x&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function y(b,d,v){let p=b;if(b&&!v&&typeof b=="object"){if(rt.endsWith(d,"{}"))d=i?d:d.slice(0,-2),b=JSON.stringify(b);else if(rt.isArray(b)&&Nc(b)||(rt.isFileList(b)||rt.endsWith(d,"[]"))&&(p=rt.toArray(b)))return d=Ls(d),p.forEach(function(E,h){!(rt.isUndefined(E)||E===null)&&a.append(g===!0?ca([d],h,_):g===null?d:d+"[]",O(E))}),!1}return Zr(b)?!0:(a.append(ca(v,d,_),O(b)),!1)}const f=[],u=Object.assign(kc,{defaultVisitor:y,convertValue:O,isVisitable:Zr});function c(b,d){if(!rt.isUndefined(b)){if(f.indexOf(b)!==-1)throw Error("Circular reference detected in "+d.join("."));f.push(b),rt.forEach(b,function(p,m){(!(rt.isUndefined(p)||p===null)&&s.call(a,p,rt.isString(m)?m.trim():m,d,u))===!0&&c(p,d?d.concat(m):[m])}),f.pop()}}if(!rt.isObject(r))throw new TypeError("data must be an object");return c(r),a}function fa(r){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(i){return a[i]})}function uo(r,a){this._pairs=[],r&&Ui(r,this,a)}const Ns=uo.prototype;Ns.append=function(a,o){this._pairs.push([a,o])};Ns.toString=function(a){const o=a?function(i){return a.call(this,i,fa)}:fa;return this._pairs.map(function(s){return o(s[0])+"="+o(s[1])},"").join("&")};function Cc(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ks(r,a,o){if(!a)return r;const i=o&&o.encode||Cc,s=o&&o.serialize;let _;if(s?_=s(a,o):_=rt.isURLSearchParams(a)?a.toString():new uo(a,o).toString(i),_){const g=r.indexOf("#");g!==-1&&(r=r.slice(0,g)),r+=(r.indexOf("?")===-1?"?":"&")+_}return r}class ha{constructor(){this.handlers=[]}use(a,o,i){return this.handlers.push({fulfilled:a,rejected:o,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){rt.forEach(this.handlers,function(i){i!==null&&a(i)})}}const Cs={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rc=typeof URLSearchParams<"u"?URLSearchParams:uo,jc=typeof FormData<"u"?FormData:null,Mc=typeof Blob<"u"?Blob:null,Ic={isBrowser:!0,classes:{URLSearchParams:Rc,FormData:jc,Blob:Mc},protocols:["http","https","file","blob","url","data"]},co=typeof window<"u"&&typeof document<"u",$r=typeof navigator=="object"&&navigator||void 0,Dc=co&&(!$r||["ReactNative","NativeScript","NS"].indexOf($r.product)<0),Bc=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zc=co&&window.location.href||"http://localhost",qc=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:co,hasStandardBrowserEnv:Dc,hasStandardBrowserWebWorkerEnv:Bc,navigator:$r,origin:zc},Symbol.toStringTag,{value:"Module"})),le={...qc,...Ic};function Fc(r,a){return Ui(r,new le.classes.URLSearchParams,Object.assign({visitor:function(o,i,s,_){return le.isNode&&rt.isBuffer(o)?(this.append(i,o.toString("base64")),!1):_.defaultVisitor.apply(this,arguments)}},a))}function Uc(r){return rt.matchAll(/\w+|\[(\w*)]/g,r).map(a=>a[0]==="[]"?"":a[1]||a[0])}function Hc(r){const a={},o=Object.keys(r);let i;const s=o.length;let _;for(i=0;i<s;i++)_=o[i],a[_]=r[_];return a}function Rs(r){function a(o,i,s,_){let g=o[_++];if(g==="__proto__")return!0;const T=Number.isFinite(+g),x=_>=o.length;return g=!g&&rt.isArray(s)?s.length:g,x?(rt.hasOwnProp(s,g)?s[g]=[s[g],i]:s[g]=i,!T):((!s[g]||!rt.isObject(s[g]))&&(s[g]=[]),a(o,i,s[g],_)&&rt.isArray(s[g])&&(s[g]=Hc(s[g])),!T)}if(rt.isFormData(r)&&rt.isFunction(r.entries)){const o={};return rt.forEachEntry(r,(i,s)=>{a(Uc(i),s,o,0)}),o}return null}function Zc(r,a,o){if(rt.isString(r))try{return(a||JSON.parse)(r),rt.trim(r)}catch(i){if(i.name!=="SyntaxError")throw i}return(o||JSON.stringify)(r)}const fo={transitional:Cs,adapter:["xhr","http","fetch"],transformRequest:[function(a,o){const i=o.getContentType()||"",s=i.indexOf("application/json")>-1,_=rt.isObject(a);if(_&&rt.isHTMLForm(a)&&(a=new FormData(a)),rt.isFormData(a))return s?JSON.stringify(Rs(a)):a;if(rt.isArrayBuffer(a)||rt.isBuffer(a)||rt.isStream(a)||rt.isFile(a)||rt.isBlob(a)||rt.isReadableStream(a))return a;if(rt.isArrayBufferView(a))return a.buffer;if(rt.isURLSearchParams(a))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let T;if(_){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Fc(a,this.formSerializer).toString();if((T=rt.isFileList(a))||i.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return Ui(T?{"files[]":a}:a,x&&new x,this.formSerializer)}}return _||s?(o.setContentType("application/json",!1),Zc(a)):a}],transformResponse:[function(a){const o=this.transitional||fo.transitional,i=o&&o.forcedJSONParsing,s=this.responseType==="json";if(rt.isResponse(a)||rt.isReadableStream(a))return a;if(a&&rt.isString(a)&&(i&&!this.responseType||s)){const g=!(o&&o.silentJSONParsing)&&s;try{return JSON.parse(a)}catch(T){if(g)throw T.name==="SyntaxError"?At.from(T,At.ERR_BAD_RESPONSE,this,null,this.response):T}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:le.classes.FormData,Blob:le.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};rt.forEach(["delete","get","head","post","put","patch"],r=>{fo.headers[r]={}});const ho=fo,$c=rt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wc=r=>{const a={};let o,i,s;return r&&r.split(`
`).forEach(function(g){s=g.indexOf(":"),o=g.substring(0,s).trim().toLowerCase(),i=g.substring(s+1).trim(),!(!o||a[o]&&$c[o])&&(o==="set-cookie"?a[o]?a[o].push(i):a[o]=[i]:a[o]=a[o]?a[o]+", "+i:i)}),a},da=Symbol("internals");function Hn(r){return r&&String(r).trim().toLowerCase()}function Ti(r){return r===!1||r==null?r:rt.isArray(r)?r.map(Ti):String(r)}function Gc(r){const a=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=o.exec(r);)a[i[1]]=i[2];return a}const Kc=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Lr(r,a,o,i,s){if(rt.isFunction(i))return i.call(this,a,o);if(s&&(a=o),!!rt.isString(a)){if(rt.isString(i))return a.indexOf(i)!==-1;if(rt.isRegExp(i))return i.test(a)}}function Vc(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,o,i)=>o.toUpperCase()+i)}function Yc(r,a){const o=rt.toCamelCase(" "+a);["get","set","has"].forEach(i=>{Object.defineProperty(r,i+o,{value:function(s,_,g){return this[i].call(this,a,s,_,g)},configurable:!0})})}class Hi{constructor(a){a&&this.set(a)}set(a,o,i){const s=this;function _(T,x,O){const y=Hn(x);if(!y)throw new Error("header name must be a non-empty string");const f=rt.findKey(s,y);(!f||s[f]===void 0||O===!0||O===void 0&&s[f]!==!1)&&(s[f||x]=Ti(T))}const g=(T,x)=>rt.forEach(T,(O,y)=>_(O,y,x));if(rt.isPlainObject(a)||a instanceof this.constructor)g(a,o);else if(rt.isString(a)&&(a=a.trim())&&!Kc(a))g(Wc(a),o);else if(rt.isHeaders(a))for(const[T,x]of a.entries())_(x,T,i);else a!=null&&_(o,a,i);return this}get(a,o){if(a=Hn(a),a){const i=rt.findKey(this,a);if(i){const s=this[i];if(!o)return s;if(o===!0)return Gc(s);if(rt.isFunction(o))return o.call(this,s,i);if(rt.isRegExp(o))return o.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,o){if(a=Hn(a),a){const i=rt.findKey(this,a);return!!(i&&this[i]!==void 0&&(!o||Lr(this,this[i],i,o)))}return!1}delete(a,o){const i=this;let s=!1;function _(g){if(g=Hn(g),g){const T=rt.findKey(i,g);T&&(!o||Lr(i,i[T],T,o))&&(delete i[T],s=!0)}}return rt.isArray(a)?a.forEach(_):_(a),s}clear(a){const o=Object.keys(this);let i=o.length,s=!1;for(;i--;){const _=o[i];(!a||Lr(this,this[_],_,a,!0))&&(delete this[_],s=!0)}return s}normalize(a){const o=this,i={};return rt.forEach(this,(s,_)=>{const g=rt.findKey(i,_);if(g){o[g]=Ti(s),delete o[_];return}const T=a?Vc(_):String(_).trim();T!==_&&delete o[_],o[T]=Ti(s),i[T]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const o=Object.create(null);return rt.forEach(this,(i,s)=>{i!=null&&i!==!1&&(o[s]=a&&rt.isArray(i)?i.join(", "):i)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,o])=>a+": "+o).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...o){const i=new this(a);return o.forEach(s=>i.set(s)),i}static accessor(a){const i=(this[da]=this[da]={accessors:{}}).accessors,s=this.prototype;function _(g){const T=Hn(g);i[T]||(Yc(s,g),i[T]=!0)}return rt.isArray(a)?a.forEach(_):_(a),this}}Hi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);rt.reduceDescriptors(Hi.prototype,({value:r},a)=>{let o=a[0].toUpperCase()+a.slice(1);return{get:()=>r,set(i){this[o]=i}}});rt.freezeMethods(Hi);const we=Hi;function Nr(r,a){const o=this||ho,i=a||o,s=we.from(i.headers);let _=i.data;return rt.forEach(r,function(T){_=T.call(o,_,s.normalize(),a?a.status:void 0)}),s.normalize(),_}function js(r){return!!(r&&r.__CANCEL__)}function yn(r,a,o){At.call(this,r??"canceled",At.ERR_CANCELED,a,o),this.name="CanceledError"}rt.inherits(yn,At,{__CANCEL__:!0});function Ms(r,a,o){const i=o.config.validateStatus;!o.status||!i||i(o.status)?r(o):a(new At("Request failed with status code "+o.status,[At.ERR_BAD_REQUEST,At.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function Xc(r){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return a&&a[1]||""}function Jc(r,a){r=r||10;const o=new Array(r),i=new Array(r);let s=0,_=0,g;return a=a!==void 0?a:1e3,function(x){const O=Date.now(),y=i[_];g||(g=O),o[s]=x,i[s]=O;let f=_,u=0;for(;f!==s;)u+=o[f++],f=f%r;if(s=(s+1)%r,s===_&&(_=(_+1)%r),O-g<a)return;const c=y&&O-y;return c?Math.round(u*1e3/c):void 0}}function Qc(r,a){let o=0,i=1e3/a,s,_;const g=(O,y=Date.now())=>{o=y,s=null,_&&(clearTimeout(_),_=null),r.apply(null,O)};return[(...O)=>{const y=Date.now(),f=y-o;f>=i?g(O,y):(s=O,_||(_=setTimeout(()=>{_=null,g(s)},i-f)))},()=>s&&g(s)]}const Ni=(r,a,o=3)=>{let i=0;const s=Jc(50,250);return Qc(_=>{const g=_.loaded,T=_.lengthComputable?_.total:void 0,x=g-i,O=s(x),y=g<=T;i=g;const f={loaded:g,total:T,progress:T?g/T:void 0,bytes:x,rate:O||void 0,estimated:O&&T&&y?(T-g)/O:void 0,event:_,lengthComputable:T!=null,[a?"download":"upload"]:!0};r(f)},o)},pa=(r,a)=>{const o=r!=null;return[i=>a[0]({lengthComputable:o,total:r,loaded:i}),a[1]]},ma=r=>(...a)=>rt.asap(()=>r(...a)),tf=le.hasStandardBrowserEnv?function(){const a=le.navigator&&/(msie|trident)/i.test(le.navigator.userAgent),o=document.createElement("a");let i;function s(_){let g=_;return a&&(o.setAttribute("href",g),g=o.href),o.setAttribute("href",g),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return i=s(window.location.href),function(g){const T=rt.isString(g)?s(g):g;return T.protocol===i.protocol&&T.host===i.host}}():function(){return function(){return!0}}(),ef=le.hasStandardBrowserEnv?{write(r,a,o,i,s,_){const g=[r+"="+encodeURIComponent(a)];rt.isNumber(o)&&g.push("expires="+new Date(o).toGMTString()),rt.isString(i)&&g.push("path="+i),rt.isString(s)&&g.push("domain="+s),_===!0&&g.push("secure"),document.cookie=g.join("; ")},read(r){const a=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nf(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function rf(r,a){return a?r.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):r}function Is(r,a){return r&&!nf(a)?rf(r,a):a}const va=r=>r instanceof we?{...r}:r;function rn(r,a){a=a||{};const o={};function i(O,y,f){return rt.isPlainObject(O)&&rt.isPlainObject(y)?rt.merge.call({caseless:f},O,y):rt.isPlainObject(y)?rt.merge({},y):rt.isArray(y)?y.slice():y}function s(O,y,f){if(rt.isUndefined(y)){if(!rt.isUndefined(O))return i(void 0,O,f)}else return i(O,y,f)}function _(O,y){if(!rt.isUndefined(y))return i(void 0,y)}function g(O,y){if(rt.isUndefined(y)){if(!rt.isUndefined(O))return i(void 0,O)}else return i(void 0,y)}function T(O,y,f){if(f in a)return i(O,y);if(f in r)return i(void 0,O)}const x={url:_,method:_,data:_,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,withXSRFToken:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:T,headers:(O,y)=>s(va(O),va(y),!0)};return rt.forEach(Object.keys(Object.assign({},r,a)),function(y){const f=x[y]||s,u=f(r[y],a[y],y);rt.isUndefined(u)&&f!==T||(o[y]=u)}),o}const Ds=r=>{const a=rn({},r);let{data:o,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:_,headers:g,auth:T}=a;a.headers=g=we.from(g),a.url=ks(Is(a.baseURL,a.url),r.params,r.paramsSerializer),T&&g.set("Authorization","Basic "+btoa((T.username||"")+":"+(T.password?unescape(encodeURIComponent(T.password)):"")));let x;if(rt.isFormData(o)){if(le.hasStandardBrowserEnv||le.hasStandardBrowserWebWorkerEnv)g.setContentType(void 0);else if((x=g.getContentType())!==!1){const[O,...y]=x?x.split(";").map(f=>f.trim()).filter(Boolean):[];g.setContentType([O||"multipart/form-data",...y].join("; "))}}if(le.hasStandardBrowserEnv&&(i&&rt.isFunction(i)&&(i=i(a)),i||i!==!1&&tf(a.url))){const O=s&&_&&ef.read(_);O&&g.set(s,O)}return a},of=typeof XMLHttpRequest<"u",af=of&&function(r){return new Promise(function(o,i){const s=Ds(r);let _=s.data;const g=we.from(s.headers).normalize();let{responseType:T,onUploadProgress:x,onDownloadProgress:O}=s,y,f,u,c,b;function d(){c&&c(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(y),s.signal&&s.signal.removeEventListener("abort",y)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function p(){if(!v)return;const E=we.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),P={data:!T||T==="text"||T==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:E,config:r,request:v};Ms(function(R){o(R),d()},function(R){i(R),d()},P),v=null}"onloadend"in v?v.onloadend=p:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(p)},v.onabort=function(){v&&(i(new At("Request aborted",At.ECONNABORTED,r,v)),v=null)},v.onerror=function(){i(new At("Network Error",At.ERR_NETWORK,r,v)),v=null},v.ontimeout=function(){let h=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const P=s.transitional||Cs;s.timeoutErrorMessage&&(h=s.timeoutErrorMessage),i(new At(h,P.clarifyTimeoutError?At.ETIMEDOUT:At.ECONNABORTED,r,v)),v=null},_===void 0&&g.setContentType(null),"setRequestHeader"in v&&rt.forEach(g.toJSON(),function(h,P){v.setRequestHeader(P,h)}),rt.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),T&&T!=="json"&&(v.responseType=s.responseType),O&&([u,b]=Ni(O,!0),v.addEventListener("progress",u)),x&&v.upload&&([f,c]=Ni(x),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",c)),(s.cancelToken||s.signal)&&(y=E=>{v&&(i(!E||E.type?new yn(null,r,v):E),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(y),s.signal&&(s.signal.aborted?y():s.signal.addEventListener("abort",y)));const m=Xc(s.url);if(m&&le.protocols.indexOf(m)===-1){i(new At("Unsupported protocol "+m+":",At.ERR_BAD_REQUEST,r));return}v.send(_||null)})},sf=(r,a)=>{const{length:o}=r=r?r.filter(Boolean):[];if(a||o){let i=new AbortController,s;const _=function(O){if(!s){s=!0,T();const y=O instanceof Error?O:this.reason;i.abort(y instanceof At?y:new yn(y instanceof Error?y.message:y))}};let g=a&&setTimeout(()=>{g=null,_(new At(`timeout ${a} of ms exceeded`,At.ETIMEDOUT))},a);const T=()=>{r&&(g&&clearTimeout(g),g=null,r.forEach(O=>{O.unsubscribe?O.unsubscribe(_):O.removeEventListener("abort",_)}),r=null)};r.forEach(O=>O.addEventListener("abort",_));const{signal:x}=i;return x.unsubscribe=()=>rt.asap(T),x}},lf=sf,uf=function*(r,a){let o=r.byteLength;if(!a||o<a){yield r;return}let i=0,s;for(;i<o;)s=i+a,yield r.slice(i,s),i=s},cf=async function*(r,a){for await(const o of ff(r))yield*uf(o,a)},ff=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const a=r.getReader();try{for(;;){const{done:o,value:i}=await a.read();if(o)break;yield i}}finally{await a.cancel()}},ga=(r,a,o,i)=>{const s=cf(r,a);let _=0,g,T=x=>{g||(g=!0,i&&i(x))};return new ReadableStream({async pull(x){try{const{done:O,value:y}=await s.next();if(O){T(),x.close();return}let f=y.byteLength;if(o){let u=_+=f;o(u)}x.enqueue(new Uint8Array(y))}catch(O){throw T(O),O}},cancel(x){return T(x),s.return()}},{highWaterMark:2})},Zi=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Bs=Zi&&typeof ReadableStream=="function",hf=Zi&&(typeof TextEncoder=="function"?(r=>a=>r.encode(a))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),zs=(r,...a)=>{try{return!!r(...a)}catch{return!1}},df=Bs&&zs(()=>{let r=!1;const a=new Request(le.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!a}),_a=64*1024,Wr=Bs&&zs(()=>rt.isReadableStream(new Response("").body)),ki={stream:Wr&&(r=>r.body)};Zi&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(a=>{!ki[a]&&(ki[a]=rt.isFunction(r[a])?o=>o[a]():(o,i)=>{throw new At(`Response type '${a}' is not supported`,At.ERR_NOT_SUPPORT,i)})})})(new Response);const pf=async r=>{if(r==null)return 0;if(rt.isBlob(r))return r.size;if(rt.isSpecCompliantForm(r))return(await new Request(le.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(rt.isArrayBufferView(r)||rt.isArrayBuffer(r))return r.byteLength;if(rt.isURLSearchParams(r)&&(r=r+""),rt.isString(r))return(await hf(r)).byteLength},mf=async(r,a)=>{const o=rt.toFiniteNumber(r.getContentLength());return o??pf(a)},vf=Zi&&(async r=>{let{url:a,method:o,data:i,signal:s,cancelToken:_,timeout:g,onDownloadProgress:T,onUploadProgress:x,responseType:O,headers:y,withCredentials:f="same-origin",fetchOptions:u}=Ds(r);O=O?(O+"").toLowerCase():"text";let c=lf([s,_&&_.toAbortSignal()],g),b;const d=c&&c.unsubscribe&&(()=>{c.unsubscribe()});let v;try{if(x&&df&&o!=="get"&&o!=="head"&&(v=await mf(y,i))!==0){let P=new Request(a,{method:"POST",body:i,duplex:"half"}),I;if(rt.isFormData(i)&&(I=P.headers.get("content-type"))&&y.setContentType(I),P.body){const[R,M]=pa(v,Ni(ma(x)));i=ga(P.body,_a,R,M)}}rt.isString(f)||(f=f?"include":"omit");const p="credentials"in Request.prototype;b=new Request(a,{...u,signal:c,method:o.toUpperCase(),headers:y.normalize().toJSON(),body:i,duplex:"half",credentials:p?f:void 0});let m=await fetch(b);const E=Wr&&(O==="stream"||O==="response");if(Wr&&(T||E&&d)){const P={};["status","statusText","headers"].forEach(z=>{P[z]=m[z]});const I=rt.toFiniteNumber(m.headers.get("content-length")),[R,M]=T&&pa(I,Ni(ma(T),!0))||[];m=new Response(ga(m.body,_a,R,()=>{M&&M(),d&&d()}),P)}O=O||"text";let h=await ki[rt.findKey(ki,O)||"text"](m,r);return!E&&d&&d(),await new Promise((P,I)=>{Ms(P,I,{data:h,headers:we.from(m.headers),status:m.status,statusText:m.statusText,config:r,request:b})})}catch(p){throw d&&d(),p&&p.name==="TypeError"&&/fetch/i.test(p.message)?Object.assign(new At("Network Error",At.ERR_NETWORK,r,b),{cause:p.cause||p}):At.from(p,p&&p.code,r,b)}}),Gr={http:Lc,xhr:af,fetch:vf};rt.forEach(Gr,(r,a)=>{if(r){try{Object.defineProperty(r,"name",{value:a})}catch{}Object.defineProperty(r,"adapterName",{value:a})}});const ya=r=>`- ${r}`,gf=r=>rt.isFunction(r)||r===null||r===!1,qs={getAdapter:r=>{r=rt.isArray(r)?r:[r];const{length:a}=r;let o,i;const s={};for(let _=0;_<a;_++){o=r[_];let g;if(i=o,!gf(o)&&(i=Gr[(g=String(o)).toLowerCase()],i===void 0))throw new At(`Unknown adapter '${g}'`);if(i)break;s[g||"#"+_]=i}if(!i){const _=Object.entries(s).map(([T,x])=>`adapter ${T} `+(x===!1?"is not supported by the environment":"is not available in the build"));let g=a?_.length>1?`since :
`+_.map(ya).join(`
`):" "+ya(_[0]):"as no adapter specified";throw new At("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return i},adapters:Gr};function kr(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new yn(null,r)}function ba(r){return kr(r),r.headers=we.from(r.headers),r.data=Nr.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),qs.getAdapter(r.adapter||ho.adapter)(r).then(function(i){return kr(r),i.data=Nr.call(r,r.transformResponse,i),i.headers=we.from(i.headers),i},function(i){return js(i)||(kr(r),i&&i.response&&(i.response.data=Nr.call(r,r.transformResponse,i.response),i.response.headers=we.from(i.response.headers))),Promise.reject(i)})}const Fs="1.7.7",po={};["object","boolean","number","function","string","symbol"].forEach((r,a)=>{po[r]=function(i){return typeof i===r||"a"+(a<1?"n ":" ")+r}});const xa={};po.transitional=function(a,o,i){function s(_,g){return"[Axios v"+Fs+"] Transitional option '"+_+"'"+g+(i?". "+i:"")}return(_,g,T)=>{if(a===!1)throw new At(s(g," has been removed"+(o?" in "+o:"")),At.ERR_DEPRECATED);return o&&!xa[g]&&(xa[g]=!0,console.warn(s(g," has been deprecated since v"+o+" and will be removed in the near future"))),a?a(_,g,T):!0}};function _f(r,a,o){if(typeof r!="object")throw new At("options must be an object",At.ERR_BAD_OPTION_VALUE);const i=Object.keys(r);let s=i.length;for(;s-- >0;){const _=i[s],g=a[_];if(g){const T=r[_],x=T===void 0||g(T,_,r);if(x!==!0)throw new At("option "+_+" must be "+x,At.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new At("Unknown option "+_,At.ERR_BAD_OPTION)}}const Kr={assertOptions:_f,validators:po},Ze=Kr.validators;class Ci{constructor(a){this.defaults=a,this.interceptors={request:new ha,response:new ha}}async request(a,o){try{return await this._request(a,o)}catch(i){if(i instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const _=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?_&&!String(i.stack).endsWith(_.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+_):i.stack=_}catch{}}throw i}}_request(a,o){typeof a=="string"?(o=o||{},o.url=a):o=a||{},o=rn(this.defaults,o);const{transitional:i,paramsSerializer:s,headers:_}=o;i!==void 0&&Kr.assertOptions(i,{silentJSONParsing:Ze.transitional(Ze.boolean),forcedJSONParsing:Ze.transitional(Ze.boolean),clarifyTimeoutError:Ze.transitional(Ze.boolean)},!1),s!=null&&(rt.isFunction(s)?o.paramsSerializer={serialize:s}:Kr.assertOptions(s,{encode:Ze.function,serialize:Ze.function},!0)),o.method=(o.method||this.defaults.method||"get").toLowerCase();let g=_&&rt.merge(_.common,_[o.method]);_&&rt.forEach(["delete","get","head","post","put","patch","common"],b=>{delete _[b]}),o.headers=we.concat(g,_);const T=[];let x=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(o)===!1||(x=x&&d.synchronous,T.unshift(d.fulfilled,d.rejected))});const O=[];this.interceptors.response.forEach(function(d){O.push(d.fulfilled,d.rejected)});let y,f=0,u;if(!x){const b=[ba.bind(this),void 0];for(b.unshift.apply(b,T),b.push.apply(b,O),u=b.length,y=Promise.resolve(o);f<u;)y=y.then(b[f++],b[f++]);return y}u=T.length;let c=o;for(f=0;f<u;){const b=T[f++],d=T[f++];try{c=b(c)}catch(v){d.call(this,v);break}}try{y=ba.call(this,c)}catch(b){return Promise.reject(b)}for(f=0,u=O.length;f<u;)y=y.then(O[f++],O[f++]);return y}getUri(a){a=rn(this.defaults,a);const o=Is(a.baseURL,a.url);return ks(o,a.params,a.paramsSerializer)}}rt.forEach(["delete","get","head","options"],function(a){Ci.prototype[a]=function(o,i){return this.request(rn(i||{},{method:a,url:o,data:(i||{}).data}))}});rt.forEach(["post","put","patch"],function(a){function o(i){return function(_,g,T){return this.request(rn(T||{},{method:a,headers:i?{"Content-Type":"multipart/form-data"}:{},url:_,data:g}))}}Ci.prototype[a]=o(),Ci.prototype[a+"Form"]=o(!0)});const Pi=Ci;class mo{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(_){o=_});const i=this;this.promise.then(s=>{if(!i._listeners)return;let _=i._listeners.length;for(;_-- >0;)i._listeners[_](s);i._listeners=null}),this.promise.then=s=>{let _;const g=new Promise(T=>{i.subscribe(T),_=T}).then(s);return g.cancel=function(){i.unsubscribe(_)},g},a(function(_,g,T){i.reason||(i.reason=new yn(_,g,T),o(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const o=this._listeners.indexOf(a);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const a=new AbortController,o=i=>{a.abort(i)};return this.subscribe(o),a.signal.unsubscribe=()=>this.unsubscribe(o),a.signal}static source(){let a;return{token:new mo(function(s){a=s}),cancel:a}}}const yf=mo;function bf(r){return function(o){return r.apply(null,o)}}function xf(r){return rt.isObject(r)&&r.isAxiosError===!0}const Vr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Vr).forEach(([r,a])=>{Vr[a]=r});const wf=Vr;function Us(r){const a=new Pi(r),o=ys(Pi.prototype.request,a);return rt.extend(o,Pi.prototype,a,{allOwnKeys:!0}),rt.extend(o,a,null,{allOwnKeys:!0}),o.create=function(s){return Us(rn(r,s))},o}const Kt=Us(ho);Kt.Axios=Pi;Kt.CanceledError=yn;Kt.CancelToken=yf;Kt.isCancel=js;Kt.VERSION=Fs;Kt.toFormData=Ui;Kt.AxiosError=At;Kt.Cancel=Kt.CanceledError;Kt.all=function(a){return Promise.all(a)};Kt.spread=bf;Kt.isAxiosError=xf;Kt.mergeConfig=rn;Kt.AxiosHeaders=we;Kt.formToJSON=r=>Rs(rt.isHTMLForm(r)?new FormData(r):r);Kt.getAdapter=qs.getAdapter;Kt.HttpStatusCode=wf;Kt.default=Kt;const Ef="https://backend-real-estate-cc5c.onrender.com/api",De=Kt.create({baseURL:Ef,withCredentials:!0});function Of(){const{post:r}=ro(),{currentUser:a}=vt.useContext(Ie),[o,i]=vt.useState(r.isSaved),s=async()=>{i(_=>!_),a||su("/login");try{await De.post("/users/save",{postId:r.id})}catch{i(g=>!g)}};return console.log("Post:",r),A.jsxs("div",{className:"singlePage",children:[A.jsx("div",{className:"details",children:A.jsxs("div",{className:"wrapper",children:[A.jsx(Hu,{images:r.images}),A.jsxs("div",{className:"info",children:[A.jsxs("div",{className:"top",children:[A.jsxs("div",{className:"post",children:[A.jsx("h1",{children:r.title}),A.jsxs("div",{className:"address",children:[A.jsx("img",{src:"/pin.png",alt:""}),A.jsx("span",{children:r.address})]}),A.jsxs("div",{className:"price",children:["$ ",r.price]})]}),A.jsxs("div",{className:"user",children:[A.jsx("img",{src:a.avatar,alt:""}),A.jsx("span",{children:a.username})]})]}),A.jsx("div",{className:"bottom",children:r.postDetail.desc})]})]})}),A.jsx("div",{className:"features",children:A.jsxs("div",{className:"wrapper",children:[A.jsx("p",{className:"title",children:"General"}),A.jsxs("div",{className:"listVertical",children:[A.jsxs("div",{className:"feature",children:[A.jsx("img",{src:"/utility.png",alt:""}),A.jsxs("div",{className:"featureText",children:[A.jsx("span",{children:"Utilities"}),A.jsxs("p",{children:[r.postDetail.utilities," is responsible"]})]})]}),A.jsxs("div",{className:"feature",children:[A.jsx("img",{src:"/pet.png",alt:""}),A.jsxs("div",{className:"featureText",children:[A.jsx("span",{children:"Pet Policy"}),A.jsxs("p",{children:["Pets ",r.postDetail.pet]})]})]}),A.jsxs("div",{className:"feature",children:[A.jsx("img",{src:"/fee.png",alt:""}),A.jsxs("div",{className:"featureText",children:[A.jsx("span",{children:"Property Fees"}),A.jsx("p",{children:"Must have 3x the rent in total household income"})]})]})]}),A.jsx("p",{className:"title",children:"Sizes"}),A.jsxs("div",{className:"sizes",children:[A.jsxs("div",{className:"size",children:[A.jsx("img",{src:"/size.png",alt:""}),A.jsxs("span",{children:[r.postDetail.size," sqft"]})]}),A.jsxs("div",{className:"size",children:[A.jsx("img",{src:"/bed.png",alt:""}),A.jsxs("span",{children:[r.bedroom," beds"]})]}),A.jsxs("div",{className:"size",children:[A.jsx("img",{src:"/bath.png",alt:""}),A.jsxs("span",{children:[r.bathroom,"bathroom"]})]})]}),A.jsx("p",{className:"title",children:"Nearby Places"}),A.jsxs("div",{className:"listHorizontal",children:[A.jsxs("div",{className:"feature",children:[A.jsx("img",{src:"/school.png",alt:""}),A.jsxs("div",{className:"featureText",children:[A.jsx("span",{children:"School"}),A.jsxs("p",{children:[r.postDetail.school,"m away"]})]})]}),A.jsxs("div",{className:"feature",children:[A.jsx("img",{src:"/pet.png",alt:""}),A.jsxs("div",{className:"featureText",children:[A.jsx("span",{children:"Bus Stop"}),A.jsxs("p",{children:[r.postDetail.bus,"m away"]})]})]}),A.jsxs("div",{className:"feature",children:[A.jsx("img",{src:"/fee.png",alt:""}),A.jsxs("div",{className:"featureText",children:[A.jsx("span",{children:"Restaurant"}),A.jsxs("p",{children:[r.postDetail.restaurant,"m away"]})]})]})]}),A.jsx("p",{className:"title",children:"Location"}),A.jsx("div",{className:"mapContainer",children:A.jsx(gs,{items:[r]})}),A.jsxs("div",{className:"buttons",children:[A.jsxs("button",{children:[A.jsx("img",{src:"/chat.png",alt:""}),"Send a Message"]}),A.jsxs("button",{onClick:s,style:{backgroundColor:o?"#fece51":"#fff"},children:[A.jsx("img",{src:"/save.png",alt:""}),o?"Place Saved":"Save the Place"]})]})]})})]})}function Tf(){const[r,a]=vt.useState(!0);return A.jsxs("div",{className:"chat",children:[A.jsxs("div",{className:"messages",children:[A.jsx("h1",{children:"Messages"}),A.jsxs("div",{className:"message",children:[A.jsx("img",{src:"https://images.pexels.com/photos/91227/pexels-photo-91227.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:""}),A.jsx("span",{children:"John Doe"}),A.jsx("p",{children:"Lorem ipsum dolor sit amet..."})]}),A.jsxs("div",{className:"message",children:[A.jsx("img",{src:"https://images.pexels.com/photos/91227/pexels-photo-91227.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:""}),A.jsx("span",{children:"John Doe"}),A.jsx("p",{children:"Lorem ipsum dolor sit amet..."})]}),A.jsxs("div",{className:"message",children:[A.jsx("img",{src:"https://images.pexels.com/photos/91227/pexels-photo-91227.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:""}),A.jsx("span",{children:"John Doe"}),A.jsx("p",{children:"Lorem ipsum dolor sit amet..."})]}),A.jsxs("div",{className:"message",children:[A.jsx("img",{src:"https://images.pexels.com/photos/91227/pexels-photo-91227.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:""}),A.jsx("span",{children:"John Doe"}),A.jsx("p",{children:"Lorem ipsum dolor sit amet..."})]}),A.jsxs("div",{className:"message",children:[A.jsx("img",{src:"https://images.pexels.com/photos/91227/pexels-photo-91227.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:""}),A.jsx("span",{children:"John Doe"}),A.jsx("p",{children:"Lorem ipsum dolor sit amet..."})]}),A.jsxs("div",{className:"message",children:[A.jsx("img",{src:"https://images.pexels.com/photos/91227/pexels-photo-91227.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:""}),A.jsx("span",{children:"John Doe"}),A.jsx("p",{children:"Lorem ipsum dolor sit amet..."})]})]}),r&&A.jsxs("div",{className:"chatBox",children:[A.jsxs("div",{className:"top",children:[A.jsxs("div",{className:"user",children:[A.jsx("img",{src:"https://images.pexels.com/photos/91227/pexels-photo-91227.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:""}),"John Doe"]}),A.jsx("span",{className:"close",onClick:()=>a(null),children:"X"})]}),A.jsxs("div",{className:"center",children:[A.jsxs("div",{className:"chatMessage",children:[A.jsx("p",{children:"Lorem ipsum dolor sit amet"}),A.jsx("span",{children:"1 hour ago"})]}),A.jsxs("div",{className:"chatMessage own",children:[A.jsx("p",{children:"Lorem ipsum dolor sit amet"}),A.jsx("span",{children:"1 hour ago"})]}),A.jsxs("div",{className:"chatMessage",children:[A.jsx("p",{children:"Lorem ipsum dolor sit amet"}),A.jsx("span",{children:"1 hour ago"})]}),A.jsxs("div",{className:"chatMessage own",children:[A.jsx("p",{children:"Lorem ipsum dolor sit amet"}),A.jsx("span",{children:"1 hour ago"})]}),A.jsxs("div",{className:"chatMessage",children:[A.jsx("p",{children:"Lorem ipsum dolor sit amet"}),A.jsx("span",{children:"1 hour ago"})]}),A.jsxs("div",{className:"chatMessage own",children:[A.jsx("p",{children:"Lorem ipsum dolor sit amet"}),A.jsx("span",{children:"1 hour ago"})]}),A.jsxs("div",{className:"chatMessage",children:[A.jsx("p",{children:"Lorem ipsum dolor sit amet"}),A.jsx("span",{children:"1 hour ago"})]}),A.jsxs("div",{className:"chatMessage own",children:[A.jsx("p",{children:"Lorem ipsum dolor sit amet"}),A.jsx("span",{children:"1 hour ago"})]}),A.jsxs("div",{className:"chatMessage",children:[A.jsx("p",{children:"Lorem ipsum dolor sit amet"}),A.jsx("span",{children:"1 hour ago"})]}),A.jsxs("div",{className:"chatMessage own",children:[A.jsx("p",{children:"Lorem ipsum dolor sit amet"}),A.jsx("span",{children:"1 hour ago"})]})]}),A.jsxs("div",{className:"bottom",children:[A.jsx("textarea",{}),A.jsx("button",{children:"Send"})]})]})]})}function wa({posts:r}){return A.jsx("div",{className:"list",children:r.map(a=>A.jsx(cs,{item:a},a.id))})}function Pf(){const r=ro(),a=Jn(),{currentUser:o,updateUser:i}=vt.useContext(Ie);console.log("okdjeidheiodheiodedheid",o);const s=async()=>{await De.post("/auth/logout"),localStorage.removeItem("userInfo"),i(null),a("/login")};return A.jsxs("div",{className:"profilePage",children:[A.jsx("div",{className:"details",children:A.jsxs("div",{className:"wrapper",children:[A.jsxs("div",{className:"title",children:[A.jsx("h1",{children:"User Information"}),A.jsx(Me,{to:"/profile/update",children:A.jsx("button",{children:"Update Profile"})})]}),A.jsxs("div",{className:"info",children:[A.jsxs("span",{children:["Avatar:",A.jsx("img",{src:o.userInfo.avatar?o.userInfo.avatar:"noavatar.jpg",alt:""})]}),A.jsxs("span",{children:["Username: ",A.jsx("b",{children:o.userInfo.username})]}),A.jsxs("span",{children:["E-mail: ",A.jsx("b",{children:o.userInfo.email})]}),A.jsx("button",{onClick:s,children:"Logout"})]}),A.jsxs("div",{className:"title",children:[A.jsx("h1",{children:"My List"}),A.jsx(Me,{to:"/add",children:A.jsx("button",{children:"Create New Post"})})]}),A.jsx(vt.Suspense,{fallback:A.jsx("p",{children:"Loading posts..."}),children:A.jsx(Li,{resolve:r.postResponse,errorElement:A.jsx("p",{children:"Error loading posts"}),children:_=>A.jsx(wa,{posts:_.data.userPosts})})}),A.jsx("div",{className:"title",children:A.jsx("h1",{children:"Saved List"})}),A.jsx(vt.Suspense,{fallback:A.jsx("p",{children:"Loading posts..."}),children:A.jsx(Li,{resolve:r.postResponse,errorElement:A.jsx("p",{children:"Error loading posts"}),children:_=>A.jsx(wa,{posts:_.data.savedPosts})})})]})}),A.jsx("div",{className:"chatContainer",children:A.jsx("div",{className:"wrapper",children:A.jsx(Tf,{})})})]})}function Af(){const[r,a]=vt.useState(""),[o,i]=vt.useState(!1),s=Jn(),{updateUser:_}=vt.useContext(Ie),g=async T=>{T.preventDefault(),i(!0),a("");const x=new FormData(T.target),O=x.get("username");x.get("email");const y=x.get("password");try{const f=await De.post("/auth/login",{username:O,password:y});_(f.data),s("/")}catch(f){a(f.response.data.message)}finally{i(!1)}};return A.jsxs("div",{className:"login",children:[A.jsx("div",{className:"formContainer",children:A.jsxs("form",{onSubmit:T=>g(T),children:[A.jsx("h1",{children:"Welcome back"}),r&&A.jsx("span",{children:r}),A.jsx("input",{name:"username",required:!0,min:4,max:15,type:"text",placeholder:"Username"}),A.jsx("input",{name:"password",type:"password",required:!0,min:6,placeholder:"Password"}),A.jsx("button",{disabled:o,children:"Login"}),A.jsxs(Me,{to:"/register",children:["Don't"," you have an account?"]})]})}),A.jsx("div",{className:"imgContainer",children:A.jsx("img",{src:"/bg.png",alt:""})})]})}function Sf(){const[r,a]=vt.useState(""),o=Jn(),[i,s]=vt.useState(!1),_=async g=>{g.preventDefault(),a(""),s(!0);const T=new FormData(g.target),x=T.get("username"),O=T.get("email"),y=T.get("password");try{const f=await De.post("/auth/register",{username:x,email:O,password:y});o("/login")}catch(f){a(f.response.data.message)}finally{s(!1)}};return A.jsxs("div",{className:"register",children:[A.jsx("div",{className:"formContainer",children:A.jsxs("form",{onSubmit:g=>_(g),children:[A.jsx("h1",{children:"Create an Account"}),r&&A.jsx("span",{className:"",children:r}),A.jsx("input",{name:"username",type:"text",placeholder:"Username"}),A.jsx("input",{name:"email",type:"text",placeholder:"Email"}),A.jsx("input",{name:"password",type:"password",placeholder:"Password"}),A.jsx("button",{disabled:i,children:"Register"}),A.jsx(Me,{to:"/login",children:"Do you have an account?"})]})}),A.jsx("div",{className:"imgContainer",children:A.jsx("img",{src:"/bg.png",alt:""})})]})}const Lf=vt.createContext();function Hs({uwConfig:r,setPublicId:a,setState:o}){const[i,s]=vt.useState(!1);vt.useEffect(()=>{if(!i)if(document.getElementById("uw"))s(!0);else{const T=document.createElement("script");T.setAttribute("async",""),T.setAttribute("id","uw"),T.src="https://upload-widget.cloudinary.com/global/all.js",T.addEventListener("load",()=>s(!0)),document.body.appendChild(T)}},[i]);const _=()=>{if(i){var g=window.cloudinary.createUploadWidget(r,(T,x)=>{!T&&x&&x.event==="success"&&(console.log("Done! Here is the image info: ",x.info),o(O=>[...O,x.info.secure_url]))});document.getElementById("upload_widget").addEventListener("click",function(){g.open()},!1)}};return A.jsx(Lf.Provider,{value:{loaded:i},children:A.jsx("button",{id:"upload_widget",className:"cloudinary-button",onClick:_,children:"Upload"})})}function Nf(){const[r,a]=vt.useState(""),{currentUser:o,updateUser:i}=vt.useContext(Ie),[s,_]=vt.useState([]),g=Jn(),T=async x=>{x.preventDefault();const O=new FormData(x.target),{username:y,email:f,password:u}=Object.fromEntries(O);try{const c=await De.put(`/users/${o.id}`,{username:y,email:f,password:u,avatar:s[0]});i(c.data),console.log(c),g("/profile")}catch(c){console.log(c),a(c.response.data.message)}};return A.jsxs("div",{className:"profileUpdatePage",children:[A.jsx("div",{className:"formContainer",children:A.jsxs("form",{onSubmit:T,children:[A.jsx("h1",{children:"Update Profile"}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"username",children:"Username"}),A.jsx("input",{id:"username",name:"username",type:"text",defaultValue:o.userInfo.username})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"email",children:"Email"}),A.jsx("input",{id:"email",name:"email",type:"email",defaultValue:o.userInfo.email})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"password",children:"Password"}),A.jsx("input",{id:"password",name:"password",type:"password"})]}),A.jsx("button",{children:"Update"}),r&&A.jsx("span",{children:r})]})}),A.jsxs("div",{className:"sideContainer",children:[A.jsx("img",{src:s[0]||o.userInfo.avatar||"/noavatar.jpg",alt:"",className:"avatar"}),A.jsx(Hs,{uwConfig:{cloudName:"pelumi4",uploadPreset:"estate",multiple:!1,maxImageFileSize:2e6,folder:"avatar"},setState:_})]})]})}function kf(){this.__data__=[],this.size=0}var Cf=kf;function Rf(r,a){return r===a||r!==r&&a!==a}var Zs=Rf,jf=Zs;function Mf(r,a){for(var o=r.length;o--;)if(jf(r[o][0],a))return o;return-1}var $i=Mf,If=$i,Df=Array.prototype,Bf=Df.splice;function zf(r){var a=this.__data__,o=If(a,r);if(o<0)return!1;var i=a.length-1;return o==i?a.pop():Bf.call(a,o,1),--this.size,!0}var qf=zf,Ff=$i;function Uf(r){var a=this.__data__,o=Ff(a,r);return o<0?void 0:a[o][1]}var Hf=Uf,Zf=$i;function $f(r){return Zf(this.__data__,r)>-1}var Wf=$f,Gf=$i;function Kf(r,a){var o=this.__data__,i=Gf(o,r);return i<0?(++this.size,o.push([r,a])):o[i][1]=a,this}var Vf=Kf,Yf=Cf,Xf=qf,Jf=Hf,Qf=Wf,th=Vf;function bn(r){var a=-1,o=r==null?0:r.length;for(this.clear();++a<o;){var i=r[a];this.set(i[0],i[1])}}bn.prototype.clear=Yf;bn.prototype.delete=Xf;bn.prototype.get=Jf;bn.prototype.has=Qf;bn.prototype.set=th;var Wi=bn,eh=Wi;function nh(){this.__data__=new eh,this.size=0}var ih=nh;function rh(r){var a=this.__data__,o=a.delete(r);return this.size=a.size,o}var oh=rh;function ah(r){return this.__data__.get(r)}var sh=ah;function lh(r){return this.__data__.has(r)}var uh=lh,ch=typeof se=="object"&&se&&se.Object===Object&&se,$s=ch,fh=$s,hh=typeof self=="object"&&self&&self.Object===Object&&self,dh=fh||hh||Function("return this")(),Be=dh,ph=Be,mh=ph.Symbol,vo=mh,Ea=vo,Ws=Object.prototype,vh=Ws.hasOwnProperty,gh=Ws.toString,Zn=Ea?Ea.toStringTag:void 0;function _h(r){var a=vh.call(r,Zn),o=r[Zn];try{r[Zn]=void 0;var i=!0}catch{}var s=gh.call(r);return i&&(a?r[Zn]=o:delete r[Zn]),s}var yh=_h,bh=Object.prototype,xh=bh.toString;function wh(r){return xh.call(r)}var Eh=wh,Oa=vo,Oh=yh,Th=Eh,Ph="[object Null]",Ah="[object Undefined]",Ta=Oa?Oa.toStringTag:void 0;function Sh(r){return r==null?r===void 0?Ah:Ph:Ta&&Ta in Object(r)?Oh(r):Th(r)}var Gi=Sh;function Lh(r){var a=typeof r;return r!=null&&(a=="object"||a=="function")}var Gs=Lh,Nh=Gi,kh=Gs,Ch="[object AsyncFunction]",Rh="[object Function]",jh="[object GeneratorFunction]",Mh="[object Proxy]";function Ih(r){if(!kh(r))return!1;var a=Nh(r);return a==Rh||a==jh||a==Ch||a==Mh}var Ks=Ih,Dh=Be,Bh=Dh["__core-js_shared__"],zh=Bh,Cr=zh,Pa=function(){var r=/[^.]+$/.exec(Cr&&Cr.keys&&Cr.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function qh(r){return!!Pa&&Pa in r}var Fh=qh,Uh=Function.prototype,Hh=Uh.toString;function Zh(r){if(r!=null){try{return Hh.call(r)}catch{}try{return r+""}catch{}}return""}var Vs=Zh,$h=Ks,Wh=Fh,Gh=Gs,Kh=Vs,Vh=/[\\^$.*+?()[\]{}|]/g,Yh=/^\[object .+?Constructor\]$/,Xh=Function.prototype,Jh=Object.prototype,Qh=Xh.toString,td=Jh.hasOwnProperty,ed=RegExp("^"+Qh.call(td).replace(Vh,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nd(r){if(!Gh(r)||Wh(r))return!1;var a=$h(r)?ed:Yh;return a.test(Kh(r))}var id=nd;function rd(r,a){return r==null?void 0:r[a]}var od=rd,ad=id,sd=od;function ld(r,a){var o=sd(r,a);return ad(o)?o:void 0}var xn=ld,ud=xn,cd=Be,fd=ud(cd,"Map"),go=fd,hd=xn,dd=hd(Object,"create"),Ki=dd,Aa=Ki;function pd(){this.__data__=Aa?Aa(null):{},this.size=0}var md=pd;function vd(r){var a=this.has(r)&&delete this.__data__[r];return this.size-=a?1:0,a}var gd=vd,_d=Ki,yd="__lodash_hash_undefined__",bd=Object.prototype,xd=bd.hasOwnProperty;function wd(r){var a=this.__data__;if(_d){var o=a[r];return o===yd?void 0:o}return xd.call(a,r)?a[r]:void 0}var Ed=wd,Od=Ki,Td=Object.prototype,Pd=Td.hasOwnProperty;function Ad(r){var a=this.__data__;return Od?a[r]!==void 0:Pd.call(a,r)}var Sd=Ad,Ld=Ki,Nd="__lodash_hash_undefined__";function kd(r,a){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=Ld&&a===void 0?Nd:a,this}var Cd=kd,Rd=md,jd=gd,Md=Ed,Id=Sd,Dd=Cd;function wn(r){var a=-1,o=r==null?0:r.length;for(this.clear();++a<o;){var i=r[a];this.set(i[0],i[1])}}wn.prototype.clear=Rd;wn.prototype.delete=jd;wn.prototype.get=Md;wn.prototype.has=Id;wn.prototype.set=Dd;var Bd=wn,Sa=Bd,zd=Wi,qd=go;function Fd(){this.size=0,this.__data__={hash:new Sa,map:new(qd||zd),string:new Sa}}var Ud=Fd;function Hd(r){var a=typeof r;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?r!=="__proto__":r===null}var Zd=Hd,$d=Zd;function Wd(r,a){var o=r.__data__;return $d(a)?o[typeof a=="string"?"string":"hash"]:o.map}var Vi=Wd,Gd=Vi;function Kd(r){var a=Gd(this,r).delete(r);return this.size-=a?1:0,a}var Vd=Kd,Yd=Vi;function Xd(r){return Yd(this,r).get(r)}var Jd=Xd,Qd=Vi;function tp(r){return Qd(this,r).has(r)}var ep=tp,np=Vi;function ip(r,a){var o=np(this,r),i=o.size;return o.set(r,a),this.size+=o.size==i?0:1,this}var rp=ip,op=Ud,ap=Vd,sp=Jd,lp=ep,up=rp;function En(r){var a=-1,o=r==null?0:r.length;for(this.clear();++a<o;){var i=r[a];this.set(i[0],i[1])}}En.prototype.clear=op;En.prototype.delete=ap;En.prototype.get=sp;En.prototype.has=lp;En.prototype.set=up;var Ys=En,cp=Wi,fp=go,hp=Ys,dp=200;function pp(r,a){var o=this.__data__;if(o instanceof cp){var i=o.__data__;if(!fp||i.length<dp-1)return i.push([r,a]),this.size=++o.size,this;o=this.__data__=new hp(i)}return o.set(r,a),this.size=o.size,this}var mp=pp,vp=Wi,gp=ih,_p=oh,yp=sh,bp=uh,xp=mp;function On(r){var a=this.__data__=new vp(r);this.size=a.size}On.prototype.clear=gp;On.prototype.delete=_p;On.prototype.get=yp;On.prototype.has=bp;On.prototype.set=xp;var wp=On,Ep="__lodash_hash_undefined__";function Op(r){return this.__data__.set(r,Ep),this}var Tp=Op;function Pp(r){return this.__data__.has(r)}var Ap=Pp,Sp=Ys,Lp=Tp,Np=Ap;function Ri(r){var a=-1,o=r==null?0:r.length;for(this.__data__=new Sp;++a<o;)this.add(r[a])}Ri.prototype.add=Ri.prototype.push=Lp;Ri.prototype.has=Np;var kp=Ri;function Cp(r,a){for(var o=-1,i=r==null?0:r.length;++o<i;)if(a(r[o],o,r))return!0;return!1}var Rp=Cp;function jp(r,a){return r.has(a)}var Mp=jp,Ip=kp,Dp=Rp,Bp=Mp,zp=1,qp=2;function Fp(r,a,o,i,s,_){var g=o&zp,T=r.length,x=a.length;if(T!=x&&!(g&&x>T))return!1;var O=_.get(r),y=_.get(a);if(O&&y)return O==a&&y==r;var f=-1,u=!0,c=o&qp?new Ip:void 0;for(_.set(r,a),_.set(a,r);++f<T;){var b=r[f],d=a[f];if(i)var v=g?i(d,b,f,a,r,_):i(b,d,f,r,a,_);if(v!==void 0){if(v)continue;u=!1;break}if(c){if(!Dp(a,function(p,m){if(!Bp(c,m)&&(b===p||s(b,p,o,i,_)))return c.push(m)})){u=!1;break}}else if(!(b===d||s(b,d,o,i,_))){u=!1;break}}return _.delete(r),_.delete(a),u}var Xs=Fp,Up=Be,Hp=Up.Uint8Array,Zp=Hp;function $p(r){var a=-1,o=Array(r.size);return r.forEach(function(i,s){o[++a]=[s,i]}),o}var Wp=$p;function Gp(r){var a=-1,o=Array(r.size);return r.forEach(function(i){o[++a]=i}),o}var Kp=Gp,La=vo,Na=Zp,Vp=Zs,Yp=Xs,Xp=Wp,Jp=Kp,Qp=1,tm=2,em="[object Boolean]",nm="[object Date]",im="[object Error]",rm="[object Map]",om="[object Number]",am="[object RegExp]",sm="[object Set]",lm="[object String]",um="[object Symbol]",cm="[object ArrayBuffer]",fm="[object DataView]",ka=La?La.prototype:void 0,Rr=ka?ka.valueOf:void 0;function hm(r,a,o,i,s,_,g){switch(o){case fm:if(r.byteLength!=a.byteLength||r.byteOffset!=a.byteOffset)return!1;r=r.buffer,a=a.buffer;case cm:return!(r.byteLength!=a.byteLength||!_(new Na(r),new Na(a)));case em:case nm:case om:return Vp(+r,+a);case im:return r.name==a.name&&r.message==a.message;case am:case lm:return r==a+"";case rm:var T=Xp;case sm:var x=i&Qp;if(T||(T=Jp),r.size!=a.size&&!x)return!1;var O=g.get(r);if(O)return O==a;i|=tm,g.set(r,a);var y=Yp(T(r),T(a),i,s,_,g);return g.delete(r),y;case um:if(Rr)return Rr.call(r)==Rr.call(a)}return!1}var dm=hm;function pm(r,a){for(var o=-1,i=a.length,s=r.length;++o<i;)r[s+o]=a[o];return r}var mm=pm,vm=Array.isArray,_o=vm,gm=mm,_m=_o;function ym(r,a,o){var i=a(r);return _m(r)?i:gm(i,o(r))}var bm=ym;function xm(r,a){for(var o=-1,i=r==null?0:r.length,s=0,_=[];++o<i;){var g=r[o];a(g,o,r)&&(_[s++]=g)}return _}var wm=xm;function Em(){return[]}var Om=Em,Tm=wm,Pm=Om,Am=Object.prototype,Sm=Am.propertyIsEnumerable,Ca=Object.getOwnPropertySymbols,Lm=Ca?function(r){return r==null?[]:(r=Object(r),Tm(Ca(r),function(a){return Sm.call(r,a)}))}:Pm,Nm=Lm;function km(r,a){for(var o=-1,i=Array(r);++o<r;)i[o]=a(o);return i}var Cm=km;function Rm(r){return r!=null&&typeof r=="object"}var Yi=Rm,jm=Gi,Mm=Yi,Im="[object Arguments]";function Dm(r){return Mm(r)&&jm(r)==Im}var Bm=Dm,Ra=Bm,zm=Yi,Js=Object.prototype,qm=Js.hasOwnProperty,Fm=Js.propertyIsEnumerable,Um=Ra(function(){return arguments}())?Ra:function(r){return zm(r)&&qm.call(r,"callee")&&!Fm.call(r,"callee")},Hm=Um,ji={exports:{}};function Zm(){return!1}var $m=Zm;ji.exports;(function(r,a){var o=Be,i=$m,s=a&&!a.nodeType&&a,_=s&&!0&&r&&!r.nodeType&&r,g=_&&_.exports===s,T=g?o.Buffer:void 0,x=T?T.isBuffer:void 0,O=x||i;r.exports=O})(ji,ji.exports);var Qs=ji.exports,Wm=9007199254740991,Gm=/^(?:0|[1-9]\d*)$/;function Km(r,a){var o=typeof r;return a=a??Wm,!!a&&(o=="number"||o!="symbol"&&Gm.test(r))&&r>-1&&r%1==0&&r<a}var Vm=Km,Ym=9007199254740991;function Xm(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Ym}var tl=Xm,Jm=Gi,Qm=tl,tv=Yi,ev="[object Arguments]",nv="[object Array]",iv="[object Boolean]",rv="[object Date]",ov="[object Error]",av="[object Function]",sv="[object Map]",lv="[object Number]",uv="[object Object]",cv="[object RegExp]",fv="[object Set]",hv="[object String]",dv="[object WeakMap]",pv="[object ArrayBuffer]",mv="[object DataView]",vv="[object Float32Array]",gv="[object Float64Array]",_v="[object Int8Array]",yv="[object Int16Array]",bv="[object Int32Array]",xv="[object Uint8Array]",wv="[object Uint8ClampedArray]",Ev="[object Uint16Array]",Ov="[object Uint32Array]",zt={};zt[vv]=zt[gv]=zt[_v]=zt[yv]=zt[bv]=zt[xv]=zt[wv]=zt[Ev]=zt[Ov]=!0;zt[ev]=zt[nv]=zt[pv]=zt[iv]=zt[mv]=zt[rv]=zt[ov]=zt[av]=zt[sv]=zt[lv]=zt[uv]=zt[cv]=zt[fv]=zt[hv]=zt[dv]=!1;function Tv(r){return tv(r)&&Qm(r.length)&&!!zt[Jm(r)]}var Pv=Tv;function Av(r){return function(a){return r(a)}}var Sv=Av,Mi={exports:{}};Mi.exports;(function(r,a){var o=$s,i=a&&!a.nodeType&&a,s=i&&!0&&r&&!r.nodeType&&r,_=s&&s.exports===i,g=_&&o.process,T=function(){try{var x=s&&s.require&&s.require("util").types;return x||g&&g.binding&&g.binding("util")}catch{}}();r.exports=T})(Mi,Mi.exports);var Lv=Mi.exports,Nv=Pv,kv=Sv,ja=Lv,Ma=ja&&ja.isTypedArray,Cv=Ma?kv(Ma):Nv,el=Cv,Rv=Cm,jv=Hm,Mv=_o,Iv=Qs,Dv=Vm,Bv=el,zv=Object.prototype,qv=zv.hasOwnProperty;function Fv(r,a){var o=Mv(r),i=!o&&jv(r),s=!o&&!i&&Iv(r),_=!o&&!i&&!s&&Bv(r),g=o||i||s||_,T=g?Rv(r.length,String):[],x=T.length;for(var O in r)(a||qv.call(r,O))&&!(g&&(O=="length"||s&&(O=="offset"||O=="parent")||_&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||Dv(O,x)))&&T.push(O);return T}var Uv=Fv,Hv=Object.prototype;function Zv(r){var a=r&&r.constructor,o=typeof a=="function"&&a.prototype||Hv;return r===o}var $v=Zv;function Wv(r,a){return function(o){return r(a(o))}}var Gv=Wv,Kv=Gv,Vv=Kv(Object.keys,Object),Yv=Vv,Xv=$v,Jv=Yv,Qv=Object.prototype,tg=Qv.hasOwnProperty;function eg(r){if(!Xv(r))return Jv(r);var a=[];for(var o in Object(r))tg.call(r,o)&&o!="constructor"&&a.push(o);return a}var ng=eg,ig=Ks,rg=tl;function og(r){return r!=null&&rg(r.length)&&!ig(r)}var ag=og,sg=Uv,lg=ng,ug=ag;function cg(r){return ug(r)?sg(r):lg(r)}var fg=cg,hg=bm,dg=Nm,pg=fg;function mg(r){return hg(r,pg,dg)}var vg=mg,Ia=vg,gg=1,_g=Object.prototype,yg=_g.hasOwnProperty;function bg(r,a,o,i,s,_){var g=o&gg,T=Ia(r),x=T.length,O=Ia(a),y=O.length;if(x!=y&&!g)return!1;for(var f=x;f--;){var u=T[f];if(!(g?u in a:yg.call(a,u)))return!1}var c=_.get(r),b=_.get(a);if(c&&b)return c==a&&b==r;var d=!0;_.set(r,a),_.set(a,r);for(var v=g;++f<x;){u=T[f];var p=r[u],m=a[u];if(i)var E=g?i(m,p,u,a,r,_):i(p,m,u,r,a,_);if(!(E===void 0?p===m||s(p,m,o,i,_):E)){d=!1;break}v||(v=u=="constructor")}if(d&&!v){var h=r.constructor,P=a.constructor;h!=P&&"constructor"in r&&"constructor"in a&&!(typeof h=="function"&&h instanceof h&&typeof P=="function"&&P instanceof P)&&(d=!1)}return _.delete(r),_.delete(a),d}var xg=bg,wg=xn,Eg=Be,Og=wg(Eg,"DataView"),Tg=Og,Pg=xn,Ag=Be,Sg=Pg(Ag,"Promise"),Lg=Sg,Ng=xn,kg=Be,Cg=Ng(kg,"Set"),Rg=Cg,jg=xn,Mg=Be,Ig=jg(Mg,"WeakMap"),Dg=Ig,Yr=Tg,Xr=go,Jr=Lg,Qr=Rg,to=Dg,nl=Gi,Tn=Vs,Da="[object Map]",Bg="[object Object]",Ba="[object Promise]",za="[object Set]",qa="[object WeakMap]",Fa="[object DataView]",zg=Tn(Yr),qg=Tn(Xr),Fg=Tn(Jr),Ug=Tn(Qr),Hg=Tn(to),tn=nl;(Yr&&tn(new Yr(new ArrayBuffer(1)))!=Fa||Xr&&tn(new Xr)!=Da||Jr&&tn(Jr.resolve())!=Ba||Qr&&tn(new Qr)!=za||to&&tn(new to)!=qa)&&(tn=function(r){var a=nl(r),o=a==Bg?r.constructor:void 0,i=o?Tn(o):"";if(i)switch(i){case zg:return Fa;case qg:return Da;case Fg:return Ba;case Ug:return za;case Hg:return qa}return a});var Zg=tn,jr=wp,$g=Xs,Wg=dm,Gg=xg,Ua=Zg,Ha=_o,Za=Qs,Kg=el,Vg=1,$a="[object Arguments]",Wa="[object Array]",xi="[object Object]",Yg=Object.prototype,Ga=Yg.hasOwnProperty;function Xg(r,a,o,i,s,_){var g=Ha(r),T=Ha(a),x=g?Wa:Ua(r),O=T?Wa:Ua(a);x=x==$a?xi:x,O=O==$a?xi:O;var y=x==xi,f=O==xi,u=x==O;if(u&&Za(r)){if(!Za(a))return!1;g=!0,y=!1}if(u&&!y)return _||(_=new jr),g||Kg(r)?$g(r,a,o,i,s,_):Wg(r,a,x,o,i,s,_);if(!(o&Vg)){var c=y&&Ga.call(r,"__wrapped__"),b=f&&Ga.call(a,"__wrapped__");if(c||b){var d=c?r.value():r,v=b?a.value():a;return _||(_=new jr),s(d,v,o,i,_)}}return u?(_||(_=new jr),Gg(r,a,o,i,s,_)):!1}var Jg=Xg,Qg=Jg,Ka=Yi;function il(r,a,o,i,s){return r===a?!0:r==null||a==null||!Ka(r)&&!Ka(a)?r!==r&&a!==a:Qg(r,a,o,i,il,s)}var t_=il,e_=t_;function n_(r,a){return e_(r,a)}var i_=n_,rl={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(r,a){(function(i,s){r.exports=s()})(typeof self<"u"?self:se,function(){return function(o){var i={};function s(_){if(i[_])return i[_].exports;var g=i[_]={i:_,l:!1,exports:{}};return o[_].call(g.exports,g,g.exports,s),g.l=!0,g.exports}return s.m=o,s.c=i,s.d=function(_,g,T){s.o(_,g)||Object.defineProperty(_,g,{configurable:!1,enumerable:!0,get:T})},s.n=function(_){var g=_&&_.__esModule?function(){return _.default}:function(){return _};return s.d(g,"a",g),g},s.o=function(_,g){return Object.prototype.hasOwnProperty.call(_,g)},s.p="",s(s.s=109)}([function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=s(17),g=s(18),T=s(19),x=s(45),O=s(46),y=s(47),f=s(48),u=s(49),c=s(12),b=s(32),d=s(33),v=s(31),p=s(1),m={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:_.default,Format:g.default,Leaf:T.default,Embed:f.default,Scroll:x.default,Block:y.default,Inline:O.default,Text:u.default,Attributor:{Attribute:c.default,Class:b.default,Style:d.default,Store:v.default}};i.default=m},function(o,i,s){var _=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var E in m)m.hasOwnProperty(E)&&(p[E]=m[E])};return function(p,m){v(p,m);function E(){this.constructor=p}p.prototype=m===null?Object.create(m):(E.prototype=m.prototype,new E)}}();Object.defineProperty(i,"__esModule",{value:!0});var g=function(v){_(p,v);function p(m){var E=this;return m="[Parchment] "+m,E=v.call(this,m)||this,E.message=m,E.name=E.constructor.name,E}return p}(Error);i.ParchmentError=g;var T={},x={},O={},y={};i.DATA_KEY="__blot";var f;(function(v){v[v.TYPE=3]="TYPE",v[v.LEVEL=12]="LEVEL",v[v.ATTRIBUTE=13]="ATTRIBUTE",v[v.BLOT=14]="BLOT",v[v.INLINE=7]="INLINE",v[v.BLOCK=11]="BLOCK",v[v.BLOCK_BLOT=10]="BLOCK_BLOT",v[v.INLINE_BLOT=6]="INLINE_BLOT",v[v.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",v[v.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",v[v.ANY=15]="ANY"})(f=i.Scope||(i.Scope={}));function u(v,p){var m=b(v);if(m==null)throw new g("Unable to create "+v+" blot");var E=m,h=v instanceof Node||v.nodeType===Node.TEXT_NODE?v:E.create(p);return new E(h,p)}i.create=u;function c(v,p){return p===void 0&&(p=!1),v==null?null:v[i.DATA_KEY]!=null?v[i.DATA_KEY].blot:p?c(v.parentNode,p):null}i.find=c;function b(v,p){p===void 0&&(p=f.ANY);var m;if(typeof v=="string")m=y[v]||T[v];else if(v instanceof Text||v.nodeType===Node.TEXT_NODE)m=y.text;else if(typeof v=="number")v&f.LEVEL&f.BLOCK?m=y.block:v&f.LEVEL&f.INLINE&&(m=y.inline);else if(v instanceof HTMLElement){var E=(v.getAttribute("class")||"").split(/\s+/);for(var h in E)if(m=x[E[h]],m)break;m=m||O[v.tagName]}return m==null?null:p&f.LEVEL&m.scope&&p&f.TYPE&m.scope?m:null}i.query=b;function d(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];if(v.length>1)return v.map(function(h){return d(h)});var m=v[0];if(typeof m.blotName!="string"&&typeof m.attrName!="string")throw new g("Invalid definition");if(m.blotName==="abstract")throw new g("Cannot register abstract class");if(y[m.blotName||m.attrName]=m,typeof m.keyName=="string")T[m.keyName]=m;else if(m.className!=null&&(x[m.className]=m),m.tagName!=null){Array.isArray(m.tagName)?m.tagName=m.tagName.map(function(h){return h.toUpperCase()}):m.tagName=m.tagName.toUpperCase();var E=Array.isArray(m.tagName)?m.tagName:[m.tagName];E.forEach(function(h){(O[h]==null||m.className==null)&&(O[h]=m)})}return m}i.register=d},function(o,i,s){var _=s(51),g=s(11),T=s(3),x=s(20),O="\0",y=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};y.prototype.insert=function(f,u){var c={};return f.length===0?this:(c.insert=f,u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(c.attributes=u),this.push(c))},y.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},y.prototype.retain=function(f,u){if(f<=0)return this;var c={retain:f};return u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(c.attributes=u),this.push(c)},y.prototype.push=function(f){var u=this.ops.length,c=this.ops[u-1];if(f=T(!0,{},f),typeof c=="object"){if(typeof f.delete=="number"&&typeof c.delete=="number")return this.ops[u-1]={delete:c.delete+f.delete},this;if(typeof c.delete=="number"&&f.insert!=null&&(u-=1,c=this.ops[u-1],typeof c!="object"))return this.ops.unshift(f),this;if(g(f.attributes,c.attributes)){if(typeof f.insert=="string"&&typeof c.insert=="string")return this.ops[u-1]={insert:c.insert+f.insert},typeof f.attributes=="object"&&(this.ops[u-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof c.retain=="number")return this.ops[u-1]={retain:c.retain+f.retain},typeof f.attributes=="object"&&(this.ops[u-1].attributes=f.attributes),this}}return u===this.ops.length?this.ops.push(f):this.ops.splice(u,0,f),this},y.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},y.prototype.filter=function(f){return this.ops.filter(f)},y.prototype.forEach=function(f){this.ops.forEach(f)},y.prototype.map=function(f){return this.ops.map(f)},y.prototype.partition=function(f){var u=[],c=[];return this.forEach(function(b){var d=f(b)?u:c;d.push(b)}),[u,c]},y.prototype.reduce=function(f,u){return this.ops.reduce(f,u)},y.prototype.changeLength=function(){return this.reduce(function(f,u){return u.insert?f+x.length(u):u.delete?f-u.delete:f},0)},y.prototype.length=function(){return this.reduce(function(f,u){return f+x.length(u)},0)},y.prototype.slice=function(f,u){f=f||0,typeof u!="number"&&(u=1/0);for(var c=[],b=x.iterator(this.ops),d=0;d<u&&b.hasNext();){var v;d<f?v=b.next(f-d):(v=b.next(u-d),c.push(v)),d+=x.length(v)}return new y(c)},y.prototype.compose=function(f){var u=x.iterator(this.ops),c=x.iterator(f.ops),b=[],d=c.peek();if(d!=null&&typeof d.retain=="number"&&d.attributes==null){for(var v=d.retain;u.peekType()==="insert"&&u.peekLength()<=v;)v-=u.peekLength(),b.push(u.next());d.retain-v>0&&c.next(d.retain-v)}for(var p=new y(b);u.hasNext()||c.hasNext();)if(c.peekType()==="insert")p.push(c.next());else if(u.peekType()==="delete")p.push(u.next());else{var m=Math.min(u.peekLength(),c.peekLength()),E=u.next(m),h=c.next(m);if(typeof h.retain=="number"){var P={};typeof E.retain=="number"?P.retain=m:P.insert=E.insert;var I=x.attributes.compose(E.attributes,h.attributes,typeof E.retain=="number");if(I&&(P.attributes=I),p.push(P),!c.hasNext()&&g(p.ops[p.ops.length-1],P)){var R=new y(u.rest());return p.concat(R).chop()}}else typeof h.delete=="number"&&typeof E.retain=="number"&&p.push(h)}return p.chop()},y.prototype.concat=function(f){var u=new y(this.ops.slice());return f.ops.length>0&&(u.push(f.ops[0]),u.ops=u.ops.concat(f.ops.slice(1))),u},y.prototype.diff=function(f,u){if(this.ops===f.ops)return new y;var c=[this,f].map(function(m){return m.map(function(E){if(E.insert!=null)return typeof E.insert=="string"?E.insert:O;var h=m===f?"on":"with";throw new Error("diff() called "+h+" non-document")}).join("")}),b=new y,d=_(c[0],c[1],u),v=x.iterator(this.ops),p=x.iterator(f.ops);return d.forEach(function(m){for(var E=m[1].length;E>0;){var h=0;switch(m[0]){case _.INSERT:h=Math.min(p.peekLength(),E),b.push(p.next(h));break;case _.DELETE:h=Math.min(E,v.peekLength()),v.next(h),b.delete(h);break;case _.EQUAL:h=Math.min(v.peekLength(),p.peekLength(),E);var P=v.next(h),I=p.next(h);g(P.insert,I.insert)?b.retain(h,x.attributes.diff(P.attributes,I.attributes)):b.push(I).delete(h);break}E-=h}}),b.chop()},y.prototype.eachLine=function(f,u){u=u||`
`;for(var c=x.iterator(this.ops),b=new y,d=0;c.hasNext();){if(c.peekType()!=="insert")return;var v=c.peek(),p=x.length(v)-c.peekLength(),m=typeof v.insert=="string"?v.insert.indexOf(u,p)-p:-1;if(m<0)b.push(c.next());else if(m>0)b.push(c.next(m));else{if(f(b,c.next(1).attributes||{},d)===!1)return;d+=1,b=new y}}b.length()>0&&f(b,{},d)},y.prototype.transform=function(f,u){if(u=!!u,typeof f=="number")return this.transformPosition(f,u);for(var c=x.iterator(this.ops),b=x.iterator(f.ops),d=new y;c.hasNext()||b.hasNext();)if(c.peekType()==="insert"&&(u||b.peekType()!=="insert"))d.retain(x.length(c.next()));else if(b.peekType()==="insert")d.push(b.next());else{var v=Math.min(c.peekLength(),b.peekLength()),p=c.next(v),m=b.next(v);if(p.delete)continue;m.delete?d.push(m):d.retain(v,x.attributes.transform(p.attributes,m.attributes,u))}return d.chop()},y.prototype.transformPosition=function(f,u){u=!!u;for(var c=x.iterator(this.ops),b=0;c.hasNext()&&b<=f;){var d=c.peekLength(),v=c.peekType();if(c.next(),v==="delete"){f-=Math.min(d,f-b);continue}else v==="insert"&&(b<f||!u)&&(f+=d);b+=d}return f},o.exports=y},function(o,i){var s=Object.prototype.hasOwnProperty,_=Object.prototype.toString,g=Object.defineProperty,T=Object.getOwnPropertyDescriptor,x=function(c){return typeof Array.isArray=="function"?Array.isArray(c):_.call(c)==="[object Array]"},O=function(c){if(!c||_.call(c)!=="[object Object]")return!1;var b=s.call(c,"constructor"),d=c.constructor&&c.constructor.prototype&&s.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!b&&!d)return!1;var v;for(v in c);return typeof v>"u"||s.call(c,v)},y=function(c,b){g&&b.name==="__proto__"?g(c,b.name,{enumerable:!0,configurable:!0,value:b.newValue,writable:!0}):c[b.name]=b.newValue},f=function(c,b){if(b==="__proto__")if(s.call(c,b)){if(T)return T(c,b).value}else return;return c[b]};o.exports=function u(){var c,b,d,v,p,m,E=arguments[0],h=1,P=arguments.length,I=!1;for(typeof E=="boolean"&&(I=E,E=arguments[1]||{},h=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});h<P;++h)if(c=arguments[h],c!=null)for(b in c)d=f(E,b),v=f(c,b),E!==v&&(I&&v&&(O(v)||(p=x(v)))?(p?(p=!1,m=d&&x(d)?d:[]):m=d&&O(d)?d:{},y(E,{name:b,newValue:u(I,m,v)})):typeof v<"u"&&y(E,{name:b,newValue:v}));return E}},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BlockEmbed=i.bubbleFormats=void 0;var _=function(){function S(N,D){for(var q=0;q<D.length;q++){var Z=D[q];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(N,Z.key,Z)}}return function(N,D,q){return D&&S(N.prototype,D),q&&S(N,q),N}}(),g=function S(N,D,q){N===null&&(N=Function.prototype);var Z=Object.getOwnPropertyDescriptor(N,D);if(Z===void 0){var X=Object.getPrototypeOf(N);return X===null?void 0:S(X,D,q)}else{if("value"in Z)return Z.value;var J=Z.get;return J===void 0?void 0:J.call(q)}},T=s(3),x=E(T),O=s(2),y=E(O),f=s(0),u=E(f),c=s(16),b=E(c),d=s(6),v=E(d),p=s(7),m=E(p);function E(S){return S&&S.__esModule?S:{default:S}}function h(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")}function P(S,N){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:S}function I(S,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);S.prototype=Object.create(N&&N.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(S,N):S.__proto__=N)}var R=1,M=function(S){I(N,S);function N(){return h(this,N),P(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return _(N,[{key:"attach",value:function(){g(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"attach",this).call(this),this.attributes=new u.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new y.default().insert(this.value(),(0,x.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(q,Z){var X=u.default.query(q,u.default.Scope.BLOCK_ATTRIBUTE);X!=null&&this.attributes.attribute(X,Z)}},{key:"formatAt",value:function(q,Z,X,J){this.format(X,J)}},{key:"insertAt",value:function(q,Z,X){if(typeof Z=="string"&&Z.endsWith(`
`)){var J=u.default.create(z.blotName);this.parent.insertBefore(J,q===0?this:this.next),J.insertAt(0,Z.slice(0,-1))}else g(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,q,Z,X)}}]),N}(u.default.Embed);M.scope=u.default.Scope.BLOCK_BLOT;var z=function(S){I(N,S);function N(D){h(this,N);var q=P(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,D));return q.cache={},q}return _(N,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(u.default.Leaf).reduce(function(q,Z){return Z.length()===0?q:q.insert(Z.value(),k(Z))},new y.default).insert(`
`,k(this))),this.cache.delta}},{key:"deleteAt",value:function(q,Z){g(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"deleteAt",this).call(this,q,Z),this.cache={}}},{key:"formatAt",value:function(q,Z,X,J){Z<=0||(u.default.query(X,u.default.Scope.BLOCK)?q+Z===this.length()&&this.format(X,J):g(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"formatAt",this).call(this,q,Math.min(Z,this.length()-q-1),X,J),this.cache={})}},{key:"insertAt",value:function(q,Z,X){if(X!=null)return g(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,q,Z,X);if(Z.length!==0){var J=Z.split(`
`),nt=J.shift();nt.length>0&&(q<this.length()-1||this.children.tail==null?g(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,Math.min(q,this.length()-1),nt):this.children.tail.insertAt(this.children.tail.length(),nt),this.cache={});var Y=this;J.reduce(function(F,C){return Y=Y.split(F,!0),Y.insertAt(0,C),C.length},q+nt.length)}}},{key:"insertBefore",value:function(q,Z){var X=this.children.head;g(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,q,Z),X instanceof b.default&&X.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=g(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"length",this).call(this)+R),this.cache.length}},{key:"moveChildren",value:function(q,Z){g(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"moveChildren",this).call(this,q,Z),this.cache={}}},{key:"optimize",value:function(q){g(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,q),this.cache={}}},{key:"path",value:function(q){return g(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"path",this).call(this,q,!0)}},{key:"removeChild",value:function(q){g(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"removeChild",this).call(this,q),this.cache={}}},{key:"split",value:function(q){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Z&&(q===0||q>=this.length()-R)){var X=this.clone();return q===0?(this.parent.insertBefore(X,this),this):(this.parent.insertBefore(X,this.next),X)}else{var J=g(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"split",this).call(this,q,Z);return this.cache={},J}}}]),N}(u.default.Block);z.blotName="block",z.tagName="P",z.defaultChild="break",z.allowedChildren=[v.default,u.default.Embed,m.default];function k(S){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S==null||(typeof S.formats=="function"&&(N=(0,x.default)(N,S.formats())),S.parent==null||S.parent.blotName=="scroll"||S.parent.statics.scope!==S.statics.scope)?N:k(S.parent,N)}i.bubbleFormats=k,i.BlockEmbed=M,i.default=z},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.overload=i.expandConfig=void 0;var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},g=function(){function Y(F,C){var U=[],H=!0,V=!1,W=void 0;try{for(var B=F[Symbol.iterator](),G;!(H=(G=B.next()).done)&&(U.push(G.value),!(C&&U.length===C));H=!0);}catch(tt){V=!0,W=tt}finally{try{!H&&B.return&&B.return()}finally{if(V)throw W}}return U}return function(F,C){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return Y(F,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T=function(){function Y(F,C){for(var U=0;U<C.length;U++){var H=C[U];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(F,H.key,H)}}return function(F,C,U){return C&&Y(F.prototype,C),U&&Y(F,U),F}}();s(50);var x=s(2),O=k(x),y=s(14),f=k(y),u=s(8),c=k(u),b=s(9),d=k(b),v=s(0),p=k(v),m=s(15),E=k(m),h=s(3),P=k(h),I=s(10),R=k(I),M=s(34),z=k(M);function k(Y){return Y&&Y.__esModule?Y:{default:Y}}function S(Y,F,C){return F in Y?Object.defineProperty(Y,F,{value:C,enumerable:!0,configurable:!0,writable:!0}):Y[F]=C,Y}function N(Y,F){if(!(Y instanceof F))throw new TypeError("Cannot call a class as a function")}var D=(0,R.default)("quill"),q=function(){T(Y,null,[{key:"debug",value:function(C){C===!0&&(C="log"),R.default.level(C)}},{key:"find",value:function(C){return C.__quill||p.default.find(C)}},{key:"import",value:function(C){return this.imports[C]==null&&D.error("Cannot import "+C+". Are you sure it was registered?"),this.imports[C]}},{key:"register",value:function(C,U){var H=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof C!="string"){var W=C.attrName||C.blotName;typeof W=="string"?this.register("formats/"+W,C,U):Object.keys(C).forEach(function(B){H.register(B,C[B],U)})}else this.imports[C]!=null&&!V&&D.warn("Overwriting "+C+" with",U),this.imports[C]=U,(C.startsWith("blots/")||C.startsWith("formats/"))&&U.blotName!=="abstract"?p.default.register(U):C.startsWith("modules")&&typeof U.register=="function"&&U.register()}}]);function Y(F){var C=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(N(this,Y),this.options=Z(F,U),this.container=this.options.container,this.container==null)return D.error("Invalid Quill container",F);this.options.debug&&Y.debug(this.options.debug);var H=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new c.default,this.scroll=p.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new E.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(c.default.events.EDITOR_CHANGE,function(W){W===c.default.events.TEXT_CHANGE&&C.root.classList.toggle("ql-blank",C.editor.isBlank())}),this.emitter.on(c.default.events.SCROLL_UPDATE,function(W,B){var G=C.selection.lastRange,tt=G&&G.length===0?G.index:void 0;X.call(C,function(){return C.editor.update(null,B,tt)},W)});var V=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+H+"<p><br></p></div>");this.setContents(V),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return T(Y,[{key:"addContainer",value:function(C){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof C=="string"){var H=C;C=document.createElement("div"),C.classList.add(H)}return this.container.insertBefore(C,U),C}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(C,U,H){var V=this,W=J(C,U,H),B=g(W,4);return C=B[0],U=B[1],H=B[3],X.call(this,function(){return V.editor.deleteText(C,U)},H,C,-1*U)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(C),this.container.classList.toggle("ql-disabled",!C)}},{key:"focus",value:function(){var C=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=C,this.scrollIntoView()}},{key:"format",value:function(C,U){var H=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c.default.sources.API;return X.call(this,function(){var W=H.getSelection(!0),B=new O.default;if(W==null)return B;if(p.default.query(C,p.default.Scope.BLOCK))B=H.editor.formatLine(W.index,W.length,S({},C,U));else{if(W.length===0)return H.selection.format(C,U),B;B=H.editor.formatText(W.index,W.length,S({},C,U))}return H.setSelection(W,c.default.sources.SILENT),B},V)}},{key:"formatLine",value:function(C,U,H,V,W){var B=this,G=void 0,tt=J(C,U,H,V,W),et=g(tt,4);return C=et[0],U=et[1],G=et[2],W=et[3],X.call(this,function(){return B.editor.formatLine(C,U,G)},W,C,0)}},{key:"formatText",value:function(C,U,H,V,W){var B=this,G=void 0,tt=J(C,U,H,V,W),et=g(tt,4);return C=et[0],U=et[1],G=et[2],W=et[3],X.call(this,function(){return B.editor.formatText(C,U,G)},W,C,0)}},{key:"getBounds",value:function(C){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H=void 0;typeof C=="number"?H=this.selection.getBounds(C,U):H=this.selection.getBounds(C.index,C.length);var V=this.container.getBoundingClientRect();return{bottom:H.bottom-V.top,height:H.height,left:H.left-V.left,right:H.right-V.left,top:H.top-V.top,width:H.width}}},{key:"getContents",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-C,H=J(C,U),V=g(H,2);return C=V[0],U=V[1],this.editor.getContents(C,U)}},{key:"getFormat",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof C=="number"?this.editor.getFormat(C,U):this.editor.getFormat(C.index,C.length)}},{key:"getIndex",value:function(C){return C.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(C){return this.scroll.leaf(C)}},{key:"getLine",value:function(C){return this.scroll.line(C)}},{key:"getLines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof C!="number"?this.scroll.lines(C.index,C.length):this.scroll.lines(C,U)}},{key:"getModule",value:function(C){return this.theme.modules[C]}},{key:"getSelection",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return C&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-C,H=J(C,U),V=g(H,2);return C=V[0],U=V[1],this.editor.getText(C,U)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(C,U,H){var V=this,W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Y.sources.API;return X.call(this,function(){return V.editor.insertEmbed(C,U,H)},W,C)}},{key:"insertText",value:function(C,U,H,V,W){var B=this,G=void 0,tt=J(C,0,H,V,W),et=g(tt,4);return C=et[0],G=et[2],W=et[3],X.call(this,function(){return B.editor.insertText(C,U,G)},W,C,U.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(C,U,H){this.clipboard.dangerouslyPasteHTML(C,U,H)}},{key:"removeFormat",value:function(C,U,H){var V=this,W=J(C,U,H),B=g(W,4);return C=B[0],U=B[1],H=B[3],X.call(this,function(){return V.editor.removeFormat(C,U)},H,C)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(C){var U=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c.default.sources.API;return X.call(this,function(){C=new O.default(C);var V=U.getLength(),W=U.editor.deleteText(0,V),B=U.editor.applyDelta(C),G=B.ops[B.ops.length-1];G!=null&&typeof G.insert=="string"&&G.insert[G.insert.length-1]===`
`&&(U.editor.deleteText(U.getLength()-1,1),B.delete(1));var tt=W.compose(B);return tt},H)}},{key:"setSelection",value:function(C,U,H){if(C==null)this.selection.setRange(null,U||Y.sources.API);else{var V=J(C,U,H),W=g(V,4);C=W[0],U=W[1],H=W[3],this.selection.setRange(new m.Range(C,U),H),H!==c.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(C){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c.default.sources.API,H=new O.default().insert(C);return this.setContents(H,U)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c.default.sources.USER,U=this.scroll.update(C);return this.selection.update(C),U}},{key:"updateContents",value:function(C){var U=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c.default.sources.API;return X.call(this,function(){return C=new O.default(C),U.editor.applyDelta(C,H)},H,!0)}}]),Y}();q.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},q.events=c.default.events,q.sources=c.default.sources,q.version="1.3.7",q.imports={delta:O.default,parchment:p.default,"core/module":d.default,"core/theme":z.default};function Z(Y,F){if(F=(0,P.default)(!0,{container:Y,modules:{clipboard:!0,keyboard:!0,history:!0}},F),!F.theme||F.theme===q.DEFAULTS.theme)F.theme=z.default;else if(F.theme=q.import("themes/"+F.theme),F.theme==null)throw new Error("Invalid theme "+F.theme+". Did you register it?");var C=(0,P.default)(!0,{},F.theme.DEFAULTS);[C,F].forEach(function(V){V.modules=V.modules||{},Object.keys(V.modules).forEach(function(W){V.modules[W]===!0&&(V.modules[W]={})})});var U=Object.keys(C.modules).concat(Object.keys(F.modules)),H=U.reduce(function(V,W){var B=q.import("modules/"+W);return B==null?D.error("Cannot load "+W+" module. Are you sure you registered it?"):V[W]=B.DEFAULTS||{},V},{});return F.modules!=null&&F.modules.toolbar&&F.modules.toolbar.constructor!==Object&&(F.modules.toolbar={container:F.modules.toolbar}),F=(0,P.default)(!0,{},q.DEFAULTS,{modules:H},C,F),["bounds","container","scrollingContainer"].forEach(function(V){typeof F[V]=="string"&&(F[V]=document.querySelector(F[V]))}),F.modules=Object.keys(F.modules).reduce(function(V,W){return F.modules[W]&&(V[W]=F.modules[W]),V},{}),F}function X(Y,F,C,U){if(this.options.strict&&!this.isEnabled()&&F===c.default.sources.USER)return new O.default;var H=C==null?null:this.getSelection(),V=this.editor.delta,W=Y();if(H!=null&&(C===!0&&(C=H.index),U==null?H=nt(H,W,F):U!==0&&(H=nt(H,C,U,F)),this.setSelection(H,c.default.sources.SILENT)),W.length()>0){var B,G=[c.default.events.TEXT_CHANGE,W,V,F];if((B=this.emitter).emit.apply(B,[c.default.events.EDITOR_CHANGE].concat(G)),F!==c.default.sources.SILENT){var tt;(tt=this.emitter).emit.apply(tt,G)}}return W}function J(Y,F,C,U,H){var V={};return typeof Y.index=="number"&&typeof Y.length=="number"?typeof F!="number"?(H=U,U=C,C=F,F=Y.length,Y=Y.index):(F=Y.length,Y=Y.index):typeof F!="number"&&(H=U,U=C,C=F,F=0),(typeof C>"u"?"undefined":_(C))==="object"?(V=C,H=U):typeof C=="string"&&(U!=null?V[C]=U:H=C),H=H||c.default.sources.API,[Y,F,V,H]}function nt(Y,F,C,U){if(Y==null)return null;var H=void 0,V=void 0;if(F instanceof O.default){var W=[Y.index,Y.index+Y.length].map(function(et){return F.transformPosition(et,U!==c.default.sources.USER)}),B=g(W,2);H=B[0],V=B[1]}else{var G=[Y.index,Y.index+Y.length].map(function(et){return et<F||et===F&&U===c.default.sources.USER?et:C>=0?et+C:Math.max(F,et+C)}),tt=g(G,2);H=tt[0],V=tt[1]}return new m.Range(H,V-H)}i.expandConfig=Z,i.overload=J,i.default=q},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=function(){function v(p,m){for(var E=0;E<m.length;E++){var h=m[E];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(p,h.key,h)}}return function(p,m,E){return m&&v(p.prototype,m),E&&v(p,E),p}}(),g=function v(p,m,E){p===null&&(p=Function.prototype);var h=Object.getOwnPropertyDescriptor(p,m);if(h===void 0){var P=Object.getPrototypeOf(p);return P===null?void 0:v(P,m,E)}else{if("value"in h)return h.value;var I=h.get;return I===void 0?void 0:I.call(E)}},T=s(7),x=f(T),O=s(0),y=f(O);function f(v){return v&&v.__esModule?v:{default:v}}function u(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function c(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function b(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var d=function(v){b(p,v);function p(){return u(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return _(p,[{key:"formatAt",value:function(E,h,P,I){if(p.compare(this.statics.blotName,P)<0&&y.default.query(P,y.default.Scope.BLOT)){var R=this.isolate(E,h);I&&R.wrap(P,I)}else g(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,E,h,P,I)}},{key:"optimize",value:function(E){if(g(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,E),this.parent instanceof p&&p.compare(this.statics.blotName,this.parent.statics.blotName)>0){var h=this.parent.isolate(this.offset(),this.length());this.moveChildren(h),h.wrap(this)}}}],[{key:"compare",value:function(E,h){var P=p.order.indexOf(E),I=p.order.indexOf(h);return P>=0||I>=0?P-I:E===h?0:E<h?-1:1}}]),p}(y.default.Inline);d.allowedChildren=[d,y.default.Embed,x.default],d.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],i.default=d},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=s(0),g=T(_);function T(u){return u&&u.__esModule?u:{default:u}}function x(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function O(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:u}function y(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}var f=function(u){y(c,u);function c(){return x(this,c),O(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return c}(g.default.Text);i.default=f},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=function(){function m(E,h){for(var P=0;P<h.length;P++){var I=h[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}return function(E,h,P){return h&&m(E.prototype,h),P&&m(E,P),E}}(),g=function m(E,h,P){E===null&&(E=Function.prototype);var I=Object.getOwnPropertyDescriptor(E,h);if(I===void 0){var R=Object.getPrototypeOf(E);return R===null?void 0:m(R,h,P)}else{if("value"in I)return I.value;var M=I.get;return M===void 0?void 0:M.call(P)}},T=s(54),x=f(T),O=s(10),y=f(O);function f(m){return m&&m.__esModule?m:{default:m}}function u(m,E){if(!(m instanceof E))throw new TypeError("Cannot call a class as a function")}function c(m,E){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:m}function b(m,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);m.prototype=Object.create(E&&E.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(m,E):m.__proto__=E)}var d=(0,y.default)("quill:events"),v=["selectionchange","mousedown","mouseup","click"];v.forEach(function(m){document.addEventListener(m,function(){for(var E=arguments.length,h=Array(E),P=0;P<E;P++)h[P]=arguments[P];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(I){if(I.__quill&&I.__quill.emitter){var R;(R=I.__quill.emitter).handleDOM.apply(R,h)}})})});var p=function(m){b(E,m);function E(){u(this,E);var h=c(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));return h.listeners={},h.on("error",d.error),h}return _(E,[{key:"emit",value:function(){d.log.apply(d,arguments),g(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(P){for(var I=arguments.length,R=Array(I>1?I-1:0),M=1;M<I;M++)R[M-1]=arguments[M];(this.listeners[P.type]||[]).forEach(function(z){var k=z.node,S=z.handler;(P.target===k||k.contains(P.target))&&S.apply(void 0,[P].concat(R))})}},{key:"listenDOM",value:function(P,I,R){this.listeners[P]||(this.listeners[P]=[]),this.listeners[P].push({node:I,handler:R})}}]),E}(x.default);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},i.default=p},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});function _(T,x){if(!(T instanceof x))throw new TypeError("Cannot call a class as a function")}var g=function T(x){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_(this,T),this.quill=x,this.options=O};g.DEFAULTS={},i.default=g},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=["error","warn","log","info"],g="warn";function T(O){if(_.indexOf(O)<=_.indexOf(g)){for(var y,f=arguments.length,u=Array(f>1?f-1:0),c=1;c<f;c++)u[c-1]=arguments[c];(y=console)[O].apply(y,u)}}function x(O){return _.reduce(function(y,f){return y[f]=T.bind(console,f,O),y},{})}T.level=x.level=function(O){g=O},i.default=x},function(o,i,s){var _=Array.prototype.slice,g=s(52),T=s(53),x=o.exports=function(u,c,b){return b||(b={}),u===c?!0:u instanceof Date&&c instanceof Date?u.getTime()===c.getTime():!u||!c||typeof u!="object"&&typeof c!="object"?b.strict?u===c:u==c:f(u,c,b)};function O(u){return u==null}function y(u){return!(!u||typeof u!="object"||typeof u.length!="number"||typeof u.copy!="function"||typeof u.slice!="function"||u.length>0&&typeof u[0]!="number")}function f(u,c,b){var d,v;if(O(u)||O(c)||u.prototype!==c.prototype)return!1;if(T(u))return T(c)?(u=_.call(u),c=_.call(c),x(u,c,b)):!1;if(y(u)){if(!y(c)||u.length!==c.length)return!1;for(d=0;d<u.length;d++)if(u[d]!==c[d])return!1;return!0}try{var p=g(u),m=g(c)}catch{return!1}if(p.length!=m.length)return!1;for(p.sort(),m.sort(),d=p.length-1;d>=0;d--)if(p[d]!=m[d])return!1;for(d=p.length-1;d>=0;d--)if(v=p[d],!x(u[v],c[v],b))return!1;return typeof u==typeof c}},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=s(1),g=function(){function T(x,O,y){y===void 0&&(y={}),this.attrName=x,this.keyName=O;var f=_.Scope.TYPE&_.Scope.ATTRIBUTE;y.scope!=null?this.scope=y.scope&_.Scope.LEVEL|f:this.scope=_.Scope.ATTRIBUTE,y.whitelist!=null&&(this.whitelist=y.whitelist)}return T.keys=function(x){return[].map.call(x.attributes,function(O){return O.name})},T.prototype.add=function(x,O){return this.canAdd(x,O)?(x.setAttribute(this.keyName,O),!0):!1},T.prototype.canAdd=function(x,O){var y=_.query(x,_.Scope.BLOT&(this.scope|_.Scope.TYPE));return y==null?!1:this.whitelist==null?!0:typeof O=="string"?this.whitelist.indexOf(O.replace(/["']/g,""))>-1:this.whitelist.indexOf(O)>-1},T.prototype.remove=function(x){x.removeAttribute(this.keyName)},T.prototype.value=function(x){var O=x.getAttribute(this.keyName);return this.canAdd(x,O)&&O?O:""},T}();i.default=g},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Code=void 0;var _=function(){function M(z,k){var S=[],N=!0,D=!1,q=void 0;try{for(var Z=z[Symbol.iterator](),X;!(N=(X=Z.next()).done)&&(S.push(X.value),!(k&&S.length===k));N=!0);}catch(J){D=!0,q=J}finally{try{!N&&Z.return&&Z.return()}finally{if(D)throw q}}return S}return function(z,k){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return M(z,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function M(z,k){for(var S=0;S<k.length;S++){var N=k[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(z,N.key,N)}}return function(z,k,S){return k&&M(z.prototype,k),S&&M(z,S),z}}(),T=function M(z,k,S){z===null&&(z=Function.prototype);var N=Object.getOwnPropertyDescriptor(z,k);if(N===void 0){var D=Object.getPrototypeOf(z);return D===null?void 0:M(D,k,S)}else{if("value"in N)return N.value;var q=N.get;return q===void 0?void 0:q.call(S)}},x=s(2),O=m(x),y=s(0),f=m(y),u=s(4),c=m(u),b=s(6),d=m(b),v=s(7),p=m(v);function m(M){return M&&M.__esModule?M:{default:M}}function E(M,z){if(!(M instanceof z))throw new TypeError("Cannot call a class as a function")}function h(M,z){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:M}function P(M,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);M.prototype=Object.create(z&&z.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(M,z):M.__proto__=z)}var I=function(M){P(z,M);function z(){return E(this,z),h(this,(z.__proto__||Object.getPrototypeOf(z)).apply(this,arguments))}return z}(d.default);I.blotName="code",I.tagName="CODE";var R=function(M){P(z,M);function z(){return E(this,z),h(this,(z.__proto__||Object.getPrototypeOf(z)).apply(this,arguments))}return g(z,[{key:"delta",value:function(){var S=this,N=this.domNode.textContent;return N.endsWith(`
`)&&(N=N.slice(0,-1)),N.split(`
`).reduce(function(D,q){return D.insert(q).insert(`
`,S.formats())},new O.default)}},{key:"format",value:function(S,N){if(!(S===this.statics.blotName&&N)){var D=this.descendant(p.default,this.length()-1),q=_(D,1),Z=q[0];Z!=null&&Z.deleteAt(Z.length()-1,1),T(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"format",this).call(this,S,N)}}},{key:"formatAt",value:function(S,N,D,q){if(N!==0&&!(f.default.query(D,f.default.Scope.BLOCK)==null||D===this.statics.blotName&&q===this.statics.formats(this.domNode))){var Z=this.newlineIndex(S);if(!(Z<0||Z>=S+N)){var X=this.newlineIndex(S,!0)+1,J=Z-X+1,nt=this.isolate(X,J),Y=nt.next;nt.format(D,q),Y instanceof z&&Y.formatAt(0,S-X+N-J,D,q)}}}},{key:"insertAt",value:function(S,N,D){if(D==null){var q=this.descendant(p.default,S),Z=_(q,2),X=Z[0],J=Z[1];X.insertAt(J,N)}}},{key:"length",value:function(){var S=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?S:S+1}},{key:"newlineIndex",value:function(S){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(N)return this.domNode.textContent.slice(0,S).lastIndexOf(`
`);var D=this.domNode.textContent.slice(S).indexOf(`
`);return D>-1?S+D:-1}},{key:"optimize",value:function(S){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),T(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"optimize",this).call(this,S);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===N.statics.formats(N.domNode)&&(N.optimize(S),N.moveChildren(this),N.remove())}},{key:"replace",value:function(S){T(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"replace",this).call(this,S),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(N){var D=f.default.find(N);D==null?N.parentNode.removeChild(N):D instanceof f.default.Embed?D.remove():D.unwrap()})}}],[{key:"create",value:function(S){var N=T(z.__proto__||Object.getPrototypeOf(z),"create",this).call(this,S);return N.setAttribute("spellcheck",!1),N}},{key:"formats",value:function(){return!0}}]),z}(c.default);R.blotName="code-block",R.tagName="PRE",R.TAB="  ",i.Code=I,i.default=R},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},g=function(){function Y(F,C){var U=[],H=!0,V=!1,W=void 0;try{for(var B=F[Symbol.iterator](),G;!(H=(G=B.next()).done)&&(U.push(G.value),!(C&&U.length===C));H=!0);}catch(tt){V=!0,W=tt}finally{try{!H&&B.return&&B.return()}finally{if(V)throw W}}return U}return function(F,C){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return Y(F,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T=function(){function Y(F,C){for(var U=0;U<C.length;U++){var H=C[U];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(F,H.key,H)}}return function(F,C,U){return C&&Y(F.prototype,C),U&&Y(F,U),F}}(),x=s(2),O=N(x),y=s(20),f=N(y),u=s(0),c=N(u),b=s(13),d=N(b),v=s(24),p=N(v),m=s(4),E=N(m),h=s(16),P=N(h),I=s(21),R=N(I),M=s(11),z=N(M),k=s(3),S=N(k);function N(Y){return Y&&Y.__esModule?Y:{default:Y}}function D(Y,F,C){return F in Y?Object.defineProperty(Y,F,{value:C,enumerable:!0,configurable:!0,writable:!0}):Y[F]=C,Y}function q(Y,F){if(!(Y instanceof F))throw new TypeError("Cannot call a class as a function")}var Z=/^[ -~]*$/,X=function(){function Y(F){q(this,Y),this.scroll=F,this.delta=this.getDelta()}return T(Y,[{key:"applyDelta",value:function(C){var U=this,H=!1;this.scroll.update();var V=this.scroll.length();return this.scroll.batchStart(),C=nt(C),C.reduce(function(W,B){var G=B.retain||B.delete||B.insert.length||1,tt=B.attributes||{};if(B.insert!=null){if(typeof B.insert=="string"){var et=B.insert;et.endsWith(`
`)&&H&&(H=!1,et=et.slice(0,-1)),W>=V&&!et.endsWith(`
`)&&(H=!0),U.scroll.insertAt(W,et);var st=U.scroll.line(W),dt=g(st,2),_t=dt[0],bt=dt[1],Ot=(0,S.default)({},(0,m.bubbleFormats)(_t));if(_t instanceof E.default){var kt=_t.descendant(c.default.Leaf,bt),Ut=g(kt,1),jt=Ut[0];Ot=(0,S.default)(Ot,(0,m.bubbleFormats)(jt))}tt=f.default.attributes.diff(Ot,tt)||{}}else if(_(B.insert)==="object"){var ot=Object.keys(B.insert)[0];if(ot==null)return W;U.scroll.insertAt(W,ot,B.insert[ot])}V+=G}return Object.keys(tt).forEach(function(at){U.scroll.formatAt(W,G,at,tt[at])}),W+G},0),C.reduce(function(W,B){return typeof B.delete=="number"?(U.scroll.deleteAt(W,B.delete),W):W+(B.retain||B.insert.length||1)},0),this.scroll.batchEnd(),this.update(C)}},{key:"deleteText",value:function(C,U){return this.scroll.deleteAt(C,U),this.update(new O.default().retain(C).delete(U))}},{key:"formatLine",value:function(C,U){var H=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(V).forEach(function(W){if(!(H.scroll.whitelist!=null&&!H.scroll.whitelist[W])){var B=H.scroll.lines(C,Math.max(U,1)),G=U;B.forEach(function(tt){var et=tt.length();if(!(tt instanceof d.default))tt.format(W,V[W]);else{var st=C-tt.offset(H.scroll),dt=tt.newlineIndex(st+G)-st+1;tt.formatAt(st,dt,W,V[W])}G-=et})}}),this.scroll.optimize(),this.update(new O.default().retain(C).retain(U,(0,R.default)(V)))}},{key:"formatText",value:function(C,U){var H=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(V).forEach(function(W){H.scroll.formatAt(C,U,W,V[W])}),this.update(new O.default().retain(C).retain(U,(0,R.default)(V)))}},{key:"getContents",value:function(C,U){return this.delta.slice(C,C+U)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(C,U){return C.concat(U.delta())},new O.default)}},{key:"getFormat",value:function(C){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H=[],V=[];U===0?this.scroll.path(C).forEach(function(B){var G=g(B,1),tt=G[0];tt instanceof E.default?H.push(tt):tt instanceof c.default.Leaf&&V.push(tt)}):(H=this.scroll.lines(C,U),V=this.scroll.descendants(c.default.Leaf,C,U));var W=[H,V].map(function(B){if(B.length===0)return{};for(var G=(0,m.bubbleFormats)(B.shift());Object.keys(G).length>0;){var tt=B.shift();if(tt==null)return G;G=J((0,m.bubbleFormats)(tt),G)}return G});return S.default.apply(S.default,W)}},{key:"getText",value:function(C,U){return this.getContents(C,U).filter(function(H){return typeof H.insert=="string"}).map(function(H){return H.insert}).join("")}},{key:"insertEmbed",value:function(C,U,H){return this.scroll.insertAt(C,U,H),this.update(new O.default().retain(C).insert(D({},U,H)))}},{key:"insertText",value:function(C,U){var H=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return U=U.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(C,U),Object.keys(V).forEach(function(W){H.scroll.formatAt(C,U.length,W,V[W])}),this.update(new O.default().retain(C).insert(U,(0,R.default)(V)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var C=this.scroll.children.head;return C.statics.blotName!==E.default.blotName||C.children.length>1?!1:C.children.head instanceof P.default}},{key:"removeFormat",value:function(C,U){var H=this.getText(C,U),V=this.scroll.line(C+U),W=g(V,2),B=W[0],G=W[1],tt=0,et=new O.default;B!=null&&(B instanceof d.default?tt=B.newlineIndex(G)-G+1:tt=B.length()-G,et=B.delta().slice(G,G+tt-1).insert(`
`));var st=this.getContents(C,U+tt),dt=st.diff(new O.default().insert(H).concat(et)),_t=new O.default().retain(C).concat(dt);return this.applyDelta(_t)}},{key:"update",value:function(C){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,V=this.delta;if(U.length===1&&U[0].type==="characterData"&&U[0].target.data.match(Z)&&c.default.find(U[0].target)){var W=c.default.find(U[0].target),B=(0,m.bubbleFormats)(W),G=W.offset(this.scroll),tt=U[0].oldValue.replace(p.default.CONTENTS,""),et=new O.default().insert(tt),st=new O.default().insert(W.value()),dt=new O.default().retain(G).concat(et.diff(st,H));C=dt.reduce(function(_t,bt){return bt.insert?_t.insert(bt.insert,B):_t.push(bt)},new O.default),this.delta=V.compose(C)}else this.delta=this.getDelta(),(!C||!(0,z.default)(V.compose(C),this.delta))&&(C=V.diff(this.delta,H));return C}}]),Y}();function J(Y,F){return Object.keys(F).reduce(function(C,U){return Y[U]==null||(F[U]===Y[U]?C[U]=F[U]:Array.isArray(F[U])?F[U].indexOf(Y[U])<0&&(C[U]=F[U].concat([Y[U]])):C[U]=[F[U],Y[U]]),C},{})}function nt(Y){return Y.reduce(function(F,C){if(C.insert===1){var U=(0,R.default)(C.attributes);return delete U.image,F.insert({image:C.attributes.image},U)}if(C.attributes!=null&&(C.attributes.list===!0||C.attributes.bullet===!0)&&(C=(0,R.default)(C),C.attributes.list?C.attributes.list="ordered":(C.attributes.list="bullet",delete C.attributes.bullet)),typeof C.insert=="string"){var H=C.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return F.insert(H,C.attributes)}return F.push(C)},new O.default)}i.default=X},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Range=void 0;var _=function(){function M(z,k){var S=[],N=!0,D=!1,q=void 0;try{for(var Z=z[Symbol.iterator](),X;!(N=(X=Z.next()).done)&&(S.push(X.value),!(k&&S.length===k));N=!0);}catch(J){D=!0,q=J}finally{try{!N&&Z.return&&Z.return()}finally{if(D)throw q}}return S}return function(z,k){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return M(z,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function M(z,k){for(var S=0;S<k.length;S++){var N=k[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(z,N.key,N)}}return function(z,k,S){return k&&M(z.prototype,k),S&&M(z,S),z}}(),T=s(0),x=p(T),O=s(21),y=p(O),f=s(11),u=p(f),c=s(8),b=p(c),d=s(10),v=p(d);function p(M){return M&&M.__esModule?M:{default:M}}function m(M){if(Array.isArray(M)){for(var z=0,k=Array(M.length);z<M.length;z++)k[z]=M[z];return k}else return Array.from(M)}function E(M,z){if(!(M instanceof z))throw new TypeError("Cannot call a class as a function")}var h=(0,v.default)("quill:selection"),P=function M(z){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;E(this,M),this.index=z,this.length=k},I=function(){function M(z,k){var S=this;E(this,M),this.emitter=k,this.scroll=z,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=x.default.create("cursor",this),this.lastRange=this.savedRange=new P(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){S.mouseDown||setTimeout(S.update.bind(S,b.default.sources.USER),1)}),this.emitter.on(b.default.events.EDITOR_CHANGE,function(N,D){N===b.default.events.TEXT_CHANGE&&D.length()>0&&S.update(b.default.sources.SILENT)}),this.emitter.on(b.default.events.SCROLL_BEFORE_UPDATE,function(){if(S.hasFocus()){var N=S.getNativeRange();N!=null&&N.start.node!==S.cursor.textNode&&S.emitter.once(b.default.events.SCROLL_UPDATE,function(){try{S.setNativeRange(N.start.node,N.start.offset,N.end.node,N.end.offset)}catch{}})}}),this.emitter.on(b.default.events.SCROLL_OPTIMIZE,function(N,D){if(D.range){var q=D.range,Z=q.startNode,X=q.startOffset,J=q.endNode,nt=q.endOffset;S.setNativeRange(Z,X,J,nt)}}),this.update(b.default.sources.SILENT)}return g(M,[{key:"handleComposition",value:function(){var k=this;this.root.addEventListener("compositionstart",function(){k.composing=!0}),this.root.addEventListener("compositionend",function(){if(k.composing=!1,k.cursor.parent){var S=k.cursor.restore();if(!S)return;setTimeout(function(){k.setNativeRange(S.startNode,S.startOffset,S.endNode,S.endOffset)},1)}})}},{key:"handleDragging",value:function(){var k=this;this.emitter.listenDOM("mousedown",document.body,function(){k.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){k.mouseDown=!1,k.update(b.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(k,S){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[k])){this.scroll.update();var N=this.getNativeRange();if(!(N==null||!N.native.collapsed||x.default.query(k,x.default.Scope.BLOCK))){if(N.start.node!==this.cursor.textNode){var D=x.default.find(N.start.node,!1);if(D==null)return;if(D instanceof x.default.Leaf){var q=D.split(N.start.offset);D.parent.insertBefore(this.cursor,q)}else D.insertBefore(this.cursor,N.start.node);this.cursor.attach()}this.cursor.format(k,S),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(k){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=this.scroll.length();k=Math.min(k,N-1),S=Math.min(k+S,N-1)-k;var D=void 0,q=this.scroll.leaf(k),Z=_(q,2),X=Z[0],J=Z[1];if(X==null)return null;var nt=X.position(J,!0),Y=_(nt,2);D=Y[0],J=Y[1];var F=document.createRange();if(S>0){F.setStart(D,J);var C=this.scroll.leaf(k+S),U=_(C,2);if(X=U[0],J=U[1],X==null)return null;var H=X.position(J,!0),V=_(H,2);return D=V[0],J=V[1],F.setEnd(D,J),F.getBoundingClientRect()}else{var W="left",B=void 0;return D instanceof Text?(J<D.data.length?(F.setStart(D,J),F.setEnd(D,J+1)):(F.setStart(D,J-1),F.setEnd(D,J),W="right"),B=F.getBoundingClientRect()):(B=X.domNode.getBoundingClientRect(),J>0&&(W="right")),{bottom:B.top+B.height,height:B.height,left:B[W],right:B[W],top:B.top,width:0}}}},{key:"getNativeRange",value:function(){var k=document.getSelection();if(k==null||k.rangeCount<=0)return null;var S=k.getRangeAt(0);if(S==null)return null;var N=this.normalizeNative(S);return h.info("getNativeRange",N),N}},{key:"getRange",value:function(){var k=this.getNativeRange();if(k==null)return[null,null];var S=this.normalizedToRange(k);return[S,k]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(k){var S=this,N=[[k.start.node,k.start.offset]];k.native.collapsed||N.push([k.end.node,k.end.offset]);var D=N.map(function(X){var J=_(X,2),nt=J[0],Y=J[1],F=x.default.find(nt,!0),C=F.offset(S.scroll);return Y===0?C:F instanceof x.default.Container?C+F.length():C+F.index(nt,Y)}),q=Math.min(Math.max.apply(Math,m(D)),this.scroll.length()-1),Z=Math.min.apply(Math,[q].concat(m(D)));return new P(Z,q-Z)}},{key:"normalizeNative",value:function(k){if(!R(this.root,k.startContainer)||!k.collapsed&&!R(this.root,k.endContainer))return null;var S={start:{node:k.startContainer,offset:k.startOffset},end:{node:k.endContainer,offset:k.endOffset},native:k};return[S.start,S.end].forEach(function(N){for(var D=N.node,q=N.offset;!(D instanceof Text)&&D.childNodes.length>0;)if(D.childNodes.length>q)D=D.childNodes[q],q=0;else if(D.childNodes.length===q)D=D.lastChild,q=D instanceof Text?D.data.length:D.childNodes.length+1;else break;N.node=D,N.offset=q}),S}},{key:"rangeToNative",value:function(k){var S=this,N=k.collapsed?[k.index]:[k.index,k.index+k.length],D=[],q=this.scroll.length();return N.forEach(function(Z,X){Z=Math.min(q-1,Z);var J=void 0,nt=S.scroll.leaf(Z),Y=_(nt,2),F=Y[0],C=Y[1],U=F.position(C,X!==0),H=_(U,2);J=H[0],C=H[1],D.push(J,C)}),D.length<2&&(D=D.concat(D)),D}},{key:"scrollIntoView",value:function(k){var S=this.lastRange;if(S!=null){var N=this.getBounds(S.index,S.length);if(N!=null){var D=this.scroll.length()-1,q=this.scroll.line(Math.min(S.index,D)),Z=_(q,1),X=Z[0],J=X;if(S.length>0){var nt=this.scroll.line(Math.min(S.index+S.length,D)),Y=_(nt,1);J=Y[0]}if(!(X==null||J==null)){var F=k.getBoundingClientRect();N.top<F.top?k.scrollTop-=F.top-N.top:N.bottom>F.bottom&&(k.scrollTop+=N.bottom-F.bottom)}}}}},{key:"setNativeRange",value:function(k,S){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k,D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S,q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(h.info("setNativeRange",k,S,N,D),!(k!=null&&(this.root.parentNode==null||k.parentNode==null||N.parentNode==null))){var Z=document.getSelection();if(Z!=null)if(k!=null){this.hasFocus()||this.root.focus();var X=(this.getNativeRange()||{}).native;if(X==null||q||k!==X.startContainer||S!==X.startOffset||N!==X.endContainer||D!==X.endOffset){k.tagName=="BR"&&(S=[].indexOf.call(k.parentNode.childNodes,k),k=k.parentNode),N.tagName=="BR"&&(D=[].indexOf.call(N.parentNode.childNodes,N),N=N.parentNode);var J=document.createRange();J.setStart(k,S),J.setEnd(N,D),Z.removeAllRanges(),Z.addRange(J)}}else Z.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(k){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.default.sources.API;if(typeof S=="string"&&(N=S,S=!1),h.info("setRange",k),k!=null){var D=this.rangeToNative(k);this.setNativeRange.apply(this,m(D).concat([S]))}else this.setNativeRange(null);this.update(N)}},{key:"update",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b.default.sources.USER,S=this.lastRange,N=this.getRange(),D=_(N,2),q=D[0],Z=D[1];if(this.lastRange=q,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,u.default)(S,this.lastRange)){var X;!this.composing&&Z!=null&&Z.native.collapsed&&Z.start.node!==this.cursor.textNode&&this.cursor.restore();var J=[b.default.events.SELECTION_CHANGE,(0,y.default)(this.lastRange),(0,y.default)(S),k];if((X=this.emitter).emit.apply(X,[b.default.events.EDITOR_CHANGE].concat(J)),k!==b.default.sources.SILENT){var nt;(nt=this.emitter).emit.apply(nt,J)}}}}]),M}();function R(M,z){try{z.parentNode}catch{return!1}return z instanceof Text&&(z=z.parentNode),M.contains(z)}i.Range=P,i.default=I},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=function(){function b(d,v){for(var p=0;p<v.length;p++){var m=v[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,v,p){return v&&b(d.prototype,v),p&&b(d,p),d}}(),g=function b(d,v,p){d===null&&(d=Function.prototype);var m=Object.getOwnPropertyDescriptor(d,v);if(m===void 0){var E=Object.getPrototypeOf(d);return E===null?void 0:b(E,v,p)}else{if("value"in m)return m.value;var h=m.get;return h===void 0?void 0:h.call(p)}},T=s(0),x=O(T);function O(b){return b&&b.__esModule?b:{default:b}}function y(b,d){if(!(b instanceof d))throw new TypeError("Cannot call a class as a function")}function f(b,d){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:b}function u(b,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}var c=function(b){u(d,b);function d(){return y(this,d),f(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return _(d,[{key:"insertInto",value:function(p,m){p.children.length===0?g(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insertInto",this).call(this,p,m):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),d}(x.default.Embed);c.blotName="break",c.tagName="BR",i.default=c},function(o,i,s){var _=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var b in c)c.hasOwnProperty(b)&&(u[b]=c[b])};return function(u,c){f(u,c);function b(){this.constructor=u}u.prototype=c===null?Object.create(c):(b.prototype=c.prototype,new b)}}();Object.defineProperty(i,"__esModule",{value:!0});var g=s(44),T=s(30),x=s(1),O=function(f){_(u,f);function u(c){var b=f.call(this,c)||this;return b.build(),b}return u.prototype.appendChild=function(c){this.insertBefore(c)},u.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(c){c.attach()})},u.prototype.build=function(){var c=this;this.children=new g.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(b){try{var d=y(b);c.insertBefore(d,c.children.head||void 0)}catch(v){if(v instanceof x.ParchmentError)return;throw v}})},u.prototype.deleteAt=function(c,b){if(c===0&&b===this.length())return this.remove();this.children.forEachAt(c,b,function(d,v,p){d.deleteAt(v,p)})},u.prototype.descendant=function(c,b){var d=this.children.find(b),v=d[0],p=d[1];return c.blotName==null&&c(v)||c.blotName!=null&&v instanceof c?[v,p]:v instanceof u?v.descendant(c,p):[null,-1]},u.prototype.descendants=function(c,b,d){b===void 0&&(b=0),d===void 0&&(d=Number.MAX_VALUE);var v=[],p=d;return this.children.forEachAt(b,d,function(m,E,h){(c.blotName==null&&c(m)||c.blotName!=null&&m instanceof c)&&v.push(m),m instanceof u&&(v=v.concat(m.descendants(c,E,p))),p-=h}),v},u.prototype.detach=function(){this.children.forEach(function(c){c.detach()}),f.prototype.detach.call(this)},u.prototype.formatAt=function(c,b,d,v){this.children.forEachAt(c,b,function(p,m,E){p.formatAt(m,E,d,v)})},u.prototype.insertAt=function(c,b,d){var v=this.children.find(c),p=v[0],m=v[1];if(p)p.insertAt(m,b,d);else{var E=d==null?x.create("text",b):x.create(b,d);this.appendChild(E)}},u.prototype.insertBefore=function(c,b){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(d){return c instanceof d}))throw new x.ParchmentError("Cannot insert "+c.statics.blotName+" into "+this.statics.blotName);c.insertInto(this,b)},u.prototype.length=function(){return this.children.reduce(function(c,b){return c+b.length()},0)},u.prototype.moveChildren=function(c,b){this.children.forEach(function(d){c.insertBefore(d,b)})},u.prototype.optimize=function(c){if(f.prototype.optimize.call(this,c),this.children.length===0)if(this.statics.defaultChild!=null){var b=x.create(this.statics.defaultChild);this.appendChild(b),b.optimize(c)}else this.remove()},u.prototype.path=function(c,b){b===void 0&&(b=!1);var d=this.children.find(c,b),v=d[0],p=d[1],m=[[this,c]];return v instanceof u?m.concat(v.path(p,b)):(v!=null&&m.push([v,p]),m)},u.prototype.removeChild=function(c){this.children.remove(c)},u.prototype.replace=function(c){c instanceof u&&c.moveChildren(this),f.prototype.replace.call(this,c)},u.prototype.split=function(c,b){if(b===void 0&&(b=!1),!b){if(c===0)return this;if(c===this.length())return this.next}var d=this.clone();return this.parent.insertBefore(d,this.next),this.children.forEachAt(c,this.length(),function(v,p,m){v=v.split(p,b),d.appendChild(v)}),d},u.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},u.prototype.update=function(c,b){var d=this,v=[],p=[];c.forEach(function(m){m.target===d.domNode&&m.type==="childList"&&(v.push.apply(v,m.addedNodes),p.push.apply(p,m.removedNodes))}),p.forEach(function(m){if(!(m.parentNode!=null&&m.tagName!=="IFRAME"&&document.body.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var E=x.find(m);E!=null&&(E.domNode.parentNode==null||E.domNode.parentNode===d.domNode)&&E.detach()}}),v.filter(function(m){return m.parentNode==d.domNode}).sort(function(m,E){return m===E?0:m.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(m){var E=null;m.nextSibling!=null&&(E=x.find(m.nextSibling));var h=y(m);(h.next!=E||h.next==null)&&(h.parent!=null&&h.parent.removeChild(d),d.insertBefore(h,E||void 0))})},u}(T.default);function y(f){var u=x.find(f);if(u==null)try{u=x.create(f)}catch{u=x.create(x.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(b){u.domNode.appendChild(b)}),f.parentNode&&f.parentNode.replaceChild(u.domNode,f),u.attach()}return u}i.default=O},function(o,i,s){var _=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var b in c)c.hasOwnProperty(b)&&(u[b]=c[b])};return function(u,c){f(u,c);function b(){this.constructor=u}u.prototype=c===null?Object.create(c):(b.prototype=c.prototype,new b)}}();Object.defineProperty(i,"__esModule",{value:!0});var g=s(12),T=s(31),x=s(17),O=s(1),y=function(f){_(u,f);function u(c){var b=f.call(this,c)||this;return b.attributes=new T.default(b.domNode),b}return u.formats=function(c){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return c.tagName.toLowerCase()},u.prototype.format=function(c,b){var d=O.query(c);d instanceof g.default?this.attributes.attribute(d,b):b&&d!=null&&(c!==this.statics.blotName||this.formats()[c]!==b)&&this.replaceWith(c,b)},u.prototype.formats=function(){var c=this.attributes.values(),b=this.statics.formats(this.domNode);return b!=null&&(c[this.statics.blotName]=b),c},u.prototype.replaceWith=function(c,b){var d=f.prototype.replaceWith.call(this,c,b);return this.attributes.copy(d),d},u.prototype.update=function(c,b){var d=this;f.prototype.update.call(this,c,b),c.some(function(v){return v.target===d.domNode&&v.type==="attributes"})&&this.attributes.build()},u.prototype.wrap=function(c,b){var d=f.prototype.wrap.call(this,c,b);return d instanceof u&&d.statics.scope===this.statics.scope&&this.attributes.move(d),d},u}(x.default);i.default=y},function(o,i,s){var _=this&&this.__extends||function(){var O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,f){y.__proto__=f}||function(y,f){for(var u in f)f.hasOwnProperty(u)&&(y[u]=f[u])};return function(y,f){O(y,f);function u(){this.constructor=y}y.prototype=f===null?Object.create(f):(u.prototype=f.prototype,new u)}}();Object.defineProperty(i,"__esModule",{value:!0});var g=s(30),T=s(1),x=function(O){_(y,O);function y(){return O!==null&&O.apply(this,arguments)||this}return y.value=function(f){return!0},y.prototype.index=function(f,u){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(u,1):-1},y.prototype.position=function(f,u){var c=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(c+=1),[this.parent.domNode,c]},y.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},y.scope=T.Scope.INLINE_BLOT,y}(g.default);i.default=x},function(o,i,s){var _=s(11),g=s(3),T={attributes:{compose:function(O,y,f){typeof O!="object"&&(O={}),typeof y!="object"&&(y={});var u=g(!0,{},y);f||(u=Object.keys(u).reduce(function(b,d){return u[d]!=null&&(b[d]=u[d]),b},{}));for(var c in O)O[c]!==void 0&&y[c]===void 0&&(u[c]=O[c]);return Object.keys(u).length>0?u:void 0},diff:function(O,y){typeof O!="object"&&(O={}),typeof y!="object"&&(y={});var f=Object.keys(O).concat(Object.keys(y)).reduce(function(u,c){return _(O[c],y[c])||(u[c]=y[c]===void 0?null:y[c]),u},{});return Object.keys(f).length>0?f:void 0},transform:function(O,y,f){if(typeof O!="object")return y;if(typeof y=="object"){if(!f)return y;var u=Object.keys(y).reduce(function(c,b){return O[b]===void 0&&(c[b]=y[b]),c},{});return Object.keys(u).length>0?u:void 0}}},iterator:function(O){return new x(O)},length:function(O){return typeof O.delete=="number"?O.delete:typeof O.retain=="number"?O.retain:typeof O.insert=="string"?O.insert.length:1}};function x(O){this.ops=O,this.index=0,this.offset=0}x.prototype.hasNext=function(){return this.peekLength()<1/0},x.prototype.next=function(O){O||(O=1/0);var y=this.ops[this.index];if(y){var f=this.offset,u=T.length(y);if(O>=u-f?(O=u-f,this.index+=1,this.offset=0):this.offset+=O,typeof y.delete=="number")return{delete:O};var c={};return y.attributes&&(c.attributes=y.attributes),typeof y.retain=="number"?c.retain=O:typeof y.insert=="string"?c.insert=y.insert.substr(f,O):c.insert=y.insert,c}else return{retain:1/0}},x.prototype.peek=function(){return this.ops[this.index]},x.prototype.peekLength=function(){return this.ops[this.index]?T.length(this.ops[this.index])-this.offset:1/0},x.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},x.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var O=this.offset,y=this.index,f=this.next(),u=this.ops.slice(this.index);return this.offset=O,this.index=y,[f].concat(u)}else return[]},o.exports=T},function(o,i){var s=function(){function _(d,v){return v!=null&&d instanceof v}var g;try{g=Map}catch{g=function(){}}var T;try{T=Set}catch{T=function(){}}var x;try{x=Promise}catch{x=function(){}}function O(d,v,p,m,E){typeof v=="object"&&(p=v.depth,m=v.prototype,E=v.includeNonEnumerable,v=v.circular);var h=[],P=[],I=typeof Buffer<"u";typeof v>"u"&&(v=!0),typeof p>"u"&&(p=1/0);function R(M,z){if(M===null)return null;if(z===0)return M;var k,S;if(typeof M!="object")return M;if(_(M,g))k=new g;else if(_(M,T))k=new T;else if(_(M,x))k=new x(function(F,C){M.then(function(U){F(R(U,z-1))},function(U){C(R(U,z-1))})});else if(O.__isArray(M))k=[];else if(O.__isRegExp(M))k=new RegExp(M.source,b(M)),M.lastIndex&&(k.lastIndex=M.lastIndex);else if(O.__isDate(M))k=new Date(M.getTime());else{if(I&&Buffer.isBuffer(M))return Buffer.allocUnsafe?k=Buffer.allocUnsafe(M.length):k=new Buffer(M.length),M.copy(k),k;_(M,Error)?k=Object.create(M):typeof m>"u"?(S=Object.getPrototypeOf(M),k=Object.create(S)):(k=Object.create(m),S=m)}if(v){var N=h.indexOf(M);if(N!=-1)return P[N];h.push(M),P.push(k)}_(M,g)&&M.forEach(function(F,C){var U=R(C,z-1),H=R(F,z-1);k.set(U,H)}),_(M,T)&&M.forEach(function(F){var C=R(F,z-1);k.add(C)});for(var D in M){var q;S&&(q=Object.getOwnPropertyDescriptor(S,D)),!(q&&q.set==null)&&(k[D]=R(M[D],z-1))}if(Object.getOwnPropertySymbols)for(var Z=Object.getOwnPropertySymbols(M),D=0;D<Z.length;D++){var X=Z[D],J=Object.getOwnPropertyDescriptor(M,X);J&&!J.enumerable&&!E||(k[X]=R(M[X],z-1),J.enumerable||Object.defineProperty(k,X,{enumerable:!1}))}if(E)for(var nt=Object.getOwnPropertyNames(M),D=0;D<nt.length;D++){var Y=nt[D],J=Object.getOwnPropertyDescriptor(M,Y);J&&J.enumerable||(k[Y]=R(M[Y],z-1),Object.defineProperty(k,Y,{enumerable:!1}))}return k}return R(d,p)}O.clonePrototype=function(v){if(v===null)return null;var p=function(){};return p.prototype=v,new p};function y(d){return Object.prototype.toString.call(d)}O.__objToStr=y;function f(d){return typeof d=="object"&&y(d)==="[object Date]"}O.__isDate=f;function u(d){return typeof d=="object"&&y(d)==="[object Array]"}O.__isArray=u;function c(d){return typeof d=="object"&&y(d)==="[object RegExp]"}O.__isRegExp=c;function b(d){var v="";return d.global&&(v+="g"),d.ignoreCase&&(v+="i"),d.multiline&&(v+="m"),v}return O.__getRegExpFlags=b,O}();typeof o=="object"&&o.exports&&(o.exports=s)},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=function(){function k(S,N){var D=[],q=!0,Z=!1,X=void 0;try{for(var J=S[Symbol.iterator](),nt;!(q=(nt=J.next()).done)&&(D.push(nt.value),!(N&&D.length===N));q=!0);}catch(Y){Z=!0,X=Y}finally{try{!q&&J.return&&J.return()}finally{if(Z)throw X}}return D}return function(S,N){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return k(S,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function k(S,N){for(var D=0;D<N.length;D++){var q=N[D];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(S,q.key,q)}}return function(S,N,D){return N&&k(S.prototype,N),D&&k(S,D),S}}(),T=function k(S,N,D){S===null&&(S=Function.prototype);var q=Object.getOwnPropertyDescriptor(S,N);if(q===void 0){var Z=Object.getPrototypeOf(S);return Z===null?void 0:k(Z,N,D)}else{if("value"in q)return q.value;var X=q.get;return X===void 0?void 0:X.call(D)}},x=s(0),O=h(x),y=s(8),f=h(y),u=s(4),c=h(u),b=s(16),d=h(b),v=s(13),p=h(v),m=s(25),E=h(m);function h(k){return k&&k.__esModule?k:{default:k}}function P(k,S){if(!(k instanceof S))throw new TypeError("Cannot call a class as a function")}function I(k,S){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:k}function R(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(k,S):k.__proto__=S)}function M(k){return k instanceof c.default||k instanceof u.BlockEmbed}var z=function(k){R(S,k);function S(N,D){P(this,S);var q=I(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,N));return q.emitter=D.emitter,Array.isArray(D.whitelist)&&(q.whitelist=D.whitelist.reduce(function(Z,X){return Z[X]=!0,Z},{})),q.domNode.addEventListener("DOMNodeInserted",function(){}),q.optimize(),q.enable(),q}return g(S,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(D,q){var Z=this.line(D),X=_(Z,2),J=X[0],nt=X[1],Y=this.line(D+q),F=_(Y,1),C=F[0];if(T(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"deleteAt",this).call(this,D,q),C!=null&&J!==C&&nt>0){if(J instanceof u.BlockEmbed||C instanceof u.BlockEmbed){this.optimize();return}if(J instanceof p.default){var U=J.newlineIndex(J.length(),!0);if(U>-1&&(J=J.split(U+1),J===C)){this.optimize();return}}else if(C instanceof p.default){var H=C.newlineIndex(0);H>-1&&C.split(H+1)}var V=C.children.head instanceof d.default?null:C.children.head;J.moveChildren(C,V),J.remove()}this.optimize()}},{key:"enable",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",D)}},{key:"formatAt",value:function(D,q,Z,X){this.whitelist!=null&&!this.whitelist[Z]||(T(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,D,q,Z,X),this.optimize())}},{key:"insertAt",value:function(D,q,Z){if(!(Z!=null&&this.whitelist!=null&&!this.whitelist[q])){if(D>=this.length())if(Z==null||O.default.query(q,O.default.Scope.BLOCK)==null){var X=O.default.create(this.statics.defaultChild);this.appendChild(X),Z==null&&q.endsWith(`
`)&&(q=q.slice(0,-1)),X.insertAt(0,q,Z)}else{var J=O.default.create(q,Z);this.appendChild(J)}else T(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,D,q,Z);this.optimize()}}},{key:"insertBefore",value:function(D,q){if(D.statics.scope===O.default.Scope.INLINE_BLOT){var Z=O.default.create(this.statics.defaultChild);Z.appendChild(D),D=Z}T(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,D,q)}},{key:"leaf",value:function(D){return this.path(D).pop()||[null,-1]}},{key:"line",value:function(D){return D===this.length()?this.line(D-1):this.descendant(M,D)}},{key:"lines",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,Z=function X(J,nt,Y){var F=[],C=Y;return J.children.forEachAt(nt,Y,function(U,H,V){M(U)?F.push(U):U instanceof O.default.Container&&(F=F.concat(X(U,H,C))),C-=V}),F};return Z(this,D,q)}},{key:"optimize",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(T(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,D,q),D.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,D,q))}},{key:"path",value:function(D){return T(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"path",this).call(this,D).slice(1)}},{key:"update",value:function(D){if(this.batch!==!0){var q=f.default.sources.USER;typeof D=="string"&&(q=D),Array.isArray(D)||(D=this.observer.takeRecords()),D.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,q,D),T(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"update",this).call(this,D.concat([])),D.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,q,D)}}}]),S}(O.default.Scroll);z.blotName="scroll",z.className="ql-editor",z.tagName="DIV",z.defaultChild="block",z.allowedChildren=[c.default,u.BlockEmbed,E.default],i.default=z},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.SHORTKEY=i.default=void 0;var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},g=function(){function B(G,tt){var et=[],st=!0,dt=!1,_t=void 0;try{for(var bt=G[Symbol.iterator](),Ot;!(st=(Ot=bt.next()).done)&&(et.push(Ot.value),!(tt&&et.length===tt));st=!0);}catch(kt){dt=!0,_t=kt}finally{try{!st&&bt.return&&bt.return()}finally{if(dt)throw _t}}return et}return function(G,tt){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return B(G,tt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T=function(){function B(G,tt){for(var et=0;et<tt.length;et++){var st=tt[et];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(G,st.key,st)}}return function(G,tt,et){return tt&&B(G.prototype,tt),et&&B(G,et),G}}(),x=s(21),O=k(x),y=s(11),f=k(y),u=s(3),c=k(u),b=s(2),d=k(b),v=s(20),p=k(v),m=s(0),E=k(m),h=s(5),P=k(h),I=s(10),R=k(I),M=s(9),z=k(M);function k(B){return B&&B.__esModule?B:{default:B}}function S(B,G,tt){return G in B?Object.defineProperty(B,G,{value:tt,enumerable:!0,configurable:!0,writable:!0}):B[G]=tt,B}function N(B,G){if(!(B instanceof G))throw new TypeError("Cannot call a class as a function")}function D(B,G){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:B}function q(B,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);B.prototype=Object.create(G&&G.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(B,G):B.__proto__=G)}var Z=(0,R.default)("quill:keyboard"),X=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",J=function(B){q(G,B),T(G,null,[{key:"match",value:function(et,st){return st=W(st),["altKey","ctrlKey","metaKey","shiftKey"].some(function(dt){return!!st[dt]!==et[dt]&&st[dt]!==null})?!1:st.key===(et.which||et.keyCode)}}]);function G(tt,et){N(this,G);var st=D(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,tt,et));return st.bindings={},Object.keys(st.options.bindings).forEach(function(dt){dt==="list autofill"&&tt.scroll.whitelist!=null&&!tt.scroll.whitelist.list||st.options.bindings[dt]&&st.addBinding(st.options.bindings[dt])}),st.addBinding({key:G.keys.ENTER,shiftKey:null},U),st.addBinding({key:G.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(st.addBinding({key:G.keys.BACKSPACE},{collapsed:!0},Y),st.addBinding({key:G.keys.DELETE},{collapsed:!0},F)):(st.addBinding({key:G.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Y),st.addBinding({key:G.keys.DELETE},{collapsed:!0,suffix:/^.?$/},F)),st.addBinding({key:G.keys.BACKSPACE},{collapsed:!1},C),st.addBinding({key:G.keys.DELETE},{collapsed:!1},C),st.addBinding({key:G.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Y),st.listen(),st}return T(G,[{key:"addBinding",value:function(et){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},dt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_t=W(et);if(_t==null||_t.key==null)return Z.warn("Attempted to add invalid keyboard binding",_t);typeof st=="function"&&(st={handler:st}),typeof dt=="function"&&(dt={handler:dt}),_t=(0,c.default)(_t,st,dt),this.bindings[_t.key]=this.bindings[_t.key]||[],this.bindings[_t.key].push(_t)}},{key:"listen",value:function(){var et=this;this.quill.root.addEventListener("keydown",function(st){if(!st.defaultPrevented){var dt=st.which||st.keyCode,_t=(et.bindings[dt]||[]).filter(function(It){return G.match(st,It)});if(_t.length!==0){var bt=et.quill.getSelection();if(!(bt==null||!et.quill.hasFocus())){var Ot=et.quill.getLine(bt.index),kt=g(Ot,2),Ut=kt[0],jt=kt[1],ot=et.quill.getLeaf(bt.index),at=g(ot,2),ft=at[0],ht=at[1],ut=bt.length===0?[ft,ht]:et.quill.getLeaf(bt.index+bt.length),Tt=g(ut,2),wt=Tt[0],Et=Tt[1],qt=ft instanceof E.default.Text?ft.value().slice(0,ht):"",te=wt instanceof E.default.Text?wt.value().slice(Et):"",Mt={collapsed:bt.length===0,empty:bt.length===0&&Ut.length()<=1,format:et.quill.getFormat(bt),offset:jt,prefix:qt,suffix:te},on=_t.some(function(It){if(It.collapsed!=null&&It.collapsed!==Mt.collapsed||It.empty!=null&&It.empty!==Mt.empty||It.offset!=null&&It.offset!==Mt.offset)return!1;if(Array.isArray(It.format)){if(It.format.every(function(oe){return Mt.format[oe]==null}))return!1}else if(_(It.format)==="object"&&!Object.keys(It.format).every(function(oe){return It.format[oe]===!0?Mt.format[oe]!=null:It.format[oe]===!1?Mt.format[oe]==null:(0,f.default)(It.format[oe],Mt.format[oe])}))return!1;return It.prefix!=null&&!It.prefix.test(Mt.prefix)||It.suffix!=null&&!It.suffix.test(Mt.suffix)?!1:It.handler.call(et,bt,Mt)!==!0});on&&st.preventDefault()}}}})}}]),G}(z.default);J.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},J.DEFAULTS={bindings:{bold:V("bold"),italic:V("italic"),underline:V("underline"),indent:{key:J.keys.TAB,format:["blockquote","indent","list"],handler:function(G,tt){if(tt.collapsed&&tt.offset!==0)return!0;this.quill.format("indent","+1",P.default.sources.USER)}},outdent:{key:J.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(G,tt){if(tt.collapsed&&tt.offset!==0)return!0;this.quill.format("indent","-1",P.default.sources.USER)}},"outdent backspace":{key:J.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(G,tt){tt.format.indent!=null?this.quill.format("indent","-1",P.default.sources.USER):tt.format.list!=null&&this.quill.format("list",!1,P.default.sources.USER)}},"indent code-block":H(!0),"outdent code-block":H(!1),"remove tab":{key:J.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(G){this.quill.deleteText(G.index-1,1,P.default.sources.USER)}},tab:{key:J.keys.TAB,handler:function(G){this.quill.history.cutoff();var tt=new d.default().retain(G.index).delete(G.length).insert("	");this.quill.updateContents(tt,P.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index+1,P.default.sources.SILENT)}},"list empty enter":{key:J.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(G,tt){this.quill.format("list",!1,P.default.sources.USER),tt.format.indent&&this.quill.format("indent",!1,P.default.sources.USER)}},"checklist enter":{key:J.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(G){var tt=this.quill.getLine(G.index),et=g(tt,2),st=et[0],dt=et[1],_t=(0,c.default)({},st.formats(),{list:"checked"}),bt=new d.default().retain(G.index).insert(`
`,_t).retain(st.length()-dt-1).retain(1,{list:"unchecked"});this.quill.updateContents(bt,P.default.sources.USER),this.quill.setSelection(G.index+1,P.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:J.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(G,tt){var et=this.quill.getLine(G.index),st=g(et,2),dt=st[0],_t=st[1],bt=new d.default().retain(G.index).insert(`
`,tt.format).retain(dt.length()-_t-1).retain(1,{header:null});this.quill.updateContents(bt,P.default.sources.USER),this.quill.setSelection(G.index+1,P.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(G,tt){var et=tt.prefix.length,st=this.quill.getLine(G.index),dt=g(st,2),_t=dt[0],bt=dt[1];if(bt>et)return!0;var Ot=void 0;switch(tt.prefix.trim()){case"[]":case"[ ]":Ot="unchecked";break;case"[x]":Ot="checked";break;case"-":case"*":Ot="bullet";break;default:Ot="ordered"}this.quill.insertText(G.index," ",P.default.sources.USER),this.quill.history.cutoff();var kt=new d.default().retain(G.index-bt).delete(et+1).retain(_t.length()-2-bt).retain(1,{list:Ot});this.quill.updateContents(kt,P.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index-et,P.default.sources.SILENT)}},"code exit":{key:J.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(G){var tt=this.quill.getLine(G.index),et=g(tt,2),st=et[0],dt=et[1],_t=new d.default().retain(G.index+st.length()-dt-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(_t,P.default.sources.USER)}},"embed left":nt(J.keys.LEFT,!1),"embed left shift":nt(J.keys.LEFT,!0),"embed right":nt(J.keys.RIGHT,!1),"embed right shift":nt(J.keys.RIGHT,!0)}};function nt(B,G){var tt,et=B===J.keys.LEFT?"prefix":"suffix";return tt={key:B,shiftKey:G,altKey:null},S(tt,et,/^$/),S(tt,"handler",function(dt){var _t=dt.index;B===J.keys.RIGHT&&(_t+=dt.length+1);var bt=this.quill.getLeaf(_t),Ot=g(bt,1),kt=Ot[0];return kt instanceof E.default.Embed?(B===J.keys.LEFT?G?this.quill.setSelection(dt.index-1,dt.length+1,P.default.sources.USER):this.quill.setSelection(dt.index-1,P.default.sources.USER):G?this.quill.setSelection(dt.index,dt.length+1,P.default.sources.USER):this.quill.setSelection(dt.index+dt.length+1,P.default.sources.USER),!1):!0}),tt}function Y(B,G){if(!(B.index===0||this.quill.getLength()<=1)){var tt=this.quill.getLine(B.index),et=g(tt,1),st=et[0],dt={};if(G.offset===0){var _t=this.quill.getLine(B.index-1),bt=g(_t,1),Ot=bt[0];if(Ot!=null&&Ot.length()>1){var kt=st.formats(),Ut=this.quill.getFormat(B.index-1,1);dt=p.default.attributes.diff(kt,Ut)||{}}}var jt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(G.prefix)?2:1;this.quill.deleteText(B.index-jt,jt,P.default.sources.USER),Object.keys(dt).length>0&&this.quill.formatLine(B.index-jt,jt,dt,P.default.sources.USER),this.quill.focus()}}function F(B,G){var tt=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(G.suffix)?2:1;if(!(B.index>=this.quill.getLength()-tt)){var et={},st=0,dt=this.quill.getLine(B.index),_t=g(dt,1),bt=_t[0];if(G.offset>=bt.length()-1){var Ot=this.quill.getLine(B.index+1),kt=g(Ot,1),Ut=kt[0];if(Ut){var jt=bt.formats(),ot=this.quill.getFormat(B.index,1);et=p.default.attributes.diff(jt,ot)||{},st=Ut.length()}}this.quill.deleteText(B.index,tt,P.default.sources.USER),Object.keys(et).length>0&&this.quill.formatLine(B.index+st-1,tt,et,P.default.sources.USER)}}function C(B){var G=this.quill.getLines(B),tt={};if(G.length>1){var et=G[0].formats(),st=G[G.length-1].formats();tt=p.default.attributes.diff(st,et)||{}}this.quill.deleteText(B,P.default.sources.USER),Object.keys(tt).length>0&&this.quill.formatLine(B.index,1,tt,P.default.sources.USER),this.quill.setSelection(B.index,P.default.sources.SILENT),this.quill.focus()}function U(B,G){var tt=this;B.length>0&&this.quill.scroll.deleteAt(B.index,B.length);var et=Object.keys(G.format).reduce(function(st,dt){return E.default.query(dt,E.default.Scope.BLOCK)&&!Array.isArray(G.format[dt])&&(st[dt]=G.format[dt]),st},{});this.quill.insertText(B.index,`
`,et,P.default.sources.USER),this.quill.setSelection(B.index+1,P.default.sources.SILENT),this.quill.focus(),Object.keys(G.format).forEach(function(st){et[st]==null&&(Array.isArray(G.format[st])||st!=="link"&&tt.quill.format(st,G.format[st],P.default.sources.USER))})}function H(B){return{key:J.keys.TAB,shiftKey:!B,format:{"code-block":!0},handler:function(tt){var et=E.default.query("code-block"),st=tt.index,dt=tt.length,_t=this.quill.scroll.descendant(et,st),bt=g(_t,2),Ot=bt[0],kt=bt[1];if(Ot!=null){var Ut=this.quill.getIndex(Ot),jt=Ot.newlineIndex(kt,!0)+1,ot=Ot.newlineIndex(Ut+kt+dt),at=Ot.domNode.textContent.slice(jt,ot).split(`
`);kt=0,at.forEach(function(ft,ht){B?(Ot.insertAt(jt+kt,et.TAB),kt+=et.TAB.length,ht===0?st+=et.TAB.length:dt+=et.TAB.length):ft.startsWith(et.TAB)&&(Ot.deleteAt(jt+kt,et.TAB.length),kt-=et.TAB.length,ht===0?st-=et.TAB.length:dt-=et.TAB.length),kt+=ft.length+1}),this.quill.update(P.default.sources.USER),this.quill.setSelection(st,dt,P.default.sources.SILENT)}}}}function V(B){return{key:B[0].toUpperCase(),shortKey:!0,handler:function(tt,et){this.quill.format(B,!et.format[B],P.default.sources.USER)}}}function W(B){if(typeof B=="string"||typeof B=="number")return W({key:B});if((typeof B>"u"?"undefined":_(B))==="object"&&(B=(0,O.default)(B,!1)),typeof B.key=="string")if(J.keys[B.key.toUpperCase()]!=null)B.key=J.keys[B.key.toUpperCase()];else if(B.key.length===1)B.key=B.key.toUpperCase().charCodeAt(0);else return null;return B.shortKey&&(B[X]=B.shortKey,delete B.shortKey),B}i.default=J,i.SHORTKEY=X},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=function(){function p(m,E){var h=[],P=!0,I=!1,R=void 0;try{for(var M=m[Symbol.iterator](),z;!(P=(z=M.next()).done)&&(h.push(z.value),!(E&&h.length===E));P=!0);}catch(k){I=!0,R=k}finally{try{!P&&M.return&&M.return()}finally{if(I)throw R}}return h}return function(m,E){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return p(m,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function p(m,E,h){m===null&&(m=Function.prototype);var P=Object.getOwnPropertyDescriptor(m,E);if(P===void 0){var I=Object.getPrototypeOf(m);return I===null?void 0:p(I,E,h)}else{if("value"in P)return P.value;var R=P.get;return R===void 0?void 0:R.call(h)}},T=function(){function p(m,E){for(var h=0;h<E.length;h++){var P=E[h];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(m,P.key,P)}}return function(m,E,h){return E&&p(m.prototype,E),h&&p(m,h),m}}(),x=s(0),O=u(x),y=s(7),f=u(y);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function b(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var v=function(p){d(m,p),T(m,null,[{key:"value",value:function(){}}]);function m(E,h){c(this,m);var P=b(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,E));return P.selection=h,P.textNode=document.createTextNode(m.CONTENTS),P.domNode.appendChild(P.textNode),P._length=0,P}return T(m,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(h,P){if(this._length!==0)return g(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,h,P);for(var I=this,R=0;I!=null&&I.statics.scope!==O.default.Scope.BLOCK_BLOT;)R+=I.offset(I.parent),I=I.parent;I!=null&&(this._length=m.CONTENTS.length,I.optimize(),I.formatAt(R,m.CONTENTS.length,h,P),this._length=0)}},{key:"index",value:function(h,P){return h===this.textNode?0:g(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,h,P)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){g(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var h=this.textNode,P=this.selection.getNativeRange(),I=void 0,R=void 0,M=void 0;if(P!=null&&P.start.node===h&&P.end.node===h){var z=[h,P.start.offset,P.end.offset];I=z[0],R=z[1],M=z[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==m.CONTENTS){var k=this.textNode.data.split(m.CONTENTS).join("");this.next instanceof f.default?(I=this.next.domNode,this.next.insertAt(0,k),this.textNode.data=m.CONTENTS):(this.textNode.data=k,this.parent.insertBefore(O.default.create(this.textNode),this),this.textNode=document.createTextNode(m.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),R!=null){var S=[R,M].map(function(D){return Math.max(0,Math.min(I.data.length,D-1))}),N=_(S,2);return R=N[0],M=N[1],{startNode:I,startOffset:R,endNode:I,endOffset:M}}}}},{key:"update",value:function(h,P){var I=this;if(h.some(function(M){return M.type==="characterData"&&M.target===I.textNode})){var R=this.restore();R&&(P.range=R)}}},{key:"value",value:function(){return""}}]),m}(O.default.Embed);v.blotName="cursor",v.className="ql-cursor",v.tagName="span",v.CONTENTS="\uFEFF",i.default=v},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=s(0),g=O(_),T=s(4),x=O(T);function O(b){return b&&b.__esModule?b:{default:b}}function y(b,d){if(!(b instanceof d))throw new TypeError("Cannot call a class as a function")}function f(b,d){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:b}function u(b,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}var c=function(b){u(d,b);function d(){return y(this,d),f(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(g.default.Container);c.allowedChildren=[x.default,T.BlockEmbed,c],i.default=c},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.ColorStyle=i.ColorClass=i.ColorAttributor=void 0;var _=function(){function v(p,m){for(var E=0;E<m.length;E++){var h=m[E];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(p,h.key,h)}}return function(p,m,E){return m&&v(p.prototype,m),E&&v(p,E),p}}(),g=function v(p,m,E){p===null&&(p=Function.prototype);var h=Object.getOwnPropertyDescriptor(p,m);if(h===void 0){var P=Object.getPrototypeOf(p);return P===null?void 0:v(P,m,E)}else{if("value"in h)return h.value;var I=h.get;return I===void 0?void 0:I.call(E)}},T=s(0),x=O(T);function O(v){return v&&v.__esModule?v:{default:v}}function y(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function f(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function u(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var c=function(v){u(p,v);function p(){return y(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return _(p,[{key:"value",value:function(E){var h=g(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,E);return h.startsWith("rgb(")?(h=h.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+h.split(",").map(function(P){return("00"+parseInt(P).toString(16)).slice(-2)}).join("")):h}}]),p}(x.default.Attributor.Style),b=new x.default.Attributor.Class("color","ql-color",{scope:x.default.Scope.INLINE}),d=new c("color","color",{scope:x.default.Scope.INLINE});i.ColorAttributor=c,i.ColorClass=b,i.ColorStyle=d},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.sanitize=i.default=void 0;var _=function(){function d(v,p){for(var m=0;m<p.length;m++){var E=p[m];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}return function(v,p,m){return p&&d(v.prototype,p),m&&d(v,m),v}}(),g=function d(v,p,m){v===null&&(v=Function.prototype);var E=Object.getOwnPropertyDescriptor(v,p);if(E===void 0){var h=Object.getPrototypeOf(v);return h===null?void 0:d(h,p,m)}else{if("value"in E)return E.value;var P=E.get;return P===void 0?void 0:P.call(m)}},T=s(6),x=O(T);function O(d){return d&&d.__esModule?d:{default:d}}function y(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}function f(d,v){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:d}function u(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);d.prototype=Object.create(v&&v.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(d,v):d.__proto__=v)}var c=function(d){u(v,d);function v(){return y(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return _(v,[{key:"format",value:function(m,E){if(m!==this.statics.blotName||!E)return g(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,m,E);E=this.constructor.sanitize(E),this.domNode.setAttribute("href",E)}}],[{key:"create",value:function(m){var E=g(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,m);return m=this.sanitize(m),E.setAttribute("href",m),E.setAttribute("rel","noopener noreferrer"),E.setAttribute("target","_blank"),E}},{key:"formats",value:function(m){return m.getAttribute("href")}},{key:"sanitize",value:function(m){return b(m,this.PROTOCOL_WHITELIST)?m:this.SANITIZED_URL}}]),v}(x.default);c.blotName="link",c.tagName="A",c.SANITIZED_URL="about:blank",c.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function b(d,v){var p=document.createElement("a");p.href=d;var m=p.href.slice(0,p.href.indexOf(":"));return v.indexOf(m)>-1}i.default=c,i.sanitize=b},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},g=function(){function v(p,m){for(var E=0;E<m.length;E++){var h=m[E];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(p,h.key,h)}}return function(p,m,E){return m&&v(p.prototype,m),E&&v(p,E),p}}(),T=s(23),x=f(T),O=s(107),y=f(O);function f(v){return v&&v.__esModule?v:{default:v}}function u(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}var c=0;function b(v,p){v.setAttribute(p,v.getAttribute(p)!=="true")}var d=function(){function v(p){var m=this;u(this,v),this.select=p,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){m.togglePicker()}),this.label.addEventListener("keydown",function(E){switch(E.keyCode){case x.default.keys.ENTER:m.togglePicker();break;case x.default.keys.ESCAPE:m.escape(),E.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return g(v,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),b(this.label,"aria-expanded"),b(this.options,"aria-hidden")}},{key:"buildItem",value:function(m){var E=this,h=document.createElement("span");return h.tabIndex="0",h.setAttribute("role","button"),h.classList.add("ql-picker-item"),m.hasAttribute("value")&&h.setAttribute("data-value",m.getAttribute("value")),m.textContent&&h.setAttribute("data-label",m.textContent),h.addEventListener("click",function(){E.selectItem(h,!0)}),h.addEventListener("keydown",function(P){switch(P.keyCode){case x.default.keys.ENTER:E.selectItem(h,!0),P.preventDefault();break;case x.default.keys.ESCAPE:E.escape(),P.preventDefault();break}}),h}},{key:"buildLabel",value:function(){var m=document.createElement("span");return m.classList.add("ql-picker-label"),m.innerHTML=y.default,m.tabIndex="0",m.setAttribute("role","button"),m.setAttribute("aria-expanded","false"),this.container.appendChild(m),m}},{key:"buildOptions",value:function(){var m=this,E=document.createElement("span");E.classList.add("ql-picker-options"),E.setAttribute("aria-hidden","true"),E.tabIndex="-1",E.id="ql-picker-options-"+c,c+=1,this.label.setAttribute("aria-controls",E.id),this.options=E,[].slice.call(this.select.options).forEach(function(h){var P=m.buildItem(h);E.appendChild(P),h.selected===!0&&m.selectItem(P)}),this.container.appendChild(E)}},{key:"buildPicker",value:function(){var m=this;[].slice.call(this.select.attributes).forEach(function(E){m.container.setAttribute(E.name,E.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var m=this;this.close(),setTimeout(function(){return m.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(m){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=this.container.querySelector(".ql-selected");if(m!==h&&(h!=null&&h.classList.remove("ql-selected"),m!=null&&(m.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(m.parentNode.children,m),m.hasAttribute("data-value")?this.label.setAttribute("data-value",m.getAttribute("data-value")):this.label.removeAttribute("data-value"),m.hasAttribute("data-label")?this.label.setAttribute("data-label",m.getAttribute("data-label")):this.label.removeAttribute("data-label"),E))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":_(Event))==="object"){var P=document.createEvent("Event");P.initEvent("change",!0,!0),this.select.dispatchEvent(P)}this.close()}}},{key:"update",value:function(){var m=void 0;if(this.select.selectedIndex>-1){var E=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];m=this.select.options[this.select.selectedIndex],this.selectItem(E)}else this.selectItem(null);var h=m!=null&&m!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",h)}}]),v}();i.default=d},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=s(0),g=Z(_),T=s(5),x=Z(T),O=s(4),y=Z(O),f=s(16),u=Z(f),c=s(25),b=Z(c),d=s(24),v=Z(d),p=s(35),m=Z(p),E=s(6),h=Z(E),P=s(22),I=Z(P),R=s(7),M=Z(R),z=s(55),k=Z(z),S=s(42),N=Z(S),D=s(23),q=Z(D);function Z(X){return X&&X.__esModule?X:{default:X}}x.default.register({"blots/block":y.default,"blots/block/embed":O.BlockEmbed,"blots/break":u.default,"blots/container":b.default,"blots/cursor":v.default,"blots/embed":m.default,"blots/inline":h.default,"blots/scroll":I.default,"blots/text":M.default,"modules/clipboard":k.default,"modules/history":N.default,"modules/keyboard":q.default}),g.default.register(y.default,u.default,v.default,h.default,I.default,M.default),i.default=x.default},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=s(1),g=function(){function T(x){this.domNode=x,this.domNode[_.DATA_KEY]={blot:this}}return Object.defineProperty(T.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),T.create=function(x){if(this.tagName==null)throw new _.ParchmentError("Blot definition missing tagName");var O;return Array.isArray(this.tagName)?(typeof x=="string"&&(x=x.toUpperCase(),parseInt(x).toString()===x&&(x=parseInt(x))),typeof x=="number"?O=document.createElement(this.tagName[x-1]):this.tagName.indexOf(x)>-1?O=document.createElement(x):O=document.createElement(this.tagName[0])):O=document.createElement(this.tagName),this.className&&O.classList.add(this.className),O},T.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},T.prototype.clone=function(){var x=this.domNode.cloneNode(!1);return _.create(x)},T.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[_.DATA_KEY]},T.prototype.deleteAt=function(x,O){var y=this.isolate(x,O);y.remove()},T.prototype.formatAt=function(x,O,y,f){var u=this.isolate(x,O);if(_.query(y,_.Scope.BLOT)!=null&&f)u.wrap(y,f);else if(_.query(y,_.Scope.ATTRIBUTE)!=null){var c=_.create(this.statics.scope);u.wrap(c),c.format(y,f)}},T.prototype.insertAt=function(x,O,y){var f=y==null?_.create("text",O):_.create(O,y),u=this.split(x);this.parent.insertBefore(f,u)},T.prototype.insertInto=function(x,O){O===void 0&&(O=null),this.parent!=null&&this.parent.children.remove(this);var y=null;x.children.insertBefore(this,O),O!=null&&(y=O.domNode),(this.domNode.parentNode!=x.domNode||this.domNode.nextSibling!=y)&&x.domNode.insertBefore(this.domNode,y),this.parent=x,this.attach()},T.prototype.isolate=function(x,O){var y=this.split(x);return y.split(O),y},T.prototype.length=function(){return 1},T.prototype.offset=function(x){return x===void 0&&(x=this.parent),this.parent==null||this==x?0:this.parent.children.offset(this)+this.parent.offset(x)},T.prototype.optimize=function(x){this.domNode[_.DATA_KEY]!=null&&delete this.domNode[_.DATA_KEY].mutations},T.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},T.prototype.replace=function(x){x.parent!=null&&(x.parent.insertBefore(this,x.next),x.remove())},T.prototype.replaceWith=function(x,O){var y=typeof x=="string"?_.create(x,O):x;return y.replace(this),y},T.prototype.split=function(x,O){return x===0?this:this.next},T.prototype.update=function(x,O){},T.prototype.wrap=function(x,O){var y=typeof x=="string"?_.create(x,O):x;return this.parent!=null&&this.parent.insertBefore(y,this.next),y.appendChild(this),y},T.blotName="abstract",T}();i.default=g},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=s(12),g=s(32),T=s(33),x=s(1),O=function(){function y(f){this.attributes={},this.domNode=f,this.build()}return y.prototype.attribute=function(f,u){u?f.add(this.domNode,u)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},y.prototype.build=function(){var f=this;this.attributes={};var u=_.default.keys(this.domNode),c=g.default.keys(this.domNode),b=T.default.keys(this.domNode);u.concat(c).concat(b).forEach(function(d){var v=x.query(d,x.Scope.ATTRIBUTE);v instanceof _.default&&(f.attributes[v.attrName]=v)})},y.prototype.copy=function(f){var u=this;Object.keys(this.attributes).forEach(function(c){var b=u.attributes[c].value(u.domNode);f.format(c,b)})},y.prototype.move=function(f){var u=this;this.copy(f),Object.keys(this.attributes).forEach(function(c){u.attributes[c].remove(u.domNode)}),this.attributes={}},y.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(u,c){return u[c]=f.attributes[c].value(f.domNode),u},{})},y}();i.default=O},function(o,i,s){var _=this&&this.__extends||function(){var O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,f){y.__proto__=f}||function(y,f){for(var u in f)f.hasOwnProperty(u)&&(y[u]=f[u])};return function(y,f){O(y,f);function u(){this.constructor=y}y.prototype=f===null?Object.create(f):(u.prototype=f.prototype,new u)}}();Object.defineProperty(i,"__esModule",{value:!0});var g=s(12);function T(O,y){var f=O.getAttribute("class")||"";return f.split(/\s+/).filter(function(u){return u.indexOf(y+"-")===0})}var x=function(O){_(y,O);function y(){return O!==null&&O.apply(this,arguments)||this}return y.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(u){return u.split("-").slice(0,-1).join("-")})},y.prototype.add=function(f,u){return this.canAdd(f,u)?(this.remove(f),f.classList.add(this.keyName+"-"+u),!0):!1},y.prototype.remove=function(f){var u=T(f,this.keyName);u.forEach(function(c){f.classList.remove(c)}),f.classList.length===0&&f.removeAttribute("class")},y.prototype.value=function(f){var u=T(f,this.keyName)[0]||"",c=u.slice(this.keyName.length+1);return this.canAdd(f,c)?c:""},y}(g.default);i.default=x},function(o,i,s){var _=this&&this.__extends||function(){var O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,f){y.__proto__=f}||function(y,f){for(var u in f)f.hasOwnProperty(u)&&(y[u]=f[u])};return function(y,f){O(y,f);function u(){this.constructor=y}y.prototype=f===null?Object.create(f):(u.prototype=f.prototype,new u)}}();Object.defineProperty(i,"__esModule",{value:!0});var g=s(12);function T(O){var y=O.split("-"),f=y.slice(1).map(function(u){return u[0].toUpperCase()+u.slice(1)}).join("");return y[0]+f}var x=function(O){_(y,O);function y(){return O!==null&&O.apply(this,arguments)||this}return y.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(u){var c=u.split(":");return c[0].trim()})},y.prototype.add=function(f,u){return this.canAdd(f,u)?(f.style[T(this.keyName)]=u,!0):!1},y.prototype.remove=function(f){f.style[T(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},y.prototype.value=function(f){var u=f.style[T(this.keyName)];return this.canAdd(f,u)?u:""},y}(g.default);i.default=x},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=function(){function x(O,y){for(var f=0;f<y.length;f++){var u=y[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(O,u.key,u)}}return function(O,y,f){return y&&x(O.prototype,y),f&&x(O,f),O}}();function g(x,O){if(!(x instanceof O))throw new TypeError("Cannot call a class as a function")}var T=function(){function x(O,y){g(this,x),this.quill=O,this.options=y,this.modules={}}return _(x,[{key:"init",value:function(){var y=this;Object.keys(this.options.modules).forEach(function(f){y.modules[f]==null&&y.addModule(f)})}},{key:"addModule",value:function(y){var f=this.quill.constructor.import("modules/"+y);return this.modules[y]=new f(this.quill,this.options.modules[y]||{}),this.modules[y]}}]),x}();T.DEFAULTS={modules:{}},T.themes={default:T},i.default=T},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=function(){function p(m,E){for(var h=0;h<E.length;h++){var P=E[h];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(m,P.key,P)}}return function(m,E,h){return E&&p(m.prototype,E),h&&p(m,h),m}}(),g=function p(m,E,h){m===null&&(m=Function.prototype);var P=Object.getOwnPropertyDescriptor(m,E);if(P===void 0){var I=Object.getPrototypeOf(m);return I===null?void 0:p(I,E,h)}else{if("value"in P)return P.value;var R=P.get;return R===void 0?void 0:R.call(h)}},T=s(0),x=f(T),O=s(7),y=f(O);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function b(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var d="\uFEFF",v=function(p){b(m,p);function m(E){u(this,m);var h=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,E));return h.contentNode=document.createElement("span"),h.contentNode.setAttribute("contenteditable",!1),[].slice.call(h.domNode.childNodes).forEach(function(P){h.contentNode.appendChild(P)}),h.leftGuard=document.createTextNode(d),h.rightGuard=document.createTextNode(d),h.domNode.appendChild(h.leftGuard),h.domNode.appendChild(h.contentNode),h.domNode.appendChild(h.rightGuard),h}return _(m,[{key:"index",value:function(h,P){return h===this.leftGuard?0:h===this.rightGuard?1:g(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,h,P)}},{key:"restore",value:function(h){var P=void 0,I=void 0,R=h.data.split(d).join("");if(h===this.leftGuard)if(this.prev instanceof y.default){var M=this.prev.length();this.prev.insertAt(M,R),P={startNode:this.prev.domNode,startOffset:M+R.length}}else I=document.createTextNode(R),this.parent.insertBefore(x.default.create(I),this),P={startNode:I,startOffset:R.length};else h===this.rightGuard&&(this.next instanceof y.default?(this.next.insertAt(0,R),P={startNode:this.next.domNode,startOffset:R.length}):(I=document.createTextNode(R),this.parent.insertBefore(x.default.create(I),this.next),P={startNode:I,startOffset:R.length}));return h.data=d,P}},{key:"update",value:function(h,P){var I=this;h.forEach(function(R){if(R.type==="characterData"&&(R.target===I.leftGuard||R.target===I.rightGuard)){var M=I.restore(R.target);M&&(P.range=M)}})}}]),m}(x.default.Embed);i.default=v},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.AlignStyle=i.AlignClass=i.AlignAttribute=void 0;var _=s(0),g=T(_);function T(u){return u&&u.__esModule?u:{default:u}}var x={scope:g.default.Scope.BLOCK,whitelist:["right","center","justify"]},O=new g.default.Attributor.Attribute("align","align",x),y=new g.default.Attributor.Class("align","ql-align",x),f=new g.default.Attributor.Style("align","text-align",x);i.AlignAttribute=O,i.AlignClass=y,i.AlignStyle=f},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.BackgroundStyle=i.BackgroundClass=void 0;var _=s(0),g=x(_),T=s(26);function x(f){return f&&f.__esModule?f:{default:f}}var O=new g.default.Attributor.Class("background","ql-bg",{scope:g.default.Scope.INLINE}),y=new T.ColorAttributor("background","background-color",{scope:g.default.Scope.INLINE});i.BackgroundClass=O,i.BackgroundStyle=y},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.DirectionStyle=i.DirectionClass=i.DirectionAttribute=void 0;var _=s(0),g=T(_);function T(u){return u&&u.__esModule?u:{default:u}}var x={scope:g.default.Scope.BLOCK,whitelist:["rtl"]},O=new g.default.Attributor.Attribute("direction","dir",x),y=new g.default.Attributor.Class("direction","ql-direction",x),f=new g.default.Attributor.Style("direction","direction",x);i.DirectionAttribute=O,i.DirectionClass=y,i.DirectionStyle=f},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.FontClass=i.FontStyle=void 0;var _=function(){function p(m,E){for(var h=0;h<E.length;h++){var P=E[h];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(m,P.key,P)}}return function(m,E,h){return E&&p(m.prototype,E),h&&p(m,h),m}}(),g=function p(m,E,h){m===null&&(m=Function.prototype);var P=Object.getOwnPropertyDescriptor(m,E);if(P===void 0){var I=Object.getPrototypeOf(m);return I===null?void 0:p(I,E,h)}else{if("value"in P)return P.value;var R=P.get;return R===void 0?void 0:R.call(h)}},T=s(0),x=O(T);function O(p){return p&&p.__esModule?p:{default:p}}function y(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function f(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function u(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var c={scope:x.default.Scope.INLINE,whitelist:["serif","monospace"]},b=new x.default.Attributor.Class("font","ql-font",c),d=function(p){u(m,p);function m(){return y(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return _(m,[{key:"value",value:function(h){return g(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,h).replace(/["']/g,"")}}]),m}(x.default.Attributor.Style),v=new d("font","font-family",c);i.FontStyle=v,i.FontClass=b},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.SizeStyle=i.SizeClass=void 0;var _=s(0),g=T(_);function T(y){return y&&y.__esModule?y:{default:y}}var x=new g.default.Attributor.Class("size","ql-size",{scope:g.default.Scope.INLINE,whitelist:["small","large","huge"]}),O=new g.default.Attributor.Style("size","font-size",{scope:g.default.Scope.INLINE,whitelist:["10px","18px","32px"]});i.SizeClass=x,i.SizeStyle=O},function(o,i,s){o.exports={align:{"":s(76),center:s(77),right:s(78),justify:s(79)},background:s(80),blockquote:s(81),bold:s(82),clean:s(83),code:s(58),"code-block":s(58),color:s(84),direction:{"":s(85),rtl:s(86)},float:{center:s(87),full:s(88),left:s(89),right:s(90)},formula:s(91),header:{1:s(92),2:s(93)},italic:s(94),image:s(95),indent:{"+1":s(96),"-1":s(97)},link:s(98),list:{ordered:s(99),bullet:s(100),check:s(101)},script:{sub:s(102),super:s(103)},strike:s(104),underline:s(105),video:s(106)}},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.getLastChangeIndex=i.default=void 0;var _=function(){function E(h,P){for(var I=0;I<P.length;I++){var R=P[I];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(h,R.key,R)}}return function(h,P,I){return P&&E(h.prototype,P),I&&E(h,I),h}}(),g=s(0),T=u(g),x=s(5),O=u(x),y=s(9),f=u(y);function u(E){return E&&E.__esModule?E:{default:E}}function c(E,h){if(!(E instanceof h))throw new TypeError("Cannot call a class as a function")}function b(E,h){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:E}function d(E,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);E.prototype=Object.create(h&&h.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(E,h):E.__proto__=h)}var v=function(E){d(h,E);function h(P,I){c(this,h);var R=b(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,P,I));return R.lastRecorded=0,R.ignoreChange=!1,R.clear(),R.quill.on(O.default.events.EDITOR_CHANGE,function(M,z,k,S){M!==O.default.events.TEXT_CHANGE||R.ignoreChange||(!R.options.userOnly||S===O.default.sources.USER?R.record(z,k):R.transform(z))}),R.quill.keyboard.addBinding({key:"Z",shortKey:!0},R.undo.bind(R)),R.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},R.redo.bind(R)),/Win/i.test(navigator.platform)&&R.quill.keyboard.addBinding({key:"Y",shortKey:!0},R.redo.bind(R)),R}return _(h,[{key:"change",value:function(I,R){if(this.stack[I].length!==0){var M=this.stack[I].pop();this.stack[R].push(M),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(M[I],O.default.sources.USER),this.ignoreChange=!1;var z=m(M[I]);this.quill.setSelection(z)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(I,R){if(I.ops.length!==0){this.stack.redo=[];var M=this.quill.getContents().diff(R),z=Date.now();if(this.lastRecorded+this.options.delay>z&&this.stack.undo.length>0){var k=this.stack.undo.pop();M=M.compose(k.undo),I=k.redo.compose(I)}else this.lastRecorded=z;this.stack.undo.push({redo:I,undo:M}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(I){this.stack.undo.forEach(function(R){R.undo=I.transform(R.undo,!0),R.redo=I.transform(R.redo,!0)}),this.stack.redo.forEach(function(R){R.undo=I.transform(R.undo,!0),R.redo=I.transform(R.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),h}(f.default);v.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function p(E){var h=E.ops[E.ops.length-1];return h==null?!1:h.insert!=null?typeof h.insert=="string"&&h.insert.endsWith(`
`):h.attributes!=null?Object.keys(h.attributes).some(function(P){return T.default.query(P,T.default.Scope.BLOCK)!=null}):!1}function m(E){var h=E.reduce(function(I,R){return I+=R.delete||0,I},0),P=E.length()-h;return p(E)&&(P-=1),P}i.default=v,i.getLastChangeIndex=m},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BaseTooltip=void 0;var _=function(){function U(H,V){for(var W=0;W<V.length;W++){var B=V[W];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(H,B.key,B)}}return function(H,V,W){return V&&U(H.prototype,V),W&&U(H,W),H}}(),g=function U(H,V,W){H===null&&(H=Function.prototype);var B=Object.getOwnPropertyDescriptor(H,V);if(B===void 0){var G=Object.getPrototypeOf(H);return G===null?void 0:U(G,V,W)}else{if("value"in B)return B.value;var tt=B.get;return tt===void 0?void 0:tt.call(W)}},T=s(3),x=z(T),O=s(2),y=z(O),f=s(8),u=z(f),c=s(23),b=z(c),d=s(34),v=z(d),p=s(59),m=z(p),E=s(60),h=z(E),P=s(28),I=z(P),R=s(61),M=z(R);function z(U){return U&&U.__esModule?U:{default:U}}function k(U,H){if(!(U instanceof H))throw new TypeError("Cannot call a class as a function")}function S(U,H){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:U}function N(U,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);U.prototype=Object.create(H&&H.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(U,H):U.__proto__=H)}var D=[!1,"center","right","justify"],q=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Z=[!1,"serif","monospace"],X=["1","2","3",!1],J=["small",!1,"large","huge"],nt=function(U){N(H,U);function H(V,W){k(this,H);var B=S(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,V,W)),G=function tt(et){if(!document.body.contains(V.root))return document.body.removeEventListener("click",tt);B.tooltip!=null&&!B.tooltip.root.contains(et.target)&&document.activeElement!==B.tooltip.textbox&&!B.quill.hasFocus()&&B.tooltip.hide(),B.pickers!=null&&B.pickers.forEach(function(st){st.container.contains(et.target)||st.close()})};return V.emitter.listenDOM("click",document.body,G),B}return _(H,[{key:"addModule",value:function(W){var B=g(H.prototype.__proto__||Object.getPrototypeOf(H.prototype),"addModule",this).call(this,W);return W==="toolbar"&&this.extendToolbar(B),B}},{key:"buildButtons",value:function(W,B){W.forEach(function(G){var tt=G.getAttribute("class")||"";tt.split(/\s+/).forEach(function(et){if(et.startsWith("ql-")&&(et=et.slice(3),B[et]!=null))if(et==="direction")G.innerHTML=B[et][""]+B[et].rtl;else if(typeof B[et]=="string")G.innerHTML=B[et];else{var st=G.value||"";st!=null&&B[et][st]&&(G.innerHTML=B[et][st])}})})}},{key:"buildPickers",value:function(W,B){var G=this;this.pickers=W.map(function(et){if(et.classList.contains("ql-align"))return et.querySelector("option")==null&&C(et,D),new h.default(et,B.align);if(et.classList.contains("ql-background")||et.classList.contains("ql-color")){var st=et.classList.contains("ql-background")?"background":"color";return et.querySelector("option")==null&&C(et,q,st==="background"?"#ffffff":"#000000"),new m.default(et,B[st])}else return et.querySelector("option")==null&&(et.classList.contains("ql-font")?C(et,Z):et.classList.contains("ql-header")?C(et,X):et.classList.contains("ql-size")&&C(et,J)),new I.default(et)});var tt=function(){G.pickers.forEach(function(st){st.update()})};this.quill.on(u.default.events.EDITOR_CHANGE,tt)}}]),H}(v.default);nt.DEFAULTS=(0,x.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var H=this,V=this.container.querySelector("input.ql-image[type=file]");V==null&&(V=document.createElement("input"),V.setAttribute("type","file"),V.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),V.classList.add("ql-image"),V.addEventListener("change",function(){if(V.files!=null&&V.files[0]!=null){var W=new FileReader;W.onload=function(B){var G=H.quill.getSelection(!0);H.quill.updateContents(new y.default().retain(G.index).delete(G.length).insert({image:B.target.result}),u.default.sources.USER),H.quill.setSelection(G.index+1,u.default.sources.SILENT),V.value=""},W.readAsDataURL(V.files[0])}}),this.container.appendChild(V)),V.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Y=function(U){N(H,U);function H(V,W){k(this,H);var B=S(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,V,W));return B.textbox=B.root.querySelector('input[type="text"]'),B.listen(),B}return _(H,[{key:"listen",value:function(){var W=this;this.textbox.addEventListener("keydown",function(B){b.default.match(B,"enter")?(W.save(),B.preventDefault()):b.default.match(B,"escape")&&(W.cancel(),B.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),B!=null?this.textbox.value=B:W!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+W)||""),this.root.setAttribute("data-mode",W)}},{key:"restoreFocus",value:function(){var W=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=W}},{key:"save",value:function(){var W=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var B=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",W,u.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",W,u.default.sources.USER)),this.quill.root.scrollTop=B;break}case"video":W=F(W);case"formula":{if(!W)break;var G=this.quill.getSelection(!0);if(G!=null){var tt=G.index+G.length;this.quill.insertEmbed(tt,this.root.getAttribute("data-mode"),W,u.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(tt+1," ",u.default.sources.USER),this.quill.setSelection(tt+2,u.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),H}(M.default);function F(U){var H=U.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||U.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return H?(H[1]||"https")+"://www.youtube.com/embed/"+H[2]+"?showinfo=0":(H=U.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(H[1]||"https")+"://player.vimeo.com/video/"+H[2]+"/":U}function C(U,H){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;H.forEach(function(W){var B=document.createElement("option");W===V?B.setAttribute("selected","selected"):B.setAttribute("value",W),U.appendChild(B)})}i.BaseTooltip=Y,i.default=nt},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=function(){function g(){this.head=this.tail=null,this.length=0}return g.prototype.append=function(){for(var T=[],x=0;x<arguments.length;x++)T[x]=arguments[x];this.insertBefore(T[0],null),T.length>1&&this.append.apply(this,T.slice(1))},g.prototype.contains=function(T){for(var x,O=this.iterator();x=O();)if(x===T)return!0;return!1},g.prototype.insertBefore=function(T,x){T&&(T.next=x,x!=null?(T.prev=x.prev,x.prev!=null&&(x.prev.next=T),x.prev=T,x===this.head&&(this.head=T)):this.tail!=null?(this.tail.next=T,T.prev=this.tail,this.tail=T):(T.prev=null,this.head=this.tail=T),this.length+=1)},g.prototype.offset=function(T){for(var x=0,O=this.head;O!=null;){if(O===T)return x;x+=O.length(),O=O.next}return-1},g.prototype.remove=function(T){this.contains(T)&&(T.prev!=null&&(T.prev.next=T.next),T.next!=null&&(T.next.prev=T.prev),T===this.head&&(this.head=T.next),T===this.tail&&(this.tail=T.prev),this.length-=1)},g.prototype.iterator=function(T){return T===void 0&&(T=this.head),function(){var x=T;return T!=null&&(T=T.next),x}},g.prototype.find=function(T,x){x===void 0&&(x=!1);for(var O,y=this.iterator();O=y();){var f=O.length();if(T<f||x&&T===f&&(O.next==null||O.next.length()!==0))return[O,T];T-=f}return[null,0]},g.prototype.forEach=function(T){for(var x,O=this.iterator();x=O();)T(x)},g.prototype.forEachAt=function(T,x,O){if(!(x<=0))for(var y=this.find(T),f=y[0],u=y[1],c,b=T-u,d=this.iterator(f);(c=d())&&b<T+x;){var v=c.length();T>b?O(c,T-b,Math.min(x,b+v-T)):O(c,0,Math.min(v,T+x-b)),b+=v}},g.prototype.map=function(T){return this.reduce(function(x,O){return x.push(T(O)),x},[])},g.prototype.reduce=function(T,x){for(var O,y=this.iterator();O=y();)x=T(x,O);return x},g}();i.default=_},function(o,i,s){var _=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var b in c)c.hasOwnProperty(b)&&(u[b]=c[b])};return function(u,c){f(u,c);function b(){this.constructor=u}u.prototype=c===null?Object.create(c):(b.prototype=c.prototype,new b)}}();Object.defineProperty(i,"__esModule",{value:!0});var g=s(17),T=s(1),x={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},O=100,y=function(f){_(u,f);function u(c){var b=f.call(this,c)||this;return b.scroll=b,b.observer=new MutationObserver(function(d){b.update(d)}),b.observer.observe(b.domNode,x),b.attach(),b}return u.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},u.prototype.deleteAt=function(c,b){this.update(),c===0&&b===this.length()?this.children.forEach(function(d){d.remove()}):f.prototype.deleteAt.call(this,c,b)},u.prototype.formatAt=function(c,b,d,v){this.update(),f.prototype.formatAt.call(this,c,b,d,v)},u.prototype.insertAt=function(c,b,d){this.update(),f.prototype.insertAt.call(this,c,b,d)},u.prototype.optimize=function(c,b){var d=this;c===void 0&&(c=[]),b===void 0&&(b={}),f.prototype.optimize.call(this,b);for(var v=[].slice.call(this.observer.takeRecords());v.length>0;)c.push(v.pop());for(var p=function(P,I){I===void 0&&(I=!0),!(P==null||P===d)&&P.domNode.parentNode!=null&&(P.domNode[T.DATA_KEY].mutations==null&&(P.domNode[T.DATA_KEY].mutations=[]),I&&p(P.parent))},m=function(P){P.domNode[T.DATA_KEY]==null||P.domNode[T.DATA_KEY].mutations==null||(P instanceof g.default&&P.children.forEach(m),P.optimize(b))},E=c,h=0;E.length>0;h+=1){if(h>=O)throw new Error("[Parchment] Maximum optimize iterations reached");for(E.forEach(function(P){var I=T.find(P.target,!0);I!=null&&(I.domNode===P.target&&(P.type==="childList"?(p(T.find(P.previousSibling,!1)),[].forEach.call(P.addedNodes,function(R){var M=T.find(R,!1);p(M,!1),M instanceof g.default&&M.children.forEach(function(z){p(z,!1)})})):P.type==="attributes"&&p(I.prev)),p(I))}),this.children.forEach(m),E=[].slice.call(this.observer.takeRecords()),v=E.slice();v.length>0;)c.push(v.pop())}},u.prototype.update=function(c,b){var d=this;b===void 0&&(b={}),c=c||this.observer.takeRecords(),c.map(function(v){var p=T.find(v.target,!0);return p==null?null:p.domNode[T.DATA_KEY].mutations==null?(p.domNode[T.DATA_KEY].mutations=[v],p):(p.domNode[T.DATA_KEY].mutations.push(v),null)}).forEach(function(v){v==null||v===d||v.domNode[T.DATA_KEY]==null||v.update(v.domNode[T.DATA_KEY].mutations||[],b)}),this.domNode[T.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[T.DATA_KEY].mutations,b),this.optimize(c,b)},u.blotName="scroll",u.defaultChild="block",u.scope=T.Scope.BLOCK_BLOT,u.tagName="DIV",u}(g.default);i.default=y},function(o,i,s){var _=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var c in u)u.hasOwnProperty(c)&&(f[c]=u[c])};return function(f,u){y(f,u);function c(){this.constructor=f}f.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();Object.defineProperty(i,"__esModule",{value:!0});var g=s(18),T=s(1);function x(y,f){if(Object.keys(y).length!==Object.keys(f).length)return!1;for(var u in y)if(y[u]!==f[u])return!1;return!0}var O=function(y){_(f,y);function f(){return y!==null&&y.apply(this,arguments)||this}return f.formats=function(u){if(u.tagName!==f.tagName)return y.formats.call(this,u)},f.prototype.format=function(u,c){var b=this;u===this.statics.blotName&&!c?(this.children.forEach(function(d){d instanceof g.default||(d=d.wrap(f.blotName,!0)),b.attributes.copy(d)}),this.unwrap()):y.prototype.format.call(this,u,c)},f.prototype.formatAt=function(u,c,b,d){if(this.formats()[b]!=null||T.query(b,T.Scope.ATTRIBUTE)){var v=this.isolate(u,c);v.format(b,d)}else y.prototype.formatAt.call(this,u,c,b,d)},f.prototype.optimize=function(u){y.prototype.optimize.call(this,u);var c=this.formats();if(Object.keys(c).length===0)return this.unwrap();var b=this.next;b instanceof f&&b.prev===this&&x(c,b.formats())&&(b.moveChildren(this),b.remove())},f.blotName="inline",f.scope=T.Scope.INLINE_BLOT,f.tagName="SPAN",f}(g.default);i.default=O},function(o,i,s){var _=this&&this.__extends||function(){var O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,f){y.__proto__=f}||function(y,f){for(var u in f)f.hasOwnProperty(u)&&(y[u]=f[u])};return function(y,f){O(y,f);function u(){this.constructor=y}y.prototype=f===null?Object.create(f):(u.prototype=f.prototype,new u)}}();Object.defineProperty(i,"__esModule",{value:!0});var g=s(18),T=s(1),x=function(O){_(y,O);function y(){return O!==null&&O.apply(this,arguments)||this}return y.formats=function(f){var u=T.query(y.blotName).tagName;if(f.tagName!==u)return O.formats.call(this,f)},y.prototype.format=function(f,u){T.query(f,T.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!u?this.replaceWith(y.blotName):O.prototype.format.call(this,f,u))},y.prototype.formatAt=function(f,u,c,b){T.query(c,T.Scope.BLOCK)!=null?this.format(c,b):O.prototype.formatAt.call(this,f,u,c,b)},y.prototype.insertAt=function(f,u,c){if(c==null||T.query(u,T.Scope.INLINE)!=null)O.prototype.insertAt.call(this,f,u,c);else{var b=this.split(f),d=T.create(u,c);b.parent.insertBefore(d,b)}},y.prototype.update=function(f,u){navigator.userAgent.match(/Trident/)?this.build():O.prototype.update.call(this,f,u)},y.blotName="block",y.scope=T.Scope.BLOCK_BLOT,y.tagName="P",y}(g.default);i.default=x},function(o,i,s){var _=this&&this.__extends||function(){var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,y){O.__proto__=y}||function(O,y){for(var f in y)y.hasOwnProperty(f)&&(O[f]=y[f])};return function(O,y){x(O,y);function f(){this.constructor=O}O.prototype=y===null?Object.create(y):(f.prototype=y.prototype,new f)}}();Object.defineProperty(i,"__esModule",{value:!0});var g=s(19),T=function(x){_(O,x);function O(){return x!==null&&x.apply(this,arguments)||this}return O.formats=function(y){},O.prototype.format=function(y,f){x.prototype.formatAt.call(this,0,this.length(),y,f)},O.prototype.formatAt=function(y,f,u,c){y===0&&f===this.length()?this.format(u,c):x.prototype.formatAt.call(this,y,f,u,c)},O.prototype.formats=function(){return this.statics.formats(this.domNode)},O}(g.default);i.default=T},function(o,i,s){var _=this&&this.__extends||function(){var O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,f){y.__proto__=f}||function(y,f){for(var u in f)f.hasOwnProperty(u)&&(y[u]=f[u])};return function(y,f){O(y,f);function u(){this.constructor=y}y.prototype=f===null?Object.create(f):(u.prototype=f.prototype,new u)}}();Object.defineProperty(i,"__esModule",{value:!0});var g=s(19),T=s(1),x=function(O){_(y,O);function y(f){var u=O.call(this,f)||this;return u.text=u.statics.value(u.domNode),u}return y.create=function(f){return document.createTextNode(f)},y.value=function(f){var u=f.data;return u.normalize&&(u=u.normalize()),u},y.prototype.deleteAt=function(f,u){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+u)},y.prototype.index=function(f,u){return this.domNode===f?u:-1},y.prototype.insertAt=function(f,u,c){c==null?(this.text=this.text.slice(0,f)+u+this.text.slice(f),this.domNode.data=this.text):O.prototype.insertAt.call(this,f,u,c)},y.prototype.length=function(){return this.text.length},y.prototype.optimize=function(f){O.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof y&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},y.prototype.position=function(f,u){return[this.domNode,f]},y.prototype.split=function(f,u){if(u===void 0&&(u=!1),!u){if(f===0)return this;if(f===this.length())return this.next}var c=T.create(this.domNode.splitText(f));return this.parent.insertBefore(c,this.next),this.text=this.statics.value(this.domNode),c},y.prototype.update=function(f,u){var c=this;f.some(function(b){return b.type==="characterData"&&b.target===c.domNode})&&(this.text=this.statics.value(this.domNode))},y.prototype.value=function(){return this.text},y.blotName="text",y.scope=T.Scope.INLINE_BLOT,y}(g.default);i.default=x},function(o,i,s){var _=document.createElement("div");if(_.classList.toggle("test-class",!1),_.classList.contains("test-class")){var g=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(T,x){return arguments.length>1&&!this.contains(T)==!x?x:g.call(this,T)}}String.prototype.startsWith||(String.prototype.startsWith=function(T,x){return x=x||0,this.substr(x,T.length)===T}),String.prototype.endsWith||(String.prototype.endsWith=function(T,x){var O=this.toString();(typeof x!="number"||!isFinite(x)||Math.floor(x)!==x||x>O.length)&&(x=O.length),x-=T.length;var y=O.indexOf(T,x);return y!==-1&&y===x}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(x){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof x!="function")throw new TypeError("predicate must be a function");for(var O=Object(this),y=O.length>>>0,f=arguments[1],u,c=0;c<y;c++)if(u=O[c],x.call(f,u,c,O))return u}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(o,i){var s=-1,_=1,g=0;function T(h,P,I){if(h==P)return h?[[g,h]]:[];(I<0||h.length<I)&&(I=null);var R=f(h,P),M=h.substring(0,R);h=h.substring(R),P=P.substring(R),R=u(h,P);var z=h.substring(h.length-R);h=h.substring(0,h.length-R),P=P.substring(0,P.length-R);var k=x(h,P);return M&&k.unshift([g,M]),z&&k.push([g,z]),b(k),I!=null&&(k=p(k,I)),k=m(k),k}function x(h,P){var I;if(!h)return[[_,P]];if(!P)return[[s,h]];var R=h.length>P.length?h:P,M=h.length>P.length?P:h,z=R.indexOf(M);if(z!=-1)return I=[[_,R.substring(0,z)],[g,M],[_,R.substring(z+M.length)]],h.length>P.length&&(I[0][0]=I[2][0]=s),I;if(M.length==1)return[[s,h],[_,P]];var k=c(h,P);if(k){var S=k[0],N=k[1],D=k[2],q=k[3],Z=k[4],X=T(S,D),J=T(N,q);return X.concat([[g,Z]],J)}return O(h,P)}function O(h,P){for(var I=h.length,R=P.length,M=Math.ceil((I+R)/2),z=M,k=2*M,S=new Array(k),N=new Array(k),D=0;D<k;D++)S[D]=-1,N[D]=-1;S[z+1]=0,N[z+1]=0;for(var q=I-R,Z=q%2!=0,X=0,J=0,nt=0,Y=0,F=0;F<M;F++){for(var C=-F+X;C<=F-J;C+=2){var U=z+C,H;C==-F||C!=F&&S[U-1]<S[U+1]?H=S[U+1]:H=S[U-1]+1;for(var V=H-C;H<I&&V<R&&h.charAt(H)==P.charAt(V);)H++,V++;if(S[U]=H,H>I)J+=2;else if(V>R)X+=2;else if(Z){var W=z+q-C;if(W>=0&&W<k&&N[W]!=-1){var B=I-N[W];if(H>=B)return y(h,P,H,V)}}}for(var G=-F+nt;G<=F-Y;G+=2){var W=z+G,B;G==-F||G!=F&&N[W-1]<N[W+1]?B=N[W+1]:B=N[W-1]+1;for(var tt=B-G;B<I&&tt<R&&h.charAt(I-B-1)==P.charAt(R-tt-1);)B++,tt++;if(N[W]=B,B>I)Y+=2;else if(tt>R)nt+=2;else if(!Z){var U=z+q-G;if(U>=0&&U<k&&S[U]!=-1){var H=S[U],V=z+H-U;if(B=I-B,H>=B)return y(h,P,H,V)}}}}return[[s,h],[_,P]]}function y(h,P,I,R){var M=h.substring(0,I),z=P.substring(0,R),k=h.substring(I),S=P.substring(R),N=T(M,z),D=T(k,S);return N.concat(D)}function f(h,P){if(!h||!P||h.charAt(0)!=P.charAt(0))return 0;for(var I=0,R=Math.min(h.length,P.length),M=R,z=0;I<M;)h.substring(z,M)==P.substring(z,M)?(I=M,z=I):R=M,M=Math.floor((R-I)/2+I);return M}function u(h,P){if(!h||!P||h.charAt(h.length-1)!=P.charAt(P.length-1))return 0;for(var I=0,R=Math.min(h.length,P.length),M=R,z=0;I<M;)h.substring(h.length-M,h.length-z)==P.substring(P.length-M,P.length-z)?(I=M,z=I):R=M,M=Math.floor((R-I)/2+I);return M}function c(h,P){var I=h.length>P.length?h:P,R=h.length>P.length?P:h;if(I.length<4||R.length*2<I.length)return null;function M(J,nt,Y){for(var F=J.substring(Y,Y+Math.floor(J.length/4)),C=-1,U="",H,V,W,B;(C=nt.indexOf(F,C+1))!=-1;){var G=f(J.substring(Y),nt.substring(C)),tt=u(J.substring(0,Y),nt.substring(0,C));U.length<tt+G&&(U=nt.substring(C-tt,C)+nt.substring(C,C+G),H=J.substring(0,Y-tt),V=J.substring(Y+G),W=nt.substring(0,C-tt),B=nt.substring(C+G))}return U.length*2>=J.length?[H,V,W,B,U]:null}var z=M(I,R,Math.ceil(I.length/4)),k=M(I,R,Math.ceil(I.length/2)),S;if(!z&&!k)return null;k?z?S=z[4].length>k[4].length?z:k:S=k:S=z;var N,D,q,Z;h.length>P.length?(N=S[0],D=S[1],q=S[2],Z=S[3]):(q=S[0],Z=S[1],N=S[2],D=S[3]);var X=S[4];return[N,D,q,Z,X]}function b(h){h.push([g,""]);for(var P=0,I=0,R=0,M="",z="",k;P<h.length;)switch(h[P][0]){case _:R++,z+=h[P][1],P++;break;case s:I++,M+=h[P][1],P++;break;case g:I+R>1?(I!==0&&R!==0&&(k=f(z,M),k!==0&&(P-I-R>0&&h[P-I-R-1][0]==g?h[P-I-R-1][1]+=z.substring(0,k):(h.splice(0,0,[g,z.substring(0,k)]),P++),z=z.substring(k),M=M.substring(k)),k=u(z,M),k!==0&&(h[P][1]=z.substring(z.length-k)+h[P][1],z=z.substring(0,z.length-k),M=M.substring(0,M.length-k))),I===0?h.splice(P-R,I+R,[_,z]):R===0?h.splice(P-I,I+R,[s,M]):h.splice(P-I-R,I+R,[s,M],[_,z]),P=P-I-R+(I?1:0)+(R?1:0)+1):P!==0&&h[P-1][0]==g?(h[P-1][1]+=h[P][1],h.splice(P,1)):P++,R=0,I=0,M="",z="";break}h[h.length-1][1]===""&&h.pop();var S=!1;for(P=1;P<h.length-1;)h[P-1][0]==g&&h[P+1][0]==g&&(h[P][1].substring(h[P][1].length-h[P-1][1].length)==h[P-1][1]?(h[P][1]=h[P-1][1]+h[P][1].substring(0,h[P][1].length-h[P-1][1].length),h[P+1][1]=h[P-1][1]+h[P+1][1],h.splice(P-1,1),S=!0):h[P][1].substring(0,h[P+1][1].length)==h[P+1][1]&&(h[P-1][1]+=h[P+1][1],h[P][1]=h[P][1].substring(h[P+1][1].length)+h[P+1][1],h.splice(P+1,1),S=!0)),P++;S&&b(h)}var d=T;d.INSERT=_,d.DELETE=s,d.EQUAL=g,o.exports=d;function v(h,P){if(P===0)return[g,h];for(var I=0,R=0;R<h.length;R++){var M=h[R];if(M[0]===s||M[0]===g){var z=I+M[1].length;if(P===z)return[R+1,h];if(P<z){h=h.slice();var k=P-I,S=[M[0],M[1].slice(0,k)],N=[M[0],M[1].slice(k)];return h.splice(R,1,S,N),[R+1,h]}else I=z}}throw new Error("cursor_pos is out of bounds!")}function p(h,P){var I=v(h,P),R=I[1],M=I[0],z=R[M],k=R[M+1];if(z==null)return h;if(z[0]!==g)return h;if(k!=null&&z[1]+k[1]===k[1]+z[1])return R.splice(M,2,k,z),E(R,M,2);if(k!=null&&k[1].indexOf(z[1])===0){R.splice(M,2,[k[0],z[1]],[0,z[1]]);var S=k[1].slice(z[1].length);return S.length>0&&R.splice(M+2,0,[k[0],S]),E(R,M,3)}else return h}function m(h){for(var P=!1,I=function(k){return k.charCodeAt(0)>=56320&&k.charCodeAt(0)<=57343},R=function(k){return k.charCodeAt(k.length-1)>=55296&&k.charCodeAt(k.length-1)<=56319},M=2;M<h.length;M+=1)h[M-2][0]===g&&R(h[M-2][1])&&h[M-1][0]===s&&I(h[M-1][1])&&h[M][0]===_&&I(h[M][1])&&(P=!0,h[M-1][1]=h[M-2][1].slice(-1)+h[M-1][1],h[M][1]=h[M-2][1].slice(-1)+h[M][1],h[M-2][1]=h[M-2][1].slice(0,-1));if(!P)return h;for(var z=[],M=0;M<h.length;M+=1)h[M][1].length>0&&z.push(h[M]);return z}function E(h,P,I){for(var R=P+I-1;R>=0&&R>=P-1;R--)if(R+1<h.length){var M=h[R],z=h[R+1];M[0]===z[1]&&h.splice(R,2,[M[0],M[1]+z[1]])}return h}},function(o,i){i=o.exports=typeof Object.keys=="function"?Object.keys:s,i.shim=s;function s(_){var g=[];for(var T in _)g.push(T);return g}},function(o,i){var s=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";i=o.exports=s?_:g,i.supported=_;function _(T){return Object.prototype.toString.call(T)=="[object Arguments]"}i.unsupported=g;function g(T){return T&&typeof T=="object"&&typeof T.length=="number"&&Object.prototype.hasOwnProperty.call(T,"callee")&&!Object.prototype.propertyIsEnumerable.call(T,"callee")||!1}},function(o,i){var s=Object.prototype.hasOwnProperty,_="~";function g(){}Object.create&&(g.prototype=Object.create(null),new g().__proto__||(_=!1));function T(O,y,f){this.fn=O,this.context=y,this.once=f||!1}function x(){this._events=new g,this._eventsCount=0}x.prototype.eventNames=function(){var y=[],f,u;if(this._eventsCount===0)return y;for(u in f=this._events)s.call(f,u)&&y.push(_?u.slice(1):u);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(f)):y},x.prototype.listeners=function(y,f){var u=_?_+y:y,c=this._events[u];if(f)return!!c;if(!c)return[];if(c.fn)return[c.fn];for(var b=0,d=c.length,v=new Array(d);b<d;b++)v[b]=c[b].fn;return v},x.prototype.emit=function(y,f,u,c,b,d){var v=_?_+y:y;if(!this._events[v])return!1;var p=this._events[v],m=arguments.length,E,h;if(p.fn){switch(p.once&&this.removeListener(y,p.fn,void 0,!0),m){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,f),!0;case 3:return p.fn.call(p.context,f,u),!0;case 4:return p.fn.call(p.context,f,u,c),!0;case 5:return p.fn.call(p.context,f,u,c,b),!0;case 6:return p.fn.call(p.context,f,u,c,b,d),!0}for(h=1,E=new Array(m-1);h<m;h++)E[h-1]=arguments[h];p.fn.apply(p.context,E)}else{var P=p.length,I;for(h=0;h<P;h++)switch(p[h].once&&this.removeListener(y,p[h].fn,void 0,!0),m){case 1:p[h].fn.call(p[h].context);break;case 2:p[h].fn.call(p[h].context,f);break;case 3:p[h].fn.call(p[h].context,f,u);break;case 4:p[h].fn.call(p[h].context,f,u,c);break;default:if(!E)for(I=1,E=new Array(m-1);I<m;I++)E[I-1]=arguments[I];p[h].fn.apply(p[h].context,E)}}return!0},x.prototype.on=function(y,f,u){var c=new T(f,u||this),b=_?_+y:y;return this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],c]:this._events[b].push(c):(this._events[b]=c,this._eventsCount++),this},x.prototype.once=function(y,f,u){var c=new T(f,u||this,!0),b=_?_+y:y;return this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],c]:this._events[b].push(c):(this._events[b]=c,this._eventsCount++),this},x.prototype.removeListener=function(y,f,u,c){var b=_?_+y:y;if(!this._events[b])return this;if(!f)return--this._eventsCount===0?this._events=new g:delete this._events[b],this;var d=this._events[b];if(d.fn)d.fn===f&&(!c||d.once)&&(!u||d.context===u)&&(--this._eventsCount===0?this._events=new g:delete this._events[b]);else{for(var v=0,p=[],m=d.length;v<m;v++)(d[v].fn!==f||c&&!d[v].once||u&&d[v].context!==u)&&p.push(d[v]);p.length?this._events[b]=p.length===1?p[0]:p:--this._eventsCount===0?this._events=new g:delete this._events[b]}return this},x.prototype.removeAllListeners=function(y){var f;return y?(f=_?_+y:y,this._events[f]&&(--this._eventsCount===0?this._events=new g:delete this._events[f])):(this._events=new g,this._eventsCount=0),this},x.prototype.off=x.prototype.removeListener,x.prototype.addListener=x.prototype.on,x.prototype.setMaxListeners=function(){return this},x.prefixed=_,x.EventEmitter=x,typeof o<"u"&&(o.exports=x)},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.matchText=i.matchSpacing=i.matchNewline=i.matchBlot=i.matchAttributor=i.default=void 0;var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ot){return typeof ot}:function(ot){return ot&&typeof Symbol=="function"&&ot.constructor===Symbol&&ot!==Symbol.prototype?"symbol":typeof ot},g=function(){function ot(at,ft){var ht=[],ut=!0,Tt=!1,wt=void 0;try{for(var Et=at[Symbol.iterator](),qt;!(ut=(qt=Et.next()).done)&&(ht.push(qt.value),!(ft&&ht.length===ft));ut=!0);}catch(te){Tt=!0,wt=te}finally{try{!ut&&Et.return&&Et.return()}finally{if(Tt)throw wt}}return ht}return function(at,ft){if(Array.isArray(at))return at;if(Symbol.iterator in Object(at))return ot(at,ft);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T=function(){function ot(at,ft){for(var ht=0;ht<ft.length;ht++){var ut=ft[ht];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(at,ut.key,ut)}}return function(at,ft,ht){return ft&&ot(at.prototype,ft),ht&&ot(at,ht),at}}(),x=s(3),O=N(x),y=s(2),f=N(y),u=s(0),c=N(u),b=s(5),d=N(b),v=s(10),p=N(v),m=s(9),E=N(m),h=s(36),P=s(37),I=s(13),R=N(I),M=s(26),z=s(38),k=s(39),S=s(40);function N(ot){return ot&&ot.__esModule?ot:{default:ot}}function D(ot,at,ft){return at in ot?Object.defineProperty(ot,at,{value:ft,enumerable:!0,configurable:!0,writable:!0}):ot[at]=ft,ot}function q(ot,at){if(!(ot instanceof at))throw new TypeError("Cannot call a class as a function")}function Z(ot,at){if(!ot)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return at&&(typeof at=="object"||typeof at=="function")?at:ot}function X(ot,at){if(typeof at!="function"&&at!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof at);ot.prototype=Object.create(at&&at.prototype,{constructor:{value:ot,enumerable:!1,writable:!0,configurable:!0}}),at&&(Object.setPrototypeOf?Object.setPrototypeOf(ot,at):ot.__proto__=at)}var J=(0,p.default)("quill:clipboard"),nt="__ql-matcher",Y=[[Node.TEXT_NODE,jt],[Node.TEXT_NODE,Ot],["br",dt],[Node.ELEMENT_NODE,Ot],[Node.ELEMENT_NODE,st],[Node.ELEMENT_NODE,kt],[Node.ELEMENT_NODE,et],[Node.ELEMENT_NODE,Ut],["li",bt],["b",tt.bind(tt,"bold")],["i",tt.bind(tt,"italic")],["style",_t]],F=[h.AlignAttribute,z.DirectionAttribute].reduce(function(ot,at){return ot[at.keyName]=at,ot},{}),C=[h.AlignStyle,P.BackgroundStyle,M.ColorStyle,z.DirectionStyle,k.FontStyle,S.SizeStyle].reduce(function(ot,at){return ot[at.keyName]=at,ot},{}),U=function(ot){X(at,ot);function at(ft,ht){q(this,at);var ut=Z(this,(at.__proto__||Object.getPrototypeOf(at)).call(this,ft,ht));return ut.quill.root.addEventListener("paste",ut.onPaste.bind(ut)),ut.container=ut.quill.addContainer("ql-clipboard"),ut.container.setAttribute("contenteditable",!0),ut.container.setAttribute("tabindex",-1),ut.matchers=[],Y.concat(ut.options.matchers).forEach(function(Tt){var wt=g(Tt,2),Et=wt[0],qt=wt[1];!ht.matchVisual&&qt===kt||ut.addMatcher(Et,qt)}),ut}return T(at,[{key:"addMatcher",value:function(ht,ut){this.matchers.push([ht,ut])}},{key:"convert",value:function(ht){if(typeof ht=="string")return this.container.innerHTML=ht.replace(/\>\r?\n +\</g,"><"),this.convert();var ut=this.quill.getFormat(this.quill.selection.savedRange.index);if(ut[R.default.blotName]){var Tt=this.container.innerText;return this.container.innerHTML="",new f.default().insert(Tt,D({},R.default.blotName,ut[R.default.blotName]))}var wt=this.prepareMatching(),Et=g(wt,2),qt=Et[0],te=Et[1],Mt=G(this.container,qt,te);return W(Mt,`
`)&&Mt.ops[Mt.ops.length-1].attributes==null&&(Mt=Mt.compose(new f.default().retain(Mt.length()-1).delete(1))),J.log("convert",this.container.innerHTML,Mt),this.container.innerHTML="",Mt}},{key:"dangerouslyPasteHTML",value:function(ht,ut){var Tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.default.sources.API;if(typeof ht=="string")this.quill.setContents(this.convert(ht),ut),this.quill.setSelection(0,d.default.sources.SILENT);else{var wt=this.convert(ut);this.quill.updateContents(new f.default().retain(ht).concat(wt),Tt),this.quill.setSelection(ht+wt.length(),d.default.sources.SILENT)}}},{key:"onPaste",value:function(ht){var ut=this;if(!(ht.defaultPrevented||!this.quill.isEnabled())){var Tt=this.quill.getSelection(),wt=new f.default().retain(Tt.index),Et=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(d.default.sources.SILENT),setTimeout(function(){wt=wt.concat(ut.convert()).delete(Tt.length),ut.quill.updateContents(wt,d.default.sources.USER),ut.quill.setSelection(wt.length()-Tt.length,d.default.sources.SILENT),ut.quill.scrollingContainer.scrollTop=Et,ut.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ht=this,ut=[],Tt=[];return this.matchers.forEach(function(wt){var Et=g(wt,2),qt=Et[0],te=Et[1];switch(qt){case Node.TEXT_NODE:Tt.push(te);break;case Node.ELEMENT_NODE:ut.push(te);break;default:[].forEach.call(ht.container.querySelectorAll(qt),function(Mt){Mt[nt]=Mt[nt]||[],Mt[nt].push(te)});break}}),[ut,Tt]}}]),at}(E.default);U.DEFAULTS={matchers:[],matchVisual:!0};function H(ot,at,ft){return(typeof at>"u"?"undefined":_(at))==="object"?Object.keys(at).reduce(function(ht,ut){return H(ht,ut,at[ut])},ot):ot.reduce(function(ht,ut){return ut.attributes&&ut.attributes[at]?ht.push(ut):ht.insert(ut.insert,(0,O.default)({},D({},at,ft),ut.attributes))},new f.default)}function V(ot){if(ot.nodeType!==Node.ELEMENT_NODE)return{};var at="__ql-computed-style";return ot[at]||(ot[at]=window.getComputedStyle(ot))}function W(ot,at){for(var ft="",ht=ot.ops.length-1;ht>=0&&ft.length<at.length;--ht){var ut=ot.ops[ht];if(typeof ut.insert!="string")break;ft=ut.insert+ft}return ft.slice(-1*at.length)===at}function B(ot){if(ot.childNodes.length===0)return!1;var at=V(ot);return["block","list-item"].indexOf(at.display)>-1}function G(ot,at,ft){return ot.nodeType===ot.TEXT_NODE?ft.reduce(function(ht,ut){return ut(ot,ht)},new f.default):ot.nodeType===ot.ELEMENT_NODE?[].reduce.call(ot.childNodes||[],function(ht,ut){var Tt=G(ut,at,ft);return ut.nodeType===ot.ELEMENT_NODE&&(Tt=at.reduce(function(wt,Et){return Et(ut,wt)},Tt),Tt=(ut[nt]||[]).reduce(function(wt,Et){return Et(ut,wt)},Tt)),ht.concat(Tt)},new f.default):new f.default}function tt(ot,at,ft){return H(ft,ot,!0)}function et(ot,at){var ft=c.default.Attributor.Attribute.keys(ot),ht=c.default.Attributor.Class.keys(ot),ut=c.default.Attributor.Style.keys(ot),Tt={};return ft.concat(ht).concat(ut).forEach(function(wt){var Et=c.default.query(wt,c.default.Scope.ATTRIBUTE);Et!=null&&(Tt[Et.attrName]=Et.value(ot),Tt[Et.attrName])||(Et=F[wt],Et!=null&&(Et.attrName===wt||Et.keyName===wt)&&(Tt[Et.attrName]=Et.value(ot)||void 0),Et=C[wt],Et!=null&&(Et.attrName===wt||Et.keyName===wt)&&(Et=C[wt],Tt[Et.attrName]=Et.value(ot)||void 0))}),Object.keys(Tt).length>0&&(at=H(at,Tt)),at}function st(ot,at){var ft=c.default.query(ot);if(ft==null)return at;if(ft.prototype instanceof c.default.Embed){var ht={},ut=ft.value(ot);ut!=null&&(ht[ft.blotName]=ut,at=new f.default().insert(ht,ft.formats(ot)))}else typeof ft.formats=="function"&&(at=H(at,ft.blotName,ft.formats(ot)));return at}function dt(ot,at){return W(at,`
`)||at.insert(`
`),at}function _t(){return new f.default}function bt(ot,at){var ft=c.default.query(ot);if(ft==null||ft.blotName!=="list-item"||!W(at,`
`))return at;for(var ht=-1,ut=ot.parentNode;!ut.classList.contains("ql-clipboard");)(c.default.query(ut)||{}).blotName==="list"&&(ht+=1),ut=ut.parentNode;return ht<=0?at:at.compose(new f.default().retain(at.length()-1).retain(1,{indent:ht}))}function Ot(ot,at){return W(at,`
`)||(B(ot)||at.length()>0&&ot.nextSibling&&B(ot.nextSibling))&&at.insert(`
`),at}function kt(ot,at){if(B(ot)&&ot.nextElementSibling!=null&&!W(at,`

`)){var ft=ot.offsetHeight+parseFloat(V(ot).marginTop)+parseFloat(V(ot).marginBottom);ot.nextElementSibling.offsetTop>ot.offsetTop+ft*1.5&&at.insert(`
`)}return at}function Ut(ot,at){var ft={},ht=ot.style||{};return ht.fontStyle&&V(ot).fontStyle==="italic"&&(ft.italic=!0),ht.fontWeight&&(V(ot).fontWeight.startsWith("bold")||parseInt(V(ot).fontWeight)>=700)&&(ft.bold=!0),Object.keys(ft).length>0&&(at=H(at,ft)),parseFloat(ht.textIndent||0)>0&&(at=new f.default().insert("	").concat(at)),at}function jt(ot,at){var ft=ot.data;if(ot.parentNode.tagName==="O:P")return at.insert(ft.trim());if(ft.trim().length===0&&ot.parentNode.classList.contains("ql-clipboard"))return at;if(!V(ot.parentNode).whiteSpace.startsWith("pre")){var ht=function(Tt,wt){return wt=wt.replace(/[^\u00a0]/g,""),wt.length<1&&Tt?" ":wt};ft=ft.replace(/\r\n/g," ").replace(/\n/g," "),ft=ft.replace(/\s\s+/g,ht.bind(ht,!0)),(ot.previousSibling==null&&B(ot.parentNode)||ot.previousSibling!=null&&B(ot.previousSibling))&&(ft=ft.replace(/^\s+/,ht.bind(ht,!1))),(ot.nextSibling==null&&B(ot.parentNode)||ot.nextSibling!=null&&B(ot.nextSibling))&&(ft=ft.replace(/\s+$/,ht.bind(ht,!1)))}return at.insert(ft)}i.default=U,i.matchAttributor=et,i.matchBlot=st,i.matchNewline=Ot,i.matchSpacing=kt,i.matchText=jt},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=function(){function b(d,v){for(var p=0;p<v.length;p++){var m=v[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,v,p){return v&&b(d.prototype,v),p&&b(d,p),d}}(),g=function b(d,v,p){d===null&&(d=Function.prototype);var m=Object.getOwnPropertyDescriptor(d,v);if(m===void 0){var E=Object.getPrototypeOf(d);return E===null?void 0:b(E,v,p)}else{if("value"in m)return m.value;var h=m.get;return h===void 0?void 0:h.call(p)}},T=s(6),x=O(T);function O(b){return b&&b.__esModule?b:{default:b}}function y(b,d){if(!(b instanceof d))throw new TypeError("Cannot call a class as a function")}function f(b,d){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:b}function u(b,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}var c=function(b){u(d,b);function d(){return y(this,d),f(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return _(d,[{key:"optimize",value:function(p){g(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"optimize",this).call(this,p),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return g(d.__proto__||Object.getPrototypeOf(d),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),d}(x.default);c.blotName="bold",c.tagName=["STRONG","B"],i.default=c},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.addControls=i.default=void 0;var _=function(){function S(N,D){var q=[],Z=!0,X=!1,J=void 0;try{for(var nt=N[Symbol.iterator](),Y;!(Z=(Y=nt.next()).done)&&(q.push(Y.value),!(D&&q.length===D));Z=!0);}catch(F){X=!0,J=F}finally{try{!Z&&nt.return&&nt.return()}finally{if(X)throw J}}return q}return function(N,D){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return S(N,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function S(N,D){for(var q=0;q<D.length;q++){var Z=D[q];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(N,Z.key,Z)}}return function(N,D,q){return D&&S(N.prototype,D),q&&S(N,q),N}}(),T=s(2),x=p(T),O=s(0),y=p(O),f=s(5),u=p(f),c=s(10),b=p(c),d=s(9),v=p(d);function p(S){return S&&S.__esModule?S:{default:S}}function m(S,N,D){return N in S?Object.defineProperty(S,N,{value:D,enumerable:!0,configurable:!0,writable:!0}):S[N]=D,S}function E(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")}function h(S,N){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:S}function P(S,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);S.prototype=Object.create(N&&N.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(S,N):S.__proto__=N)}var I=(0,b.default)("quill:toolbar"),R=function(S){P(N,S);function N(D,q){E(this,N);var Z=h(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,D,q));if(Array.isArray(Z.options.container)){var X=document.createElement("div");z(X,Z.options.container),D.container.parentNode.insertBefore(X,D.container),Z.container=X}else typeof Z.options.container=="string"?Z.container=document.querySelector(Z.options.container):Z.container=Z.options.container;if(!(Z.container instanceof HTMLElement)){var J;return J=I.error("Container required for toolbar",Z.options),h(Z,J)}return Z.container.classList.add("ql-toolbar"),Z.controls=[],Z.handlers={},Object.keys(Z.options.handlers).forEach(function(nt){Z.addHandler(nt,Z.options.handlers[nt])}),[].forEach.call(Z.container.querySelectorAll("button, select"),function(nt){Z.attach(nt)}),Z.quill.on(u.default.events.EDITOR_CHANGE,function(nt,Y){nt===u.default.events.SELECTION_CHANGE&&Z.update(Y)}),Z.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){var nt=Z.quill.selection.getRange(),Y=_(nt,1),F=Y[0];Z.update(F)}),Z}return g(N,[{key:"addHandler",value:function(q,Z){this.handlers[q]=Z}},{key:"attach",value:function(q){var Z=this,X=[].find.call(q.classList,function(nt){return nt.indexOf("ql-")===0});if(X){if(X=X.slice(3),q.tagName==="BUTTON"&&q.setAttribute("type","button"),this.handlers[X]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[X]==null){I.warn("ignoring attaching to disabled format",X,q);return}if(y.default.query(X)==null){I.warn("ignoring attaching to nonexistent format",X,q);return}}var J=q.tagName==="SELECT"?"change":"click";q.addEventListener(J,function(nt){var Y=void 0;if(q.tagName==="SELECT"){if(q.selectedIndex<0)return;var F=q.options[q.selectedIndex];F.hasAttribute("selected")?Y=!1:Y=F.value||!1}else q.classList.contains("ql-active")?Y=!1:Y=q.value||!q.hasAttribute("value"),nt.preventDefault();Z.quill.focus();var C=Z.quill.selection.getRange(),U=_(C,1),H=U[0];if(Z.handlers[X]!=null)Z.handlers[X].call(Z,Y);else if(y.default.query(X).prototype instanceof y.default.Embed){if(Y=prompt("Enter "+X),!Y)return;Z.quill.updateContents(new x.default().retain(H.index).delete(H.length).insert(m({},X,Y)),u.default.sources.USER)}else Z.quill.format(X,Y,u.default.sources.USER);Z.update(H)}),this.controls.push([X,q])}}},{key:"update",value:function(q){var Z=q==null?{}:this.quill.getFormat(q);this.controls.forEach(function(X){var J=_(X,2),nt=J[0],Y=J[1];if(Y.tagName==="SELECT"){var F=void 0;if(q==null)F=null;else if(Z[nt]==null)F=Y.querySelector("option[selected]");else if(!Array.isArray(Z[nt])){var C=Z[nt];typeof C=="string"&&(C=C.replace(/\"/g,'\\"')),F=Y.querySelector('option[value="'+C+'"]')}F==null?(Y.value="",Y.selectedIndex=-1):F.selected=!0}else if(q==null)Y.classList.remove("ql-active");else if(Y.hasAttribute("value")){var U=Z[nt]===Y.getAttribute("value")||Z[nt]!=null&&Z[nt].toString()===Y.getAttribute("value")||Z[nt]==null&&!Y.getAttribute("value");Y.classList.toggle("ql-active",U)}else Y.classList.toggle("ql-active",Z[nt]!=null)})}}]),N}(v.default);R.DEFAULTS={};function M(S,N,D){var q=document.createElement("button");q.setAttribute("type","button"),q.classList.add("ql-"+N),D!=null&&(q.value=D),S.appendChild(q)}function z(S,N){Array.isArray(N[0])||(N=[N]),N.forEach(function(D){var q=document.createElement("span");q.classList.add("ql-formats"),D.forEach(function(Z){if(typeof Z=="string")M(q,Z);else{var X=Object.keys(Z)[0],J=Z[X];Array.isArray(J)?k(q,X,J):M(q,X,J)}}),S.appendChild(q)})}function k(S,N,D){var q=document.createElement("select");q.classList.add("ql-"+N),D.forEach(function(Z){var X=document.createElement("option");Z!==!1?X.setAttribute("value",Z):X.setAttribute("selected","selected"),q.appendChild(X)}),S.appendChild(q)}R.DEFAULTS={container:null,handlers:{clean:function(){var N=this,D=this.quill.getSelection();if(D!=null)if(D.length==0){var q=this.quill.getFormat();Object.keys(q).forEach(function(Z){y.default.query(Z,y.default.Scope.INLINE)!=null&&N.quill.format(Z,!1)})}else this.quill.removeFormat(D,u.default.sources.USER)},direction:function(N){var D=this.quill.getFormat().align;N==="rtl"&&D==null?this.quill.format("align","right",u.default.sources.USER):!N&&D==="right"&&this.quill.format("align",!1,u.default.sources.USER),this.quill.format("direction",N,u.default.sources.USER)},indent:function(N){var D=this.quill.getSelection(),q=this.quill.getFormat(D),Z=parseInt(q.indent||0);if(N==="+1"||N==="-1"){var X=N==="+1"?1:-1;q.direction==="rtl"&&(X*=-1),this.quill.format("indent",Z+X,u.default.sources.USER)}},link:function(N){N===!0&&(N=prompt("Enter link URL:")),this.quill.format("link",N,u.default.sources.USER)},list:function(N){var D=this.quill.getSelection(),q=this.quill.getFormat(D);N==="check"?q.list==="checked"||q.list==="unchecked"?this.quill.format("list",!1,u.default.sources.USER):this.quill.format("list","unchecked",u.default.sources.USER):this.quill.format("list",N,u.default.sources.USER)}}},i.default=R,i.addControls=z},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=function(){function b(d,v){for(var p=0;p<v.length;p++){var m=v[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,v,p){return v&&b(d.prototype,v),p&&b(d,p),d}}(),g=function b(d,v,p){d===null&&(d=Function.prototype);var m=Object.getOwnPropertyDescriptor(d,v);if(m===void 0){var E=Object.getPrototypeOf(d);return E===null?void 0:b(E,v,p)}else{if("value"in m)return m.value;var h=m.get;return h===void 0?void 0:h.call(p)}},T=s(28),x=O(T);function O(b){return b&&b.__esModule?b:{default:b}}function y(b,d){if(!(b instanceof d))throw new TypeError("Cannot call a class as a function")}function f(b,d){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:b}function u(b,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}var c=function(b){u(d,b);function d(v,p){y(this,d);var m=f(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,v));return m.label.innerHTML=p,m.container.classList.add("ql-color-picker"),[].slice.call(m.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(E){E.classList.add("ql-primary")}),m}return _(d,[{key:"buildItem",value:function(p){var m=g(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"buildItem",this).call(this,p);return m.style.backgroundColor=p.getAttribute("value")||"",m}},{key:"selectItem",value:function(p,m){g(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"selectItem",this).call(this,p,m);var E=this.label.querySelector(".ql-color-label"),h=p&&p.getAttribute("data-value")||"";E&&(E.tagName==="line"?E.style.stroke=h:E.style.fill=h)}}]),d}(x.default);i.default=c},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=function(){function b(d,v){for(var p=0;p<v.length;p++){var m=v[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,v,p){return v&&b(d.prototype,v),p&&b(d,p),d}}(),g=function b(d,v,p){d===null&&(d=Function.prototype);var m=Object.getOwnPropertyDescriptor(d,v);if(m===void 0){var E=Object.getPrototypeOf(d);return E===null?void 0:b(E,v,p)}else{if("value"in m)return m.value;var h=m.get;return h===void 0?void 0:h.call(p)}},T=s(28),x=O(T);function O(b){return b&&b.__esModule?b:{default:b}}function y(b,d){if(!(b instanceof d))throw new TypeError("Cannot call a class as a function")}function f(b,d){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:b}function u(b,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}var c=function(b){u(d,b);function d(v,p){y(this,d);var m=f(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,v));return m.container.classList.add("ql-icon-picker"),[].forEach.call(m.container.querySelectorAll(".ql-picker-item"),function(E){E.innerHTML=p[E.getAttribute("data-value")||""]}),m.defaultItem=m.container.querySelector(".ql-selected"),m.selectItem(m.defaultItem),m}return _(d,[{key:"selectItem",value:function(p,m){g(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"selectItem",this).call(this,p,m),p=p||this.defaultItem,this.label.innerHTML=p.innerHTML}}]),d}(x.default);i.default=c},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=function(){function x(O,y){for(var f=0;f<y.length;f++){var u=y[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(O,u.key,u)}}return function(O,y,f){return y&&x(O.prototype,y),f&&x(O,f),O}}();function g(x,O){if(!(x instanceof O))throw new TypeError("Cannot call a class as a function")}var T=function(){function x(O,y){var f=this;g(this,x),this.quill=O,this.boundsContainer=y||document.body,this.root=O.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return _(x,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(y){var f=y.left+y.width/2-this.root.offsetWidth/2,u=y.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=u+"px",this.root.classList.remove("ql-flip");var c=this.boundsContainer.getBoundingClientRect(),b=this.root.getBoundingClientRect(),d=0;if(b.right>c.right&&(d=c.right-b.right,this.root.style.left=f+d+"px"),b.left<c.left&&(d=c.left-b.left,this.root.style.left=f+d+"px"),b.bottom>c.bottom){var v=b.bottom-b.top,p=y.bottom-y.top+v;this.root.style.top=u-p+"px",this.root.classList.add("ql-flip")}return d}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),x}();i.default=T},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=function(){function k(S,N){var D=[],q=!0,Z=!1,X=void 0;try{for(var J=S[Symbol.iterator](),nt;!(q=(nt=J.next()).done)&&(D.push(nt.value),!(N&&D.length===N));q=!0);}catch(Y){Z=!0,X=Y}finally{try{!q&&J.return&&J.return()}finally{if(Z)throw X}}return D}return function(S,N){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return k(S,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function k(S,N,D){S===null&&(S=Function.prototype);var q=Object.getOwnPropertyDescriptor(S,N);if(q===void 0){var Z=Object.getPrototypeOf(S);return Z===null?void 0:k(Z,N,D)}else{if("value"in q)return q.value;var X=q.get;return X===void 0?void 0:X.call(D)}},T=function(){function k(S,N){for(var D=0;D<N.length;D++){var q=N[D];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(S,q.key,q)}}return function(S,N,D){return N&&k(S.prototype,N),D&&k(S,D),S}}(),x=s(3),O=E(x),y=s(8),f=E(y),u=s(43),c=E(u),b=s(27),d=E(b),v=s(15),p=s(41),m=E(p);function E(k){return k&&k.__esModule?k:{default:k}}function h(k,S){if(!(k instanceof S))throw new TypeError("Cannot call a class as a function")}function P(k,S){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:k}function I(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(k,S):k.__proto__=S)}var R=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],M=function(k){I(S,k);function S(N,D){h(this,S),D.modules.toolbar!=null&&D.modules.toolbar.container==null&&(D.modules.toolbar.container=R);var q=P(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,N,D));return q.quill.container.classList.add("ql-snow"),q}return T(S,[{key:"extendToolbar",value:function(D){D.container.classList.add("ql-snow"),this.buildButtons([].slice.call(D.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(D.container.querySelectorAll("select")),m.default),this.tooltip=new z(this.quill,this.options.bounds),D.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(q,Z){D.handlers.link.call(D,!Z.format.link)})}}]),S}(c.default);M.DEFAULTS=(0,O.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){if(S){var N=this.quill.getSelection();if(N==null||N.length==0)return;var D=this.quill.getText(N);/^\S+@\S+\.\S+$/.test(D)&&D.indexOf("mailto:")!==0&&(D="mailto:"+D);var q=this.quill.theme.tooltip;q.edit("link",D)}else this.quill.format("link",!1)}}}}});var z=function(k){I(S,k);function S(N,D){h(this,S);var q=P(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,N,D));return q.preview=q.root.querySelector("a.ql-preview"),q}return T(S,[{key:"listen",value:function(){var D=this;g(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(q){D.root.classList.contains("ql-editing")?D.save():D.edit("link",D.preview.textContent),q.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(q){if(D.linkRange!=null){var Z=D.linkRange;D.restoreFocus(),D.quill.formatText(Z,"link",!1,f.default.sources.USER),delete D.linkRange}q.preventDefault(),D.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(q,Z,X){if(q!=null){if(q.length===0&&X===f.default.sources.USER){var J=D.quill.scroll.descendant(d.default,q.index),nt=_(J,2),Y=nt[0],F=nt[1];if(Y!=null){D.linkRange=new v.Range(q.index-F,Y.length());var C=d.default.formats(Y.domNode);D.preview.textContent=C,D.preview.setAttribute("href",C),D.show(),D.position(D.quill.getBounds(D.linkRange));return}}else delete D.linkRange;D.hide()}})}},{key:"show",value:function(){g(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),S}(u.BaseTooltip);z.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),i.default=M},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=s(29),g=ut(_),T=s(36),x=s(38),O=s(64),y=s(65),f=ut(y),u=s(66),c=ut(u),b=s(67),d=ut(b),v=s(37),p=s(26),m=s(39),E=s(40),h=s(56),P=ut(h),I=s(68),R=ut(I),M=s(27),z=ut(M),k=s(69),S=ut(k),N=s(70),D=ut(N),q=s(71),Z=ut(q),X=s(72),J=ut(X),nt=s(73),Y=ut(nt),F=s(13),C=ut(F),U=s(74),H=ut(U),V=s(75),W=ut(V),B=s(57),G=ut(B),tt=s(41),et=ut(tt),st=s(28),dt=ut(st),_t=s(59),bt=ut(_t),Ot=s(60),kt=ut(Ot),Ut=s(61),jt=ut(Ut),ot=s(108),at=ut(ot),ft=s(62),ht=ut(ft);function ut(Tt){return Tt&&Tt.__esModule?Tt:{default:Tt}}g.default.register({"attributors/attribute/direction":x.DirectionAttribute,"attributors/class/align":T.AlignClass,"attributors/class/background":v.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":x.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":E.SizeClass,"attributors/style/align":T.AlignStyle,"attributors/style/background":v.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":x.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":E.SizeStyle},!0),g.default.register({"formats/align":T.AlignClass,"formats/direction":x.DirectionClass,"formats/indent":O.IndentClass,"formats/background":v.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":m.FontClass,"formats/size":E.SizeClass,"formats/blockquote":f.default,"formats/code-block":C.default,"formats/header":c.default,"formats/list":d.default,"formats/bold":P.default,"formats/code":F.Code,"formats/italic":R.default,"formats/link":z.default,"formats/script":S.default,"formats/strike":D.default,"formats/underline":Z.default,"formats/image":J.default,"formats/video":Y.default,"formats/list/item":b.ListItem,"modules/formula":H.default,"modules/syntax":W.default,"modules/toolbar":G.default,"themes/bubble":at.default,"themes/snow":ht.default,"ui/icons":et.default,"ui/picker":dt.default,"ui/icon-picker":kt.default,"ui/color-picker":bt.default,"ui/tooltip":jt.default},!0),i.default=g.default},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.IndentClass=void 0;var _=function(){function d(v,p){for(var m=0;m<p.length;m++){var E=p[m];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}return function(v,p,m){return p&&d(v.prototype,p),m&&d(v,m),v}}(),g=function d(v,p,m){v===null&&(v=Function.prototype);var E=Object.getOwnPropertyDescriptor(v,p);if(E===void 0){var h=Object.getPrototypeOf(v);return h===null?void 0:d(h,p,m)}else{if("value"in E)return E.value;var P=E.get;return P===void 0?void 0:P.call(m)}},T=s(0),x=O(T);function O(d){return d&&d.__esModule?d:{default:d}}function y(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}function f(d,v){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:d}function u(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);d.prototype=Object.create(v&&v.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(d,v):d.__proto__=v)}var c=function(d){u(v,d);function v(){return y(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return _(v,[{key:"add",value:function(m,E){if(E==="+1"||E==="-1"){var h=this.value(m)||0;E=E==="+1"?h+1:h-1}return E===0?(this.remove(m),!0):g(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"add",this).call(this,m,E)}},{key:"canAdd",value:function(m,E){return g(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,m,E)||g(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,m,parseInt(E))}},{key:"value",value:function(m){return parseInt(g(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,m))||void 0}}]),v}(x.default.Attributor.Class),b=new c("indent","ql-indent",{scope:x.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});i.IndentClass=b},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=s(4),g=T(_);function T(u){return u&&u.__esModule?u:{default:u}}function x(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function O(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:u}function y(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}var f=function(u){y(c,u);function c(){return x(this,c),O(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return c}(g.default);f.blotName="blockquote",f.tagName="blockquote",i.default=f},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=function(){function c(b,d){for(var v=0;v<d.length;v++){var p=d[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(b,p.key,p)}}return function(b,d,v){return d&&c(b.prototype,d),v&&c(b,v),b}}(),g=s(4),T=x(g);function x(c){return c&&c.__esModule?c:{default:c}}function O(c,b){if(!(c instanceof b))throw new TypeError("Cannot call a class as a function")}function y(c,b){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:c}function f(c,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}var u=function(c){f(b,c);function b(){return O(this,b),y(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return _(b,null,[{key:"formats",value:function(v){return this.tagName.indexOf(v.tagName)+1}}]),b}(T.default);u.blotName="header",u.tagName=["H1","H2","H3","H4","H5","H6"],i.default=u},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.ListItem=void 0;var _=function(){function h(P,I){for(var R=0;R<I.length;R++){var M=I[R];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(P,M.key,M)}}return function(P,I,R){return I&&h(P.prototype,I),R&&h(P,R),P}}(),g=function h(P,I,R){P===null&&(P=Function.prototype);var M=Object.getOwnPropertyDescriptor(P,I);if(M===void 0){var z=Object.getPrototypeOf(P);return z===null?void 0:h(z,I,R)}else{if("value"in M)return M.value;var k=M.get;return k===void 0?void 0:k.call(R)}},T=s(0),x=c(T),O=s(4),y=c(O),f=s(25),u=c(f);function c(h){return h&&h.__esModule?h:{default:h}}function b(h,P,I){return P in h?Object.defineProperty(h,P,{value:I,enumerable:!0,configurable:!0,writable:!0}):h[P]=I,h}function d(h,P){if(!(h instanceof P))throw new TypeError("Cannot call a class as a function")}function v(h,P){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:h}function p(h,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);h.prototype=Object.create(P&&P.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(h,P):h.__proto__=P)}var m=function(h){p(P,h);function P(){return d(this,P),v(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return _(P,[{key:"format",value:function(R,M){R===E.blotName&&!M?this.replaceWith(x.default.create(this.statics.scope)):g(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"format",this).call(this,R,M)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():g(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(R,M){return this.parent.isolate(this.offset(this.parent),this.length()),R===this.parent.statics.blotName?(this.parent.replaceWith(R,M),this):(this.parent.unwrap(),g(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replaceWith",this).call(this,R,M))}}],[{key:"formats",value:function(R){return R.tagName===this.tagName?void 0:g(P.__proto__||Object.getPrototypeOf(P),"formats",this).call(this,R)}}]),P}(y.default);m.blotName="list-item",m.tagName="LI";var E=function(h){p(P,h),_(P,null,[{key:"create",value:function(R){var M=R==="ordered"?"OL":"UL",z=g(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this,M);return(R==="checked"||R==="unchecked")&&z.setAttribute("data-checked",R==="checked"),z}},{key:"formats",value:function(R){if(R.tagName==="OL")return"ordered";if(R.tagName==="UL")return R.hasAttribute("data-checked")?R.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function P(I){d(this,P);var R=v(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,I)),M=function(k){if(k.target.parentNode===I){var S=R.statics.formats(I),N=x.default.find(k.target);S==="checked"?N.format("list","unchecked"):S==="unchecked"&&N.format("list","checked")}};return I.addEventListener("touchstart",M),I.addEventListener("mousedown",M),R}return _(P,[{key:"format",value:function(R,M){this.children.length>0&&this.children.tail.format(R,M)}},{key:"formats",value:function(){return b({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(R,M){if(R instanceof m)g(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,R,M);else{var z=M==null?this.length():M.offset(this),k=this.split(z);k.parent.insertBefore(R,k)}}},{key:"optimize",value:function(R){g(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,R);var M=this.next;M!=null&&M.prev===this&&M.statics.blotName===this.statics.blotName&&M.domNode.tagName===this.domNode.tagName&&M.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(M.moveChildren(this),M.remove())}},{key:"replace",value:function(R){if(R.statics.blotName!==this.statics.blotName){var M=x.default.create(this.statics.defaultChild);R.moveChildren(M),this.appendChild(M)}g(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replace",this).call(this,R)}}]),P}(u.default);E.blotName="list",E.scope=x.default.Scope.BLOCK_BLOT,E.tagName=["OL","UL"],E.defaultChild="list-item",E.allowedChildren=[m],i.ListItem=m,i.default=E},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=s(56),g=T(_);function T(u){return u&&u.__esModule?u:{default:u}}function x(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function O(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:u}function y(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}var f=function(u){y(c,u);function c(){return x(this,c),O(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return c}(g.default);f.blotName="italic",f.tagName=["EM","I"],i.default=f},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=function(){function b(d,v){for(var p=0;p<v.length;p++){var m=v[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,v,p){return v&&b(d.prototype,v),p&&b(d,p),d}}(),g=function b(d,v,p){d===null&&(d=Function.prototype);var m=Object.getOwnPropertyDescriptor(d,v);if(m===void 0){var E=Object.getPrototypeOf(d);return E===null?void 0:b(E,v,p)}else{if("value"in m)return m.value;var h=m.get;return h===void 0?void 0:h.call(p)}},T=s(6),x=O(T);function O(b){return b&&b.__esModule?b:{default:b}}function y(b,d){if(!(b instanceof d))throw new TypeError("Cannot call a class as a function")}function f(b,d){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:b}function u(b,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}var c=function(b){u(d,b);function d(){return y(this,d),f(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return _(d,null,[{key:"create",value:function(p){return p==="super"?document.createElement("sup"):p==="sub"?document.createElement("sub"):g(d.__proto__||Object.getPrototypeOf(d),"create",this).call(this,p)}},{key:"formats",value:function(p){if(p.tagName==="SUB")return"sub";if(p.tagName==="SUP")return"super"}}]),d}(x.default);c.blotName="script",c.tagName=["SUB","SUP"],i.default=c},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=s(6),g=T(_);function T(u){return u&&u.__esModule?u:{default:u}}function x(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function O(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:u}function y(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}var f=function(u){y(c,u);function c(){return x(this,c),O(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return c}(g.default);f.blotName="strike",f.tagName="S",i.default=f},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=s(6),g=T(_);function T(u){return u&&u.__esModule?u:{default:u}}function x(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function O(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:u}function y(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}var f=function(u){y(c,u);function c(){return x(this,c),O(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return c}(g.default);f.blotName="underline",f.tagName="U",i.default=f},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=function(){function v(p,m){for(var E=0;E<m.length;E++){var h=m[E];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(p,h.key,h)}}return function(p,m,E){return m&&v(p.prototype,m),E&&v(p,E),p}}(),g=function v(p,m,E){p===null&&(p=Function.prototype);var h=Object.getOwnPropertyDescriptor(p,m);if(h===void 0){var P=Object.getPrototypeOf(p);return P===null?void 0:v(P,m,E)}else{if("value"in h)return h.value;var I=h.get;return I===void 0?void 0:I.call(E)}},T=s(0),x=y(T),O=s(27);function y(v){return v&&v.__esModule?v:{default:v}}function f(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function u(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function c(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var b=["alt","height","width"],d=function(v){c(p,v);function p(){return f(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return _(p,[{key:"format",value:function(E,h){b.indexOf(E)>-1?h?this.domNode.setAttribute(E,h):this.domNode.removeAttribute(E):g(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,E,h)}}],[{key:"create",value:function(E){var h=g(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,E);return typeof E=="string"&&h.setAttribute("src",this.sanitize(E)),h}},{key:"formats",value:function(E){return b.reduce(function(h,P){return E.hasAttribute(P)&&(h[P]=E.getAttribute(P)),h},{})}},{key:"match",value:function(E){return/\.(jpe?g|gif|png)$/.test(E)||/^data:image\/.+;base64/.test(E)}},{key:"sanitize",value:function(E){return(0,O.sanitize)(E,["http","https","data"])?E:"//:0"}},{key:"value",value:function(E){return E.getAttribute("src")}}]),p}(x.default.Embed);d.blotName="image",d.tagName="IMG",i.default=d},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0});var _=function(){function v(p,m){for(var E=0;E<m.length;E++){var h=m[E];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(p,h.key,h)}}return function(p,m,E){return m&&v(p.prototype,m),E&&v(p,E),p}}(),g=function v(p,m,E){p===null&&(p=Function.prototype);var h=Object.getOwnPropertyDescriptor(p,m);if(h===void 0){var P=Object.getPrototypeOf(p);return P===null?void 0:v(P,m,E)}else{if("value"in h)return h.value;var I=h.get;return I===void 0?void 0:I.call(E)}},T=s(4),x=s(27),O=y(x);function y(v){return v&&v.__esModule?v:{default:v}}function f(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function u(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function c(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var b=["height","width"],d=function(v){c(p,v);function p(){return f(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return _(p,[{key:"format",value:function(E,h){b.indexOf(E)>-1?h?this.domNode.setAttribute(E,h):this.domNode.removeAttribute(E):g(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,E,h)}}],[{key:"create",value:function(E){var h=g(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,E);return h.setAttribute("frameborder","0"),h.setAttribute("allowfullscreen",!0),h.setAttribute("src",this.sanitize(E)),h}},{key:"formats",value:function(E){return b.reduce(function(h,P){return E.hasAttribute(P)&&(h[P]=E.getAttribute(P)),h},{})}},{key:"sanitize",value:function(E){return O.default.sanitize(E)}},{key:"value",value:function(E){return E.getAttribute("src")}}]),p}(T.BlockEmbed);d.blotName="video",d.className="ql-video",d.tagName="IFRAME",i.default=d},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.FormulaBlot=void 0;var _=function(){function E(h,P){for(var I=0;I<P.length;I++){var R=P[I];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(h,R.key,R)}}return function(h,P,I){return P&&E(h.prototype,P),I&&E(h,I),h}}(),g=function E(h,P,I){h===null&&(h=Function.prototype);var R=Object.getOwnPropertyDescriptor(h,P);if(R===void 0){var M=Object.getPrototypeOf(h);return M===null?void 0:E(M,P,I)}else{if("value"in R)return R.value;var z=R.get;return z===void 0?void 0:z.call(I)}},T=s(35),x=c(T),O=s(5),y=c(O),f=s(9),u=c(f);function c(E){return E&&E.__esModule?E:{default:E}}function b(E,h){if(!(E instanceof h))throw new TypeError("Cannot call a class as a function")}function d(E,h){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:E}function v(E,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);E.prototype=Object.create(h&&h.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(E,h):E.__proto__=h)}var p=function(E){v(h,E);function h(){return b(this,h),d(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return _(h,null,[{key:"create",value:function(I){var R=g(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,I);return typeof I=="string"&&(window.katex.render(I,R,{throwOnError:!1,errorColor:"#f00"}),R.setAttribute("data-value",I)),R}},{key:"value",value:function(I){return I.getAttribute("data-value")}}]),h}(x.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var m=function(E){v(h,E),_(h,null,[{key:"register",value:function(){y.default.register(p,!0)}}]);function h(){b(this,h);var P=d(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return P}return h}(u.default);i.FormulaBlot=p,i.default=m},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.CodeToken=i.CodeBlock=void 0;var _=function(){function I(R,M){for(var z=0;z<M.length;z++){var k=M[z];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(R,k.key,k)}}return function(R,M,z){return M&&I(R.prototype,M),z&&I(R,z),R}}(),g=function I(R,M,z){R===null&&(R=Function.prototype);var k=Object.getOwnPropertyDescriptor(R,M);if(k===void 0){var S=Object.getPrototypeOf(R);return S===null?void 0:I(S,M,z)}else{if("value"in k)return k.value;var N=k.get;return N===void 0?void 0:N.call(z)}},T=s(0),x=d(T),O=s(5),y=d(O),f=s(9),u=d(f),c=s(13),b=d(c);function d(I){return I&&I.__esModule?I:{default:I}}function v(I,R){if(!(I instanceof R))throw new TypeError("Cannot call a class as a function")}function p(I,R){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:I}function m(I,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}var E=function(I){m(R,I);function R(){return v(this,R),p(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return _(R,[{key:"replaceWith",value:function(z){this.domNode.textContent=this.domNode.textContent,this.attach(),g(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"replaceWith",this).call(this,z)}},{key:"highlight",value:function(z){var k=this.domNode.textContent;this.cachedText!==k&&((k.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=z(k),this.domNode.normalize(),this.attach()),this.cachedText=k)}}]),R}(b.default);E.className="ql-syntax";var h=new x.default.Attributor.Class("token","hljs",{scope:x.default.Scope.INLINE}),P=function(I){m(R,I),_(R,null,[{key:"register",value:function(){y.default.register(h,!0),y.default.register(E,!0)}}]);function R(M,z){v(this,R);var k=p(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,M,z));if(typeof k.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var S=null;return k.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(S),S=setTimeout(function(){k.highlight(),S=null},k.options.interval)}),k.highlight(),k}return _(R,[{key:"highlight",value:function(){var z=this;if(!this.quill.selection.composing){this.quill.update(y.default.sources.USER);var k=this.quill.getSelection();this.quill.scroll.descendants(E).forEach(function(S){S.highlight(z.options.highlight)}),this.quill.update(y.default.sources.SILENT),k!=null&&this.quill.setSelection(k,y.default.sources.SILENT)}}}]),R}(u.default);P.DEFAULTS={highlight:function(){return window.hljs==null?null:function(I){var R=window.hljs.highlightAuto(I);return R.value}}(),interval:1e3},i.CodeBlock=E,i.CodeToken=h,i.default=P},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(o,i){o.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(o,i){o.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(o,i){o.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(o,i){o.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(o,i){o.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(o,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BubbleTooltip=void 0;var _=function R(M,z,k){M===null&&(M=Function.prototype);var S=Object.getOwnPropertyDescriptor(M,z);if(S===void 0){var N=Object.getPrototypeOf(M);return N===null?void 0:R(N,z,k)}else{if("value"in S)return S.value;var D=S.get;return D===void 0?void 0:D.call(k)}},g=function(){function R(M,z){for(var k=0;k<z.length;k++){var S=z[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(M,S.key,S)}}return function(M,z,k){return z&&R(M.prototype,z),k&&R(M,k),M}}(),T=s(3),x=v(T),O=s(8),y=v(O),f=s(43),u=v(f),c=s(15),b=s(41),d=v(b);function v(R){return R&&R.__esModule?R:{default:R}}function p(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function m(R,M){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:R}function E(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);R.prototype=Object.create(M&&M.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(R,M):R.__proto__=M)}var h=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],P=function(R){E(M,R);function M(z,k){p(this,M),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=h);var S=m(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,z,k));return S.quill.container.classList.add("ql-bubble"),S}return g(M,[{key:"extendToolbar",value:function(k){this.tooltip=new I(this.quill,this.options.bounds),this.tooltip.root.appendChild(k.container),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),d.default)}}]),M}(u.default);P.DEFAULTS=(0,x.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(M){M?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var I=function(R){E(M,R);function M(z,k){p(this,M);var S=m(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,z,k));return S.quill.on(y.default.events.EDITOR_CHANGE,function(N,D,q,Z){if(N===y.default.events.SELECTION_CHANGE)if(D!=null&&D.length>0&&Z===y.default.sources.USER){S.show(),S.root.style.left="0px",S.root.style.width="",S.root.style.width=S.root.offsetWidth+"px";var X=S.quill.getLines(D.index,D.length);if(X.length===1)S.position(S.quill.getBounds(D));else{var J=X[X.length-1],nt=S.quill.getIndex(J),Y=Math.min(J.length()-1,D.index+D.length-nt),F=S.quill.getBounds(new c.Range(nt,Y));S.position(F)}}else document.activeElement!==S.textbox&&S.quill.hasFocus()&&S.hide()}),S}return g(M,[{key:"listen",value:function(){var k=this;_(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){k.root.classList.remove("ql-editing")}),this.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!k.root.classList.contains("ql-hidden")){var S=k.quill.getSelection();S!=null&&k.position(k.quill.getBounds(S))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(k){var S=_(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"position",this).call(this,k),N=this.root.querySelector(".ql-tooltip-arrow");if(N.style.marginLeft="",S===0)return S;N.style.marginLeft=-1*S-N.offsetWidth/2+"px"}}]),M}(f.BaseTooltip);I.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),i.BubbleTooltip=I,i.default=P},function(o,i,s){o.exports=s(63)}]).default})})(rl);var r_=rl.exports,o_=se&&se.__extends||function(){var r=function(a,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var _ in s)s.hasOwnProperty(_)&&(i[_]=s[_])},r(a,o)};return function(a,o){r(a,o);function i(){this.constructor=a}a.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ii=se&&se.__assign||function(){return Ii=Object.assign||function(r){for(var a,o=1,i=arguments.length;o<i;o++){a=arguments[o];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},Ii.apply(this,arguments)},a_=se&&se.__spreadArrays||function(){for(var r=0,a=0,o=arguments.length;a<o;a++)r+=arguments[a].length;for(var i=Array(r),s=0,a=0;a<o;a++)for(var _=arguments[a],g=0,T=_.length;g<T;g++,s++)i[s]=_[g];return i},Xi=se&&se.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},Ae=Xi(vt),s_=Xi(io),$n=Xi(i_),Va=Xi(r_),l_=function(r){o_(a,r);function a(o){var i=r.call(this,o)||this;i.dirtyProps=["modules","formats","bounds","theme","children"],i.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],i.state={generation:0},i.selection=null,i.onEditorChange=function(_,g,T,x){var O,y,f,u;_==="text-change"?(y=(O=i).onEditorChangeText)===null||y===void 0||y.call(O,i.editor.root.innerHTML,g,x,i.unprivilegedEditor):_==="selection-change"&&((u=(f=i).onEditorChangeSelection)===null||u===void 0||u.call(f,g,x,i.unprivilegedEditor))};var s=i.isControlled()?o.value:o.defaultValue;return i.value=s??"",i}return a.prototype.validateProps=function(o){var i;if(Ae.default.Children.count(o.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Ae.default.Children.count(o.children)){var s=Ae.default.Children.only(o.children);if(((i=s)===null||i===void 0?void 0:i.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&o.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},a.prototype.shouldComponentUpdate=function(o,i){var s=this,_;if(this.validateProps(o),!this.editor||this.state.generation!==i.generation)return!0;if("value"in o){var g=this.getEditorContents(),T=(_=o.value,_??"");this.isEqualValue(T,g)||this.setEditorContents(this.editor,T)}return o.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,o.readOnly),a_(this.cleanProps,this.dirtyProps).some(function(x){return!$n.default(o[x],s.props[x])})},a.prototype.shouldComponentRegenerate=function(o){var i=this;return this.dirtyProps.some(function(s){return!$n.default(o[s],i.props[s])})},a.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},a.prototype.componentWillUnmount=function(){this.destroyEditor()},a.prototype.componentDidUpdate=function(o,i){var s=this;if(this.editor&&this.shouldComponentRegenerate(o)){var _=this.editor.getContents(),g=this.editor.getSelection();this.regenerationSnapshot={delta:_,selection:g},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==i.generation){var T=this.regenerationSnapshot,_=T.delta,x=T.selection;delete this.regenerationSnapshot,this.instantiateEditor();var O=this.editor;O.setContents(_),Ya(function(){return s.setEditorSelection(O,x)})}},a.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},a.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},a.prototype.isControlled=function(){return"value"in this.props},a.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},a.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},a.prototype.createEditor=function(o,i){var s=new Va.default(o,i);return i.tabIndex!=null&&this.setEditorTabIndex(s,i.tabIndex),this.hookEditor(s),s},a.prototype.hookEditor=function(o){this.unprivilegedEditor=this.makeUnprivilegedEditor(o),o.on("editor-change",this.onEditorChange)},a.prototype.unhookEditor=function(o){o.off("editor-change",this.onEditorChange)},a.prototype.getEditorContents=function(){return this.value},a.prototype.getEditorSelection=function(){return this.selection},a.prototype.isDelta=function(o){return o&&o.ops},a.prototype.isEqualValue=function(o,i){return this.isDelta(o)&&this.isDelta(i)?$n.default(o.ops,i.ops):$n.default(o,i)},a.prototype.setEditorContents=function(o,i){var s=this;this.value=i;var _=this.getEditorSelection();typeof i=="string"?o.setContents(o.clipboard.convert(i)):o.setContents(i),Ya(function(){return s.setEditorSelection(o,_)})},a.prototype.setEditorSelection=function(o,i){if(this.selection=i,i){var s=o.getLength();i.index=Math.max(0,Math.min(i.index,s-1)),i.length=Math.max(0,Math.min(i.length,s-1-i.index)),o.setSelection(i)}},a.prototype.setEditorTabIndex=function(o,i){var s,_;!((_=(s=o)===null||s===void 0?void 0:s.scroll)===null||_===void 0)&&_.domNode&&(o.scroll.domNode.tabIndex=i)},a.prototype.setEditorReadOnly=function(o,i){i?o.disable():o.enable()},a.prototype.makeUnprivilegedEditor=function(o){var i=o;return{getHTML:function(){return i.root.innerHTML},getLength:i.getLength.bind(i),getText:i.getText.bind(i),getContents:i.getContents.bind(i),getSelection:i.getSelection.bind(i),getBounds:i.getBounds.bind(i)}},a.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var o=s_.default.findDOMNode(this.editingArea);if(!o)throw new Error("Cannot find element for editing area");if(o.nodeType===3)throw new Error("Editing area cannot be a text node");return o},a.prototype.renderEditingArea=function(){var o=this,i=this.props,s=i.children,_=i.preserveWhitespace,g=this.state.generation,T={key:g,ref:function(x){o.editingArea=x}};return Ae.default.Children.count(s)?Ae.default.cloneElement(Ae.default.Children.only(s),T):_?Ae.default.createElement("pre",Ii({},T)):Ae.default.createElement("div",Ii({},T))},a.prototype.render=function(){var o;return Ae.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(o=this.props.className,o??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},a.prototype.onEditorChangeText=function(o,i,s,_){var g,T;if(this.editor){var x=this.isDelta(this.value)?_.getContents():_.getHTML();x!==this.getEditorContents()&&(this.lastDeltaChangeSet=i,this.value=x,(T=(g=this.props).onChange)===null||T===void 0||T.call(g,o,i,s,_))}},a.prototype.onEditorChangeSelection=function(o,i,s){var _,g,T,x,O,y;if(this.editor){var f=this.getEditorSelection(),u=!f&&o,c=f&&!o;$n.default(o,f)||(this.selection=o,(g=(_=this.props).onChangeSelection)===null||g===void 0||g.call(_,o,i,s),u?(x=(T=this.props).onFocus)===null||x===void 0||x.call(T,o,i,s):c&&((y=(O=this.props).onBlur)===null||y===void 0||y.call(O,f,i,s)))}},a.prototype.focus=function(){this.editor&&this.editor.focus()},a.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},a.displayName="React Quill",a.Quill=Va.default,a.defaultProps={theme:"snow",modules:{},readOnly:!1},a}(Ae.default.Component);function Ya(r){Promise.resolve().then(r)}var u_=l_;const c_=lu(u_);/*! @license DOMPurify 3.2.2 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.2/LICENSE */const{entries:ol,setPrototypeOf:Xa,isFrozen:f_,getPrototypeOf:h_,getOwnPropertyDescriptor:d_}=Object;let{freeze:re,seal:_e,create:al}=Object,{apply:eo,construct:no}=typeof Reflect<"u"&&Reflect;re||(re=function(a){return a});_e||(_e=function(a){return a});eo||(eo=function(a,o,i){return a.apply(o,i)});no||(no=function(a,o){return new a(...o)});const wi=fe(Array.prototype.forEach),Ja=fe(Array.prototype.pop),Wn=fe(Array.prototype.push),Ai=fe(String.prototype.toLowerCase),Mr=fe(String.prototype.toString),Qa=fe(String.prototype.match),Gn=fe(String.prototype.replace),p_=fe(String.prototype.indexOf),m_=fe(String.prototype.trim),xe=fe(Object.prototype.hasOwnProperty),ie=fe(RegExp.prototype.test),Kn=v_(TypeError);function fe(r){return function(a){for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];return eo(r,a,i)}}function v_(r){return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return no(r,o)}}function Nt(r,a){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ai;Xa&&Xa(r,null);let i=a.length;for(;i--;){let s=a[i];if(typeof s=="string"){const _=o(s);_!==s&&(f_(a)||(a[i]=_),s=_)}r[s]=!0}return r}function g_(r){for(let a=0;a<r.length;a++)xe(r,a)||(r[a]=null);return r}function en(r){const a=al(null);for(const[o,i]of ol(r))xe(r,o)&&(Array.isArray(i)?a[o]=g_(i):i&&typeof i=="object"&&i.constructor===Object?a[o]=en(i):a[o]=i);return a}function Vn(r,a){for(;r!==null;){const i=d_(r,a);if(i){if(i.get)return fe(i.get);if(typeof i.value=="function")return fe(i.value)}r=h_(r)}function o(){return null}return o}const ts=re(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ir=re(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Dr=re(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),__=re(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Br=re(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),y_=re(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),es=re(["#text"]),ns=re(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),zr=re(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),is=re(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ei=re(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),b_=_e(/\{\{[\w\W]*|[\w\W]*\}\}/gm),x_=_e(/<%[\w\W]*|[\w\W]*%>/gm),w_=_e(/\${[\w\W]*}/gm),E_=_e(/^data-[\-\w.\u00B7-\uFFFF]/),O_=_e(/^aria-[\-\w]+$/),sl=_e(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),T_=_e(/^(?:\w+script|data):/i),P_=_e(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ll=_e(/^html$/i),A_=_e(/^[a-z][.\w]*(-[.\w]+)+$/i);var rs=Object.freeze({__proto__:null,ARIA_ATTR:O_,ATTR_WHITESPACE:P_,CUSTOM_ELEMENT:A_,DATA_ATTR:E_,DOCTYPE_NAME:ll,ERB_EXPR:x_,IS_ALLOWED_URI:sl,IS_SCRIPT_OR_DATA:T_,MUSTACHE_EXPR:b_,TMPLIT_EXPR:w_});const Yn={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},S_=function(){return typeof window>"u"?null:window},L_=function(a,o){if(typeof a!="object"||typeof a.createPolicy!="function")return null;let i=null;const s="data-tt-policy-suffix";o&&o.hasAttribute(s)&&(i=o.getAttribute(s));const _="dompurify"+(i?"#"+i:"");try{return a.createPolicy(_,{createHTML(g){return g},createScriptURL(g){return g}})}catch{return console.warn("TrustedTypes policy "+_+" could not be created."),null}},os=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ul(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S_();const a=yt=>ul(yt);if(a.version="3.2.2",a.removed=[],!r||!r.document||r.document.nodeType!==Yn.document)return a.isSupported=!1,a;let{document:o}=r;const i=o,s=i.currentScript,{DocumentFragment:_,HTMLTemplateElement:g,Node:T,Element:x,NodeFilter:O,NamedNodeMap:y=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:f,DOMParser:u,trustedTypes:c}=r,b=x.prototype,d=Vn(b,"cloneNode"),v=Vn(b,"remove"),p=Vn(b,"nextSibling"),m=Vn(b,"childNodes"),E=Vn(b,"parentNode");if(typeof g=="function"){const yt=o.createElement("template");yt.content&&yt.content.ownerDocument&&(o=yt.content.ownerDocument)}let h,P="";const{implementation:I,createNodeIterator:R,createDocumentFragment:M,getElementsByTagName:z}=o,{importNode:k}=i;let S=os();a.isSupported=typeof ol=="function"&&typeof E=="function"&&I&&I.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:N,ERB_EXPR:D,TMPLIT_EXPR:q,DATA_ATTR:Z,ARIA_ATTR:X,IS_SCRIPT_OR_DATA:J,ATTR_WHITESPACE:nt,CUSTOM_ELEMENT:Y}=rs;let{IS_ALLOWED_URI:F}=rs,C=null;const U=Nt({},[...ts,...Ir,...Dr,...Br,...es]);let H=null;const V=Nt({},[...ns,...zr,...is,...Ei]);let W=Object.seal(al(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),B=null,G=null,tt=!0,et=!0,st=!1,dt=!0,_t=!1,bt=!0,Ot=!1,kt=!1,Ut=!1,jt=!1,ot=!1,at=!1,ft=!0,ht=!1;const ut="user-content-";let Tt=!0,wt=!1,Et={},qt=null;const te=Nt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Mt=null;const on=Nt({},["audio","video","img","source","image","track"]);let It=null;const oe=Nt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),an="http://www.w3.org/1998/Math/MathML",$e="http://www.w3.org/2000/svg",ue="http://www.w3.org/1999/xhtml";let Se=ue,Pn=!1,Le=null;const Ji=Nt({},[an,$e,ue],Mr);let sn=Nt({},["mi","mo","mn","ms","mtext"]),We=Nt({},["annotation-xml"]);const ti=Nt({},["title","style","font","a","script"]);let ze=null;const Qi=["application/xhtml+xml","text/html"],tr="text/html";let $t=null,qe=null;const er=o.createElement("form"),ei=function(K){return K instanceof RegExp||K instanceof Function},Ge=function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(qe&&qe===K)){if((!K||typeof K!="object")&&(K={}),K=en(K),ze=Qi.indexOf(K.PARSER_MEDIA_TYPE)===-1?tr:K.PARSER_MEDIA_TYPE,$t=ze==="application/xhtml+xml"?Mr:Ai,C=xe(K,"ALLOWED_TAGS")?Nt({},K.ALLOWED_TAGS,$t):U,H=xe(K,"ALLOWED_ATTR")?Nt({},K.ALLOWED_ATTR,$t):V,Le=xe(K,"ALLOWED_NAMESPACES")?Nt({},K.ALLOWED_NAMESPACES,Mr):Ji,It=xe(K,"ADD_URI_SAFE_ATTR")?Nt(en(oe),K.ADD_URI_SAFE_ATTR,$t):oe,Mt=xe(K,"ADD_DATA_URI_TAGS")?Nt(en(on),K.ADD_DATA_URI_TAGS,$t):on,qt=xe(K,"FORBID_CONTENTS")?Nt({},K.FORBID_CONTENTS,$t):te,B=xe(K,"FORBID_TAGS")?Nt({},K.FORBID_TAGS,$t):{},G=xe(K,"FORBID_ATTR")?Nt({},K.FORBID_ATTR,$t):{},Et=xe(K,"USE_PROFILES")?K.USE_PROFILES:!1,tt=K.ALLOW_ARIA_ATTR!==!1,et=K.ALLOW_DATA_ATTR!==!1,st=K.ALLOW_UNKNOWN_PROTOCOLS||!1,dt=K.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_t=K.SAFE_FOR_TEMPLATES||!1,bt=K.SAFE_FOR_XML!==!1,Ot=K.WHOLE_DOCUMENT||!1,jt=K.RETURN_DOM||!1,ot=K.RETURN_DOM_FRAGMENT||!1,at=K.RETURN_TRUSTED_TYPE||!1,Ut=K.FORCE_BODY||!1,ft=K.SANITIZE_DOM!==!1,ht=K.SANITIZE_NAMED_PROPS||!1,Tt=K.KEEP_CONTENT!==!1,wt=K.IN_PLACE||!1,F=K.ALLOWED_URI_REGEXP||sl,Se=K.NAMESPACE||ue,sn=K.MATHML_TEXT_INTEGRATION_POINTS||sn,We=K.HTML_INTEGRATION_POINTS||We,W=K.CUSTOM_ELEMENT_HANDLING||{},K.CUSTOM_ELEMENT_HANDLING&&ei(K.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=K.CUSTOM_ELEMENT_HANDLING.tagNameCheck),K.CUSTOM_ELEMENT_HANDLING&&ei(K.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=K.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),K.CUSTOM_ELEMENT_HANDLING&&typeof K.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(W.allowCustomizedBuiltInElements=K.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_t&&(et=!1),ot&&(jt=!0),Et&&(C=Nt({},es),H=[],Et.html===!0&&(Nt(C,ts),Nt(H,ns)),Et.svg===!0&&(Nt(C,Ir),Nt(H,zr),Nt(H,Ei)),Et.svgFilters===!0&&(Nt(C,Dr),Nt(H,zr),Nt(H,Ei)),Et.mathMl===!0&&(Nt(C,Br),Nt(H,is),Nt(H,Ei))),K.ADD_TAGS&&(C===U&&(C=en(C)),Nt(C,K.ADD_TAGS,$t)),K.ADD_ATTR&&(H===V&&(H=en(H)),Nt(H,K.ADD_ATTR,$t)),K.ADD_URI_SAFE_ATTR&&Nt(It,K.ADD_URI_SAFE_ATTR,$t),K.FORBID_CONTENTS&&(qt===te&&(qt=en(qt)),Nt(qt,K.FORBID_CONTENTS,$t)),Tt&&(C["#text"]=!0),Ot&&Nt(C,["html","head","body"]),C.table&&(Nt(C,["tbody"]),delete B.tbody),K.TRUSTED_TYPES_POLICY){if(typeof K.TRUSTED_TYPES_POLICY.createHTML!="function")throw Kn('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof K.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Kn('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');h=K.TRUSTED_TYPES_POLICY,P=h.createHTML("")}else h===void 0&&(h=L_(c,s)),h!==null&&typeof P=="string"&&(P=h.createHTML(""));re&&re(K),qe=K}},ni=Nt({},[...Ir,...Dr,...__]),ii=Nt({},[...Br,...y_]),nr=function(K){let ct=E(K);(!ct||!ct.tagName)&&(ct={namespaceURI:Se,tagName:"template"});const mt=Ai(K.tagName),Dt=Ai(ct.tagName);return Le[K.namespaceURI]?K.namespaceURI===$e?ct.namespaceURI===ue?mt==="svg":ct.namespaceURI===an?mt==="svg"&&(Dt==="annotation-xml"||sn[Dt]):!!ni[mt]:K.namespaceURI===an?ct.namespaceURI===ue?mt==="math":ct.namespaceURI===$e?mt==="math"&&We[Dt]:!!ii[mt]:K.namespaceURI===ue?ct.namespaceURI===$e&&!We[Dt]||ct.namespaceURI===an&&!sn[Dt]?!1:!ii[mt]&&(ti[mt]||!ni[mt]):!!(ze==="application/xhtml+xml"&&Le[K.namespaceURI]):!1},he=function(K){Wn(a.removed,{element:K});try{E(K).removeChild(K)}catch{v(K)}},ee=function(K,ct){try{Wn(a.removed,{attribute:ct.getAttributeNode(K),from:ct})}catch{Wn(a.removed,{attribute:null,from:ct})}if(ct.removeAttribute(K),K==="is")if(jt||ot)try{he(ct)}catch{}else try{ct.setAttribute(K,"")}catch{}},gt=function(K){let ct=null,mt=null;if(Ut)K="<remove></remove>"+K;else{const Vt=Qa(K,/^[\r\n\t ]+/);mt=Vt&&Vt[0]}ze==="application/xhtml+xml"&&Se===ue&&(K='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+K+"</body></html>");const Dt=h?h.createHTML(K):K;if(Se===ue)try{ct=new u().parseFromString(Dt,ze)}catch{}if(!ct||!ct.documentElement){ct=I.createDocument(Se,"template",null);try{ct.documentElement.innerHTML=Pn?P:Dt}catch{}}const Ht=ct.body||ct.documentElement;return K&&mt&&Ht.insertBefore(o.createTextNode(mt),Ht.childNodes[0]||null),Se===ue?z.call(ct,Ot?"html":"body")[0]:Ot?ct.documentElement:Ht},An=function(K){return R.call(K.ownerDocument||K,K,O.SHOW_ELEMENT|O.SHOW_COMMENT|O.SHOW_TEXT|O.SHOW_PROCESSING_INSTRUCTION|O.SHOW_CDATA_SECTION,null)},Sn=function(K){return K instanceof f&&(typeof K.nodeName!="string"||typeof K.textContent!="string"||typeof K.removeChild!="function"||!(K.attributes instanceof y)||typeof K.removeAttribute!="function"||typeof K.setAttribute!="function"||typeof K.namespaceURI!="string"||typeof K.insertBefore!="function"||typeof K.hasChildNodes!="function")},Ln=function(K){return typeof T=="function"&&K instanceof T};function de(yt,K,ct){wi(yt,mt=>{mt.call(a,K,ct,qe)})}const ln=function(K){let ct=null;if(de(S.beforeSanitizeElements,K,null),Sn(K))return he(K),!0;const mt=$t(K.nodeName);if(de(S.uponSanitizeElement,K,{tagName:mt,allowedTags:C}),K.hasChildNodes()&&!Ln(K.firstElementChild)&&ie(/<[/\w]/g,K.innerHTML)&&ie(/<[/\w]/g,K.textContent)||K.nodeType===Yn.progressingInstruction||bt&&K.nodeType===Yn.comment&&ie(/<[/\w]/g,K.data))return he(K),!0;if(!C[mt]||B[mt]){if(!B[mt]&&Ne(mt)&&(W.tagNameCheck instanceof RegExp&&ie(W.tagNameCheck,mt)||W.tagNameCheck instanceof Function&&W.tagNameCheck(mt)))return!1;if(Tt&&!qt[mt]){const Dt=E(K)||K.parentNode,Ht=m(K)||K.childNodes;if(Ht&&Dt){const Vt=Ht.length;for(let Qt=Vt-1;Qt>=0;--Qt){const pe=d(Ht[Qt],!0);pe.__removalCount=(K.__removalCount||0)+1,Dt.insertBefore(pe,p(K))}}}return he(K),!0}return K instanceof x&&!nr(K)||(mt==="noscript"||mt==="noembed"||mt==="noframes")&&ie(/<\/no(script|embed|frames)/i,K.innerHTML)?(he(K),!0):(_t&&K.nodeType===Yn.text&&(ct=K.textContent,wi([N,D,q],Dt=>{ct=Gn(ct,Dt," ")}),K.textContent!==ct&&(Wn(a.removed,{element:K.cloneNode()}),K.textContent=ct)),de(S.afterSanitizeElements,K,null),!1)},Nn=function(K,ct,mt){if(ft&&(ct==="id"||ct==="name")&&(mt in o||mt in er))return!1;if(!(et&&!G[ct]&&ie(Z,ct))){if(!(tt&&ie(X,ct))){if(!H[ct]||G[ct]){if(!(Ne(K)&&(W.tagNameCheck instanceof RegExp&&ie(W.tagNameCheck,K)||W.tagNameCheck instanceof Function&&W.tagNameCheck(K))&&(W.attributeNameCheck instanceof RegExp&&ie(W.attributeNameCheck,ct)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(ct))||ct==="is"&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&ie(W.tagNameCheck,mt)||W.tagNameCheck instanceof Function&&W.tagNameCheck(mt))))return!1}else if(!It[ct]){if(!ie(F,Gn(mt,nt,""))){if(!((ct==="src"||ct==="xlink:href"||ct==="href")&&K!=="script"&&p_(mt,"data:")===0&&Mt[K])){if(!(st&&!ie(J,Gn(mt,nt,"")))){if(mt)return!1}}}}}}return!0},Ne=function(K){return K!=="annotation-xml"&&Qa(K,Y)},kn=function(K){de(S.beforeSanitizeAttributes,K,null);const{attributes:ct}=K;if(!ct)return;const mt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H,forceKeepAttr:void 0};let Dt=ct.length;for(;Dt--;){const Ht=ct[Dt],{name:Vt,namespaceURI:Qt,value:pe}=Ht,Ke=$t(Vt);let Xt=Vt==="value"?pe:m_(pe);if(mt.attrName=Ke,mt.attrValue=Xt,mt.keepAttr=!0,mt.forceKeepAttr=void 0,de(S.uponSanitizeAttribute,K,mt),Xt=mt.attrValue,ht&&(Ke==="id"||Ke==="name")&&(ee(Vt,K),Xt=ut+Xt),bt&&ie(/((--!?|])>)|<\/(style|title)/i,Xt)){ee(Vt,K);continue}if(mt.forceKeepAttr||(ee(Vt,K),!mt.keepAttr))continue;if(!dt&&ie(/\/>/i,Xt)){ee(Vt,K);continue}_t&&wi([N,D,q],Fe=>{Xt=Gn(Xt,Fe," ")});const un=$t(K.nodeName);if(Nn(un,Ke,Xt)){if(h&&typeof c=="object"&&typeof c.getAttributeType=="function"&&!Qt)switch(c.getAttributeType(un,Ke)){case"TrustedHTML":{Xt=h.createHTML(Xt);break}case"TrustedScriptURL":{Xt=h.createScriptURL(Xt);break}}try{Qt?K.setAttributeNS(Qt,Vt,Xt):K.setAttribute(Vt,Xt),Sn(K)?he(K):Ja(a.removed)}catch{}}}de(S.afterSanitizeAttributes,K,null)},ir=function yt(K){let ct=null;const mt=An(K);for(de(S.beforeSanitizeShadowDOM,K,null);ct=mt.nextNode();)de(S.uponSanitizeShadowNode,ct,null),!ln(ct)&&(ct.content instanceof _&&yt(ct.content),kn(ct));de(S.afterSanitizeShadowDOM,K,null)};return a.sanitize=function(yt){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ct=null,mt=null,Dt=null,Ht=null;if(Pn=!yt,Pn&&(yt="<!-->"),typeof yt!="string"&&!Ln(yt))if(typeof yt.toString=="function"){if(yt=yt.toString(),typeof yt!="string")throw Kn("dirty is not a string, aborting")}else throw Kn("toString is not a function");if(!a.isSupported)return yt;if(kt||Ge(K),a.removed=[],typeof yt=="string"&&(wt=!1),wt){if(yt.nodeName){const pe=$t(yt.nodeName);if(!C[pe]||B[pe])throw Kn("root node is forbidden and cannot be sanitized in-place")}}else if(yt instanceof T)ct=gt("<!---->"),mt=ct.ownerDocument.importNode(yt,!0),mt.nodeType===Yn.element&&mt.nodeName==="BODY"||mt.nodeName==="HTML"?ct=mt:ct.appendChild(mt);else{if(!jt&&!_t&&!Ot&&yt.indexOf("<")===-1)return h&&at?h.createHTML(yt):yt;if(ct=gt(yt),!ct)return jt?null:at?P:""}ct&&Ut&&he(ct.firstChild);const Vt=An(wt?yt:ct);for(;Dt=Vt.nextNode();)ln(Dt)||(Dt.content instanceof _&&ir(Dt.content),kn(Dt));if(wt)return yt;if(jt){if(ot)for(Ht=M.call(ct.ownerDocument);ct.firstChild;)Ht.appendChild(ct.firstChild);else Ht=ct;return(H.shadowroot||H.shadowrootmode)&&(Ht=k.call(i,Ht,!0)),Ht}let Qt=Ot?ct.outerHTML:ct.innerHTML;return Ot&&C["!doctype"]&&ct.ownerDocument&&ct.ownerDocument.doctype&&ct.ownerDocument.doctype.name&&ie(ll,ct.ownerDocument.doctype.name)&&(Qt="<!DOCTYPE "+ct.ownerDocument.doctype.name+`>
`+Qt),_t&&wi([N,D,q],pe=>{Qt=Gn(Qt,pe," ")}),h&&at?h.createHTML(Qt):Qt},a.setConfig=function(){let yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ge(yt),kt=!0},a.clearConfig=function(){qe=null,kt=!1},a.isValidAttribute=function(yt,K,ct){qe||Ge({});const mt=$t(yt),Dt=$t(K);return Nn(mt,Dt,ct)},a.addHook=function(yt,K){typeof K=="function"&&Wn(S[yt],K)},a.removeHook=function(yt){return Ja(S[yt])},a.removeHooks=function(yt){S[yt]=[]},a.removeAllHooks=function(){S=os()},a}var N_=ul();function k_(){const[r,a]=vt.useState(""),[o,i]=vt.useState(""),[s,_]=vt.useState([]),g=Jn(),T=async x=>{x.preventDefault();const O=new FormData(x.target),y=Object.fromEntries(O);if(!N_.sanitize(r).trim()){i("Description is required");return}try{const u=await De.post("/posts",{postData:{title:y.title,price:parseInt(y.price),images:s,address:y.address,city:y.city,bedroom:parseInt(y.bedroom),bathroom:parseInt(y.bathroom),type:y.type,property:y.property,latitude:y.latitude,longitude:y.longitude},postDetail:{desc:r,utilities:y.utilities,pet:y.pet,income:y.income,size:parseInt(y.size),school:parseInt(y.school),bus:parseInt(y.bus),restaurant:parseInt(y.restaurant)}});g("/"+u.data.id)}catch{}console.log(y)};return A.jsxs("div",{className:"newPostPage",children:[A.jsxs("div",{className:"formContainer",children:[A.jsx("h1",{children:"Add New Post"}),A.jsx("div",{className:"wrapper",children:A.jsxs("form",{onSubmit:T,children:[A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"title",children:"Title"}),A.jsx("input",{id:"title",name:"title",type:"text"})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"price",children:"Price"}),A.jsx("input",{id:"price",min:0,name:"price",type:"number"})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"address",children:"Address"}),A.jsx("input",{id:"address",name:"address",type:"text"})]}),A.jsxs("div",{className:"item description",children:[A.jsx("label",{htmlFor:"desc",children:"Description"}),A.jsx(c_,{theme:"snow",value:r,onChange:a,placeholder:"Write a detailed description here...",modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline","strike"],["link","image"],["clean"]]}})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"city",children:"City"}),A.jsx("input",{id:"city",name:"city",type:"text"})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"bedroom",children:"Bedroom Number"}),A.jsx("input",{min:1,id:"bedroom",name:"bedroom",type:"number"})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"bathroom",children:"Bathroom Number"}),A.jsx("input",{min:1,id:"bathroom",name:"bathroom",type:"number"})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"latitude",children:"Latitude"}),A.jsx("input",{id:"latitude",name:"latitude",type:"text"})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"longitude",children:"Longitude"}),A.jsx("input",{id:"longitude",name:"longitude",type:"text"})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"type",children:"Type"}),A.jsxs("select",{name:"type",children:[A.jsx("option",{value:"rent",defaultChecked:!0,children:"Rent"}),A.jsx("option",{value:"buy",children:"Buy"})]})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"type",children:"Property"}),A.jsxs("select",{name:"property",children:[A.jsx("option",{value:"apartment",children:"Apartment"}),A.jsx("option",{value:"house",children:"House"}),A.jsx("option",{value:"condo",children:"Condo"}),A.jsx("option",{value:"land",children:"Land"})]})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"utilities",children:"Utilities Policy"}),A.jsxs("select",{name:"utilities",children:[A.jsx("option",{value:"owner",children:"Owner is responsible"}),A.jsx("option",{value:"tenant",children:"Tenant is responsible"}),A.jsx("option",{value:"shared",children:"Shared"})]})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"pet",children:"Pet Policy"}),A.jsxs("select",{name:"pet",children:[A.jsx("option",{value:"allowed",children:"Allowed"}),A.jsx("option",{value:"not-allowed",children:"Not Allowed"})]})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"income",children:"Income Policy"}),A.jsx("input",{id:"income",name:"income",type:"text",placeholder:"Income Policy"})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"size",children:"Total Size (sqft)"}),A.jsx("input",{min:0,id:"size",name:"size",type:"number"})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"school",children:"School"}),A.jsx("input",{min:0,id:"school",name:"school",type:"number"})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"bus",children:"bus"}),A.jsx("input",{min:0,id:"bus",name:"bus",type:"number"})]}),A.jsxs("div",{className:"item",children:[A.jsx("label",{htmlFor:"restaurant",children:"Restaurant"}),A.jsx("input",{min:0,id:"restaurant",name:"restaurant",type:"number"})]}),A.jsx("button",{className:"sendButton",children:"Add"}),o&&A.jsx("span",{children:o})]})})]}),A.jsxs("div",{className:"sideContainer",children:[s.map((x,O)=>A.jsx("img",{src:x,alt:""},O)),A.jsx(Hs,{uwConfig:{multiple:!0,cloudName:"pelumi4",uploadPreset:"estate",maxImageFileSize:2e6,folder:"posts"},setState:_})]})]})}const C_=async({request:r,params:a})=>({post:(await De("/posts/"+a.id)).data}),R_=async({request:r,params:a})=>{var o;try{const i=r.url.split("?")[1],s=await De("/posts?"+i);return ss({postResponse:s})}catch(i){throw console.error("Failed to fetch posts:",i.message),new Response("Failed to load posts",{status:((o=i.response)==null?void 0:o.status)||500})}},j_=async({request:r,params:a})=>{var o;try{const i=r.url.split("?")[1],s=await De("/users/profilePosts");return ss({postResponse:s})}catch(i){throw console.error("Failed to fetch posts:",i.message),new Response("Failed to load posts",{status:((o=i.response)==null?void 0:o.status)||500})}};function M_(){const r=uu([{path:"/",element:A.jsx(Fu,{}),children:[{path:"/",element:A.jsx(bu,{})},{path:"/list",element:A.jsx(qu,{}),loader:R_},{path:"/:id",element:A.jsx(Of,{}),loader:C_},{path:"/login",element:A.jsx(Af,{})},{path:"/register",element:A.jsx(Sf,{})}]},{path:"/",element:A.jsx(Uu,{}),children:[{path:"/profile",element:A.jsx(Pf,{}),loader:j_},{path:"/profile/update",element:A.jsx(Nf,{})},{path:"/add",element:A.jsx(k_,{})}]}]);return A.jsx(cu,{router:r})}qr.createRoot(document.getElementById("root")).render(A.jsx(Si.StrictMode,{children:A.jsx(yu,{children:A.jsx(M_,{})})}));
